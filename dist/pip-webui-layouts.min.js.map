{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auxpanel/AuxPanelDirective.ts","src/auxpanel/AuxPanelPartDirective.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/index.ts","src/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","layouts","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","MediaService_1","AuxPanelDirective","restrict","replace","controller","AuxPanelDirectiveController","transclude","controllerAs","pipAuxPanel","_pipAuxPanel","$inject","prototype","isGtxs","Number","$","width","MainBreakpoints","xs","isOpen","directive","../media/MediaService","2","AuxPanelPartDirectiveController","$scope","$element","$attrs","$rootScope","onAuxPanelChanged","event","config","currentPartValue","parts","partName","visible","partValue","pipAuxPanelPart","pos","indexOf","substr","$on","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","link","apply","angular","3","hookAuxPanelEvents","OpenAuxPanelEvent","open","CloseAuxPanelEvent","close","AuxPanelChangedEvent","AuxPanelStateChangedEvent","AuxPanelConfig","AuxPanelService","$mdSidenav","id","_config","_rootScope","_sidenav","classes","sendConfigEvent","_state","$broadcast","value","enumerable","configurable","toggle","addClass","_i","arguments","_","each","c","_this","push","removeClass","reject","cc","part","$emit","AuxPanelProvider","type","_service","$get","__export","m","p","hasOwnProperty","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/MediaService","./media/ResizeFunctions","6","CardDirectiveLink","_element","_attrs","listener","resize","MainResizedEvent","setTimeout","left","top","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","Math","floor","minHeight","MainBreakpointStatuses","space","min","css","hasClass","max","$header","find","$footer","$body","maxBodyHeight","outerHeight","cardDirective","7","dialogDirective","documentDirective","9","mainDirective","MainDirectiveController","mainBodyDirective","MainBodyDirectiveLink","$timeout","_timeout","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","update","breakpoint","status","isBoolean","$apply","../media/ResizeFunctions","10","simpleDirective","tilesDirective","convertToBoolean","toString","toLowerCase","pipInfinite","String","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","_columnWidth","columnWidth","_container","children","_prevContainerWidth","_masonry","Masonry","data","_sizer","appendTo","force","parent","log","columns","containerWidth","layout","LayoutResizedEvent","12","MediaBreakpoints","sm","md","lg","MediaBreakpointStatuses","breakpoints","MediaProvider","set","size","Object","defineProperty","service","get","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","defaultView","__resizeElement__","addEventListener","resizeListener","element","attachEvent","getComputedStyle","position","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","splice","detachEvent","navigator","userAgent","match"],"mappings":"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","file":"pip-webui-layouts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nimport { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './AuxPanelService';\r\n\r\n(() => {\r\n\r\nclass AuxPanelDirectiveController {\r\n    private _pipAuxPanel: IAuxPanelService;\r\n\r\n    public constructor(pipAuxPanel: IAuxPanelService) {\r\n        this._pipAuxPanel = pipAuxPanel;\r\n    }\r\n\r\n    public isGtxs():boolean {\r\n        return Number($('body').width()) > MainBreakpoints.xs && this._pipAuxPanel.isOpen();\r\n    }\r\n}\r\n\r\nfunction AuxPanelDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        replace: true,\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        controllerAs: 'vm',\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\"' + \r\n                    'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"vm.isGtxs()\" pip-focused ng-transclude>' + \r\n                    '</md-sidenav>'\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .directive('pipAuxPanel', AuxPanelDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction AuxPanelPartDirectiveController($scope, $element, $attrs, $rootScope, pipAuxPanel) {\r\n    \"ngInject\";\r\n\r\n    var partName = '' + $attrs.pipAuxPanelPart;\r\n    var partValue = null;\r\n\r\n    // Break part apart\r\n    var pos = partName.indexOf(':');\r\n    if (pos > 0) {\r\n        partValue = partName.substr(pos + 1);\r\n        partName = partName.substr(0, pos);\r\n    }\r\n\r\n    onAuxPanelChanged(null, pipAuxPanel.config)\r\n    $rootScope.$on('pipAuxPanelChanged', onAuxPanelChanged);\r\n\r\n    function onAuxPanelChanged(event, config) {\r\n        var parts = config.parts || {};\r\n        var currentPartValue = config[partName];\r\n        // Set visible variable to switch ngIf\r\n\r\n        $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\r\n    }\r\n\r\n}\r\n\r\nfunction AuxPanelPartDirective(ngIfDirective) {\r\n    \"ngInject\";\r\n\r\n    var ngIf = ngIfDirective[0];\r\n\r\n    return {\r\n        transclude: ngIf.transclude,\r\n        priority: ngIf.priority,\r\n        terminal: ngIf.terminal,\r\n        restrict: ngIf.restrict,\r\n        scope: true,\r\n        link: function($scope: any, $element, $attrs) {\r\n            // Visualize based on visible variable in scope\r\n            $attrs.ngIf = function() { return $scope.visible };\r\n            ngIf.link.apply(ngIf);\r\n        },\r\n        controller: AuxPanelPartDirectiveController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport let AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport let OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport let CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n    }\r\n            \r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n  \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","'use strict';\r\n\r\nangular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPartDirective';\r\nimport './AuxPanelDirective';\r\n\r\nexport * from './AuxPanelService';","'use strict';\r\n\r\nangular.module('pipLayout', ['wu.masonry', 'pipAuxPanel']);\r\n\r\nimport './media/MediaService';\r\nimport './media/ResizeFunctions';\r\n\r\nimport './layouts/MainDirective';\r\nimport './layouts/CardDirective';\r\nimport './layouts/DialogDirective';\r\nimport './layouts/DocumentDirective';\r\nimport './layouts/SimpleDirective';\r\nimport './layouts/TilesDirective';\r\nimport './auxpanel/index';\r\n\r\nexport * from './media/MediaService';\r\nexport * from './media/ResizeFunctions';","'use strict';\r\n\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nclass CardDirectiveLink {\r\n    private _element: any;\r\n    private _attrs: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor($rootScope: ng.IRootScopeService, $element: any, $attrs: any) {\r\n        this._element = $element;\r\n        this._rootScope = $rootScope;\r\n        this._attrs = $attrs;\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        var\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width(),\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this._attrs.minWidth ? Math.floor(this._attrs.minWidth) : null,\r\n            minHeight = this._attrs.minHeight ? Math.floor(this._attrs.minHeight) : null,\r\n            width = this._attrs.width ? Math.floor(this._attrs.width) : null,\r\n            height = this._attrs.height ? Math.floor(this._attrs.height) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            var space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this._element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this._element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this._element.css('width', width ? width + 'px' : '');\r\n        this._element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this._element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this._element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            var\r\n                $header = this._element.find('.pip-header:visible'),\r\n                $footer = this._element.find('.pip-footer:visible'),\r\n                $body = this._element.find('.pip-body'),\r\n                maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this._element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this._element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this._element.css('left', left);\r\n            this._element.css('top', top);\r\n\r\n            setTimeout(() => { this._element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this._rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nclass MainDirectiveController {\r\n    private _element: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._element = $element;        \r\n        this._rootScope = $rootScope;\r\n        this._timeout = $timeout;\r\n\r\n        // Add CSS class\r\n        $element.addClass('pip-main');\r\n\r\n        // Add resize listener\r\n        let listener = () => { this.resize(); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Perform initial calculations\r\n        this.updateBreakpointStatuses();\r\n    }\r\n\r\n    private updateBreakpointStatuses() {\r\n        let width = this._element.innerWidth();\r\n        let body = $('body');\r\n\r\n        MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n            if (_.isBoolean(status))\r\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\r\n        });\r\n\r\n        this._timeout(() => {\r\n            this._rootScope.$apply();\r\n        });\r\n    }\r\n    \r\n    private resize() {\r\n        this.updateBreakpointStatuses();\r\n        this._rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n    }\r\n}\r\n\r\nclass MainBodyDirectiveLink {\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: any\r\n    ) {\r\n        // Add CSS class\r\n        $element.addClass('pip-main-body');\r\n    }\r\n}\r\n\r\nfunction mainDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        controller: MainDirectiveController,\r\n        controllerAs: 'vm' \r\n    }\r\n}\r\n\r\nfunction mainBodyDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: MainBodyDirectiveLink\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipMain', mainDirective)\r\n    .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction simpleDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-simple');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipSimple', simpleDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\nclass TilesDirectiveLink {\r\n    private _element: any;\r\n    private _attrs: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor($scope: ng.IScope, $element: any, $rootScope: ng.IRootScopeService, $attrs: any) {\r\n        this._element = $element;\r\n        this._rootScope = $rootScope;\r\n        this._attrs = $attrs;\r\n\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor($attrs.columnWidth) : 440,\r\n        this._container = $element.children('.pip-tiles-container'),\r\n        this._prevContainerWidth = null,\r\n        this._masonry = Masonry.data(this._container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        let listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this._element.parent().width();\r\n        let containerWidth;\r\n        \r\n        console.log();\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this._rootScope.$emit(LayoutResizedEvent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value) {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: false,\r\n        transclude: true,\r\n        template:\r\n            ($element: any, $attrs: any) => {\r\n                if (convertToBoolean($attrs.pipInfinite)) {\r\n                    return String()\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n                } else {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\">'\r\n                        + '</div>';\r\n                }\r\n            },\r\n        controller: ($scope: any) => {\r\n            $scope.tilesOptions = {\r\n                gutter: 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope, $element, $attrs) => {\r\n            new TilesDirectiveLink($scope, $element, $rootScope, $attrs);\r\n        } \r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","'use strict';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport let MainResizedEvent: string = 'pipMainResized';\r\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\r\n\r\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 1110, 1220, 1599);\r\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}\r\n\r\nclass MediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        let service = function(size) {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 1110, 1220, 1599);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .provider('pipMedia', MediaProvider);\r\n","'use strict';\r\n\r\nlet attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n    let frame = window.requestAnimationFrame \r\n        || (<any>window).mozRequestAnimationFrame \r\n        || (<any>window).webkitRequestAnimationFrame \r\n        || function(callback) { \r\n            return window.setTimeout(callback, 20);     \r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n    let cancel = window.cancelAnimationFrame \r\n        || (<any>window).mozCancelAnimationFrame \r\n        || (<any>window).webkitCancelAnimationFrame \r\n        || window.clearTimeout;\r\n\r\n    return function(id) { \r\n        return cancel(id); \r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    var win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function() {\r\n        var trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function(fn){\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            var obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n        }\r\n    }\r\n}\r\n"]}