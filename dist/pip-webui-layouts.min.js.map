{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","layouts","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","MediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","prototype","isGtxs","Number","$","width","MainBreakpoints","xs","isOpen","isGtlg","lg","AuxPanel","controller","transclude","template","angular","component","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","restrict","$scope","$element","$attrs","link","apply","AuxPanelPartController_1","$inject","$rootScope","_this","partName","pipAuxPanelPart","pos","indexOf","partValue","substr","onAuxPanelChanged","config","$on","event","currentPartValue","parts","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","open","CloseAuxPanelEvent","close","Object","defineProperty","value","AuxPanelService","$mdSidenav","id","_config","_rootScope","_sidenav","enumerable","set","_state","configurable","toggle","addClass","_i","arguments","classes","_","each","c","push","sendConfigEvent","removeClass","reject","cc","part","$emit","AuxPanelChangedEvent","AuxPanelProvider","type","state","_service","$get","./IAuxPanelService","4","AuxPanelStateChangedEvent","AuxPanelConfig","p","m","hasOwnProperty","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","7","IMediaService_1","cardDirective","CardDirectiveLink","listener","resize","MainResizedEvent","setTimeout","left","top","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","Math","floor","minHeight","MainBreakpointStatuses","space","min","css","hasClass","max","$header","find","$footer","$body","maxBodyHeight","outerHeight","directive","../media/MediaService","8","dialogDirective","10","ResizeFunctions_1","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","$timeout","_container","pipContainer","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","update","breakpoint","status","isBoolean","$apply","../media/ResizeFunctions","11","simpleDirective","12","convertToBoolean","toString","toLowerCase","pipInfinite","String","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","children","_prevContainerWidth","_masonry","Masonry","data","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","tilesDirective","13","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","14","MediaProvider","size","service","get","provider","15","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","target","srcElement","win","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","element","attachEvent","getComputedStyle","position","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","splice","detachEvent","userAgent","match","16","__export"],"mappings":"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","file":"pip-webui-layouts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './IAuxPanelService';\n\n{\n    class AuxPanelDirectiveController {\n        private normalSize: number = 320;\n        private largeSize: number = 480;\n\n        public constructor(private pipAuxPanel: IAuxPanelService) { }\n\n        public isGtxs(): boolean {\n            return Number($('body').width()) > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\n        }\n\n        public isGtlg(): boolean {\n            return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\n        }\n    }\n\n    const AuxPanel: ng.IComponentOptions = {\n\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" pip-focused ng-transclude>' +\n        '</md-sidenav>'\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .component('pipAuxPanel', AuxPanel);\n\n}","{\n\n    class AuxPanelPartController {\n        private partName: string;\n        private partValue: string;\n        private pos: number;\n\n        constructor(\n            private $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs,\n            $rootScope: ng.IRootScopeService,\n            pipAuxPanel) {\n\n            this.partName = '' + $attrs.pipAuxPanelPart;\n            this.pos = this.partName.indexOf(':');\n            if (this.pos > 0) {\n                this.partValue = this.partName.substr(this.pos + 1);\n                this.partName = this.partName.substr(0, this.pos);\n            }\n\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\n                this.onAuxPanelChanged(event, config);\n            });\n\n        }\n\n        private onAuxPanelChanged(event, config) {\n            let parts = config.parts || {};\n            let currentPartValue = config[this.partName];\n            // Set visible variable to switch ngIf\n\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\n        }\n    }\n\n\n    function AuxPanelPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        let ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function ($scope: ng.IScope, $element, $attrs) {\n                // Visualize based on visible variable in scope\n                $attrs.ngIf = () => { return $scope['visible'] };\n                ngIf.link.apply(ngIf);\n            },\n            controller: AuxPanelPartController\n        };\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent } from './IAuxPanelService';\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n    }\n            \n    public close() {\n        this._sidenav(this.id).close();\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n  \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }     \n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}","angular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPart';\nimport './AuxPanel';\n\nexport * from './IAuxPanelService';","angular.module('pipLayout', ['wu.masonry', 'pipMedia', 'pipAuxPanel']);\n\nimport './media/index';\n\nimport './layouts/MainDirective';\nimport './layouts/CardDirective';\nimport './layouts/DialogDirective';\nimport './layouts/DocumentDirective';\nimport './layouts/SimpleDirective';\nimport './layouts/TilesDirective';\nimport './auxpanel/index';\n\nexport * from './media/index';\n","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\ninterface ICardDirectiveAttributes extends ng.IAttributes {\n    minWidth: string | number;\n    minHeight: string | number;\n    width: string | number;\n    height: string | number;\n}\n\nclass CardDirectiveLink {\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService, \n        private $element: JQuery, \n        private $attrs: ICardDirectiveAttributes\n    ) {\n\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        const\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width();\n        let\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this.$element.css('width', width ? width + 'px' : '');\n        this.$element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\n            const\n                $header = this.$element.find('.pip-header:visible'),\n                $footer = this.$element.find('.pip-footer:visible'),\n                $body = this.$element.find('.pip-body');\n            let maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\n            }\n\n            this.$element.css('left', left);\n            this.$element.css('top', top);\n\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this.$rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction dialogDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction documentDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent } from '../media/IMediaService'; \nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService'; \n\n// Avoid default export\n(() => {\n\ninterface IMainDirectiveAttributes extends ng.IAttributes {\n    pipContainer: string;\n}\n\nclass MainDirectiveController implements ng.IController {\n    private _container: any;\n\n    public constructor(\n        private $scope: ng.IScope, \n        private $element: angular.IRootElementService, \n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $attrs: IMainDirectiveAttributes\n    ) {\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n        // Add CSS class\n        $element.addClass('pip-main');\n\n        // Add resize listener\n        const listener = () => { this.resize(); };\n        addResizeListener(this._container[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener(this._container[0], listener);\n        });\n\n        // Perform initial calculations\n        this.updateBreakpointStatuses();\n    }\n\n    private updateBreakpointStatuses() {\n        const width = this._container.innerWidth();\n        const body = $('body');\n\n        MainBreakpointStatuses.update(MainBreakpoints, width);\n\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\n            if (_.isBoolean(status)) {\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\n            }\n        });\n\n        this.$timeout(() => {\n            this.$rootScope.$apply();\n        });\n    }\n    \n    private resize() {\n        this.updateBreakpointStatuses();\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n    }\n}\n\nclass MainBodyDirectiveLink {\n    public constructor(\n        $scope: ng.IScope, \n        $element: angular.IRootElementService\n    ) {\n        // Add CSS class\n        $element.addClass('pip-main-body');\n    }\n}\n\nfunction mainDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        controller: MainDirectiveController,\n        controllerAs: 'vm' \n    }\n}\n\nfunction mainBodyDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: MainBodyDirectiveLink\n    }\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipMain', mainDirective)\n    .directive('pipMainBody', mainBodyDirective);\n\n})();","(() => {\n\nfunction simpleDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-simple');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipSimple', simpleDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\n    columnWidth: string | number;\n    pipInfinite: string | boolean | number;\n}\n\nclass TilesOptions {\n    gutter: number;\n    isFitWidth: boolean;\n    isResizeBound: boolean;\n    transitionDuration: number;\n}\n\ninterface ITilesControllerScope extends ng.IScope {\n    tilesOptions: TilesOptions;\n}\n\nclass TilesDirectiveLink {\n    private _columnWidth: number;\n    private _container: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor(\n        $scope: ng.IScope, \n        private $element: JQuery, \n        private $attrs: ITilesDirectiveAttributes,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\n        this._container = $element.children('.pip-tiles-container'),\n        this._prevContainerWidth = null,\n        this._masonry = Masonry.data(this._container[0]);\n        \n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        const listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this.$element.parent().width(),\n            containerWidth;\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this.$rootScope.$emit(LayoutResizedEvent);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value): boolean {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: false,\n        transclude: true,\n        template:\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n                if (convertToBoolean($attrs.pipInfinite)) {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\n                        + '</div>';\n                } else {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\">'\n                        + '</div>';\n                }\n            },\n        controller: ($scope: ITilesControllerScope) => {\n            $scope.tilesOptions = {\n                gutter: 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","export const MainResizedEvent = 'pipMainResized';\nexport const LayoutResizedEvent = 'pipLayoutResized';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\nimport { IMediaProvider } from './IMediaService';\n\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\n\nclass MediaProvider implements IMediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        const service = (size) => {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","let attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n    let frame = window.requestAnimationFrame \n        || (<any>window).mozRequestAnimationFrame \n        || (<any>window).webkitRequestAnimationFrame \n        || function(callback) { \n            return window.setTimeout(callback, 20);     \n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n    let cancel = window.cancelAnimationFrame \n        || (<any>window).mozCancelAnimationFrame \n        || (<any>window).webkitCancelAnimationFrame \n        || window.clearTimeout;\n\n    return function(id) { \n        return cancel(id); \n    };\n}\n\nfunction resizeListener(event: any): void {\n    const win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function() {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function(fn){\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nexport function addResizeListener(element, listener): void {\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n        }\n    }\n}\n","angular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './IMediaService';\nexport * from './MediaService';\nexport * from './ResizeFunctions';"]}