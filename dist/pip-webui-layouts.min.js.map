{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/index.ts","src/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","layouts","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","MediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","prototype","isGtxs","Number","$","width","MainBreakpoints","xs","isOpen","isGtlg","lg","AuxPanel","controller","transclude","template","angular","component","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","restrict","$scope","$element","$attrs","link","apply","AuxPanelPartController","$inject","$rootScope","_this","partName","pipAuxPanelPart","pos","indexOf","partValue","substr","onAuxPanelChanged","config","$on","event","currentPartValue","parts","hookAuxPanelEvents","OpenAuxPanelEvent","open","CloseAuxPanelEvent","close","Object","defineProperty","value","AuxPanelChangedEvent","AuxPanelStateChangedEvent","AuxPanelConfig","AuxPanelService","$mdSidenav","id","_config","_rootScope","_sidenav","enumerable","set","_state","configurable","toggle","addClass","_i","arguments","classes","_","each","c","push","sendConfigEvent","removeClass","reject","cc","part","$emit","AuxPanelProvider","type","state","_service","$get","provider","p","m","hasOwnProperty","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","6","cardDirective","CardDirectiveLink","listener","resize","MainResizedEvent","setTimeout","left","top","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","Math","floor","minHeight","MainBreakpointStatuses","space","min","css","hasClass","max","$header","find","$footer","$body","maxBodyHeight","outerHeight","directive","7","dialogDirective","9","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","$timeout","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","update","breakpoint","status","isBoolean","$apply","../media/ResizeFunctions","10","simpleDirective","11","convertToBoolean","toString","toLowerCase","pipInfinite","String","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","children","_prevContainerWidth","_masonry","Masonry","data","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","tilesDirective","12","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","service","get","13","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","target","srcElement","win","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","element","attachEvent","getComputedStyle","position","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","splice","detachEvent","removeChild","userAgent","match","14","__export"],"mappings":"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","file":"pip-webui-layouts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nimport { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './AuxPanelService';\r\n\r\n(() => {\r\n\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n\r\n        public constructor(private pipAuxPanel: IAuxPanelService) { }\r\n\r\n        public isGtxs(): boolean {\r\n            return Number($('body').width()) > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" pip-focused ng-transclude>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n})();","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nclass AuxPanelPartController {\r\n    private partName: string;\r\n    private partValue: string;\r\n    private pos: number;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope, \r\n        $element: ng.IRootElementService, \r\n        $attrs, \r\n        $rootScope: ng.IRootScopeService, \r\n        pipAuxPanel) {\r\n\r\n        this.partName = '' + $attrs.pipAuxPanelPart;\r\n        this.pos = this.partName.indexOf(':');\r\n        if (this.pos > 0) {\r\n            this.partValue = this.partName.substr(this.pos + 1);\r\n            this.partName = this.partName.substr(0, this.pos);\r\n        }\r\n\r\n        this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n        $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n            this.onAuxPanelChanged(event, config);\r\n        });\r\n\r\n    }\r\n\r\n    private onAuxPanelChanged(event, config) {\r\n        let parts = config.parts || {};\r\n        let currentPartValue = config[this.partName];\r\n        // Set visible variable to switch ngIf\r\n\r\n        this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n    }\r\n}\r\n\r\n\r\nfunction AuxPanelPartDirective(ngIfDirective) {\r\n    \"ngInject\";\r\n\r\n    let ngIf = ngIfDirective[0];\r\n\r\n    return {\r\n        transclude: ngIf.transclude,\r\n        priority: ngIf.priority,\r\n        terminal: ngIf.terminal,\r\n        restrict: ngIf.restrict,\r\n        scope: true,\r\n        link: function($scope: ng.IScope, $element, $attrs) {\r\n            // Visualize based on visible variable in scope\r\n            $attrs.ngIf = () => { return $scope['visible'] };\r\n            ngIf.link.apply(ngIf);\r\n        },\r\n        controller: AuxPanelPartController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n    }\r\n            \r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n  \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","'use strict';\r\n\r\nangular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './AuxPanelService';","'use strict';\r\n\r\nangular.module('pipLayout', ['wu.masonry', 'pipMedia', 'pipAuxPanel']);\r\n\r\nimport './media/index';\r\n\r\nimport './layouts/MainDirective';\r\nimport './layouts/CardDirective';\r\nimport './layouts/DialogDirective';\r\nimport './layouts/DocumentDirective';\r\nimport './layouts/SimpleDirective';\r\nimport './layouts/TilesDirective';\r\nimport './auxpanel/index';\r\n\r\nexport * from './media/index';\r\n","'use strict';\r\n\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface IMainDirectiveAttributes extends ng.IAttributes {\r\n    pipContainer: string;\r\n}\r\n\r\nclass MainDirectiveController implements ng.IController {\r\n    private _container: any;\r\n\r\n    public constructor(\r\n        private $scope: ng.IScope, \r\n        private $element: angular.IRootElementService, \r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private $attrs: IMainDirectiveAttributes\r\n    ) {\r\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n        // Add CSS class\r\n        $element.addClass('pip-main');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(); };\r\n        addResizeListener(this._container[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener(this._container[0], listener);\r\n        });\r\n\r\n        // Perform initial calculations\r\n        this.updateBreakpointStatuses();\r\n    }\r\n\r\n    private updateBreakpointStatuses() {\r\n        const width = this._container.innerWidth();\r\n        const body = $('body');\r\n\r\n        MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n            if (_.isBoolean(status)) {\r\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\r\n            }\r\n        });\r\n\r\n        this.$timeout(() => {\r\n            this.$rootScope.$apply();\r\n        });\r\n    }\r\n    \r\n    private resize() {\r\n        this.updateBreakpointStatuses();\r\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n    }\r\n}\r\n\r\nclass MainBodyDirectiveLink {\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: angular.IRootElementService\r\n    ) {\r\n        // Add CSS class\r\n        $element.addClass('pip-main-body');\r\n    }\r\n}\r\n\r\nfunction mainDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        controller: MainDirectiveController,\r\n        controllerAs: 'vm' \r\n    }\r\n}\r\n\r\nfunction mainBodyDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: MainBodyDirectiveLink\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipMain', mainDirective)\r\n    .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction simpleDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-simple');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipSimple', simpleDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        private $element: JQuery, \r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\r\n        this._container = $element.children('.pip-tiles-container'),\r\n        this._prevContainerWidth = null,\r\n        this._masonry = Masonry.data(this._container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: false,\r\n        transclude: true,\r\n        template:\r\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n                if (convertToBoolean($attrs.pipInfinite)) {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                        + '</div>';\r\n                } else {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\">'\r\n                        + '</div>';\r\n                }\r\n            },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","'use strict';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport let MainResizedEvent: string = 'pipMainResized';\r\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\r\n\r\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = function(size) {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","'use strict';\r\n\r\nlet attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n    let frame = window.requestAnimationFrame \r\n        || (<any>window).mozRequestAnimationFrame \r\n        || (<any>window).webkitRequestAnimationFrame \r\n        || function(callback) { \r\n            return window.setTimeout(callback, 20);     \r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n    let cancel = window.cancelAnimationFrame \r\n        || (<any>window).mozCancelAnimationFrame \r\n        || (<any>window).webkitCancelAnimationFrame \r\n        || window.clearTimeout;\r\n\r\n    return function(id) { \r\n        return cancel(id); \r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function() {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function(fn){\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n        }\r\n    }\r\n}\r\n","'use strict';\r\n\r\nangular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';"]}