!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.pip||(t.pip={})).layouts=e()}}(function(){return function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[r]={exports:{}};t[r][0].call(p.exports,function(e){var i=t[r][1][e];return o(i||e)},p,p.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../media/MediaService"),o=e("../media/IMediaService"),s=function(){function e(e,t){"ngInject";var i=this;this.$rootScope=e,this.pipAuxPanel=t,this.normalSize=320,this.largeSize=480,this.gtxs=null,this.gtlg=null,this.bodyElement=$("body"),this.bodyWidth=this.bodyElement.width(),e.$on(o.LayoutResizedEvent,function(){i.bodyWidth=i.bodyElement.width()})}return e.$inject=["$rootScope","pipAuxPanel"],e.prototype.isGtxs=function(){return!!this.pipAuxPanel.isOpen()&&(this.bodyWidth=this.bodyElement.width(),this.bodyWidth>n.MainBreakpoints.xs)},e.prototype.isGtlg=function(){return!!this.pipAuxPanel.isOpen()&&(this.bodyWidth=this.bodyElement.width(),this.bodyWidth>n.MainBreakpoints.lg+this.largeSize)},e}(),r={controller:s,transclude:!0,template:'<md-sidenav class="md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg" ng-class="{\'pip-large\': $ctrl.isGtlg()}"md-component-id="pip-auxpanel" md-is-locked-open="$ctrl.isGtxs()" ng-transclude><div pip-focused></div></md-sidenav>'};angular.module("pipAuxPanel").component("pipAuxPanel",r)},{"../media/IMediaService":13,"../media/MediaService":14}],2:[function(e,t,i){function n(e){"ngInject";var t=e[0];return{transclude:t.transclude,priority:t.priority,terminal:t.terminal,restrict:t.restrict,scope:!0,link:function(e,i,n){n.ngIf=function(){return e.visible},t.link.apply(t)},controller:o}}n.$inject=["ngIfDirective"];var o=function(){function e(e,t,i,n,o){"ngInject";var s=this;this.$scope=e,this.partName=""+i.pipAuxPanelPart,this.pos=this.partName.indexOf(":"),this.pos>0&&(this.partValue=this.partName.substr(this.pos+1),this.partName=this.partName.substr(0,this.pos)),this.onAuxPanelChanged(null,o.config),n.$on("pipAuxPanelChanged",function(e,t){s.onAuxPanelChanged(e,t)})}return e.$inject=["$scope","$element","$attrs","$rootScope","pipAuxPanel"],e.prototype.onAuxPanelChanged=function(e,t){var i=(t.parts,t[this.partName]);this.$scope.visible=this.partValue?i==this.partValue:i},e}();angular.module("pipAuxPanel").directive("pipAuxPanelPart",n)},{}],3:[function(e,t,i){"use strict";function n(e,t){"ngInject";e.$on(o.OpenAuxPanelEvent,function(){t.open()}),e.$on(o.CloseAuxPanelEvent,function(){t.close()})}n.$inject=["$rootScope","pipAuxPanel"],Object.defineProperty(i,"__esModule",{value:!0});var o=e("./IAuxPanelService"),s=e("./IAuxPanelService"),r=function(){function e(e,t,i){"ngInject";this.id="pip-auxpanel",this._config=e,this._rootScope=t,this._sidenav=i}return e.$inject=["config","$rootScope","$mdSidenav"],Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this._config.classes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parts",{get:function(){return this._config.parts},set:function(e){this._config.parts=e||{},this.sendConfigEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){this._state=e||{},this._rootScope.$broadcast(o.AuxPanelStateChangedEvent,e)},enumerable:!0,configurable:!0}),e.prototype.isOpen=function(){return this._sidenav(this.id).isOpen()},e.prototype.open=function(){this._sidenav(this.id).open(),this._rootScope.$emit(o.AuxPanelOpenedEvent,this._config)},e.prototype.close=function(){this._sidenav(this.id).close(),this._rootScope.$emit(o.AuxPanelClosedEvent,this._config)},e.prototype.toggle=function(){this._sidenav(this.id).toggle()},e.prototype.addClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes.push(t)}),this.sendConfigEvent()},e.prototype.removeClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes=_.reject(e._config.classes,function(e){return e==t})}),this.sendConfigEvent()},e.prototype.part=function(e,t){this._config.parts[e]=t,this.sendConfigEvent()},e.prototype.sendConfigEvent=function(){this._rootScope.$emit(o.AuxPanelChangedEvent,this._config)},e}(),a=function(){function e(){this._config={parts:{},classes:[],type:"sticky",state:null}}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e||new s.AuxPanelConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parts",{get:function(){return this._config.parts},set:function(e){this._config.parts=e||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._config.type},set:function(e){this._config.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this._config.classes},set:function(e){this._config.classes=e||[]},enumerable:!0,configurable:!0}),e.prototype.addClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes.push(t)})},e.prototype.removeClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes=_.reject(e._config.classes,function(e){return e==t})})},e.prototype.part=function(e,t){this._config.parts[e]=t},e.prototype.open=function(){this._service.open()},e.prototype.close=function(){this._service.close()},e.prototype.toggle=function(){this._service.toggle()},e.prototype.$get=["$rootScope","$mdSidenav",function(e,t){"ngInject";return null==this._service&&(this._service=new r(this._config,e,t)),this._service}],e}();angular.module("pipAuxPanel").provider("pipAuxPanel",a).run(n)},{"./IAuxPanelService":4}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AuxPanelChangedEvent="pipAuxPanelChanged",i.AuxPanelStateChangedEvent="pipAuxPanelStateChanged",i.OpenAuxPanelEvent="pipOpenAuxPanel",i.CloseAuxPanelEvent="pipCloseAuxPanel",i.AuxPanelOpenedEvent="pipAuxPanelOpened",i.AuxPanelClosedEvent="pipAuxPanelClosed";var n=function(){function e(){}return e}();i.AuxPanelConfig=n},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),angular.module("pipAuxPanel",["ngMaterial"]),e("./AuxPanelService"),e("./AuxPanelPart"),e("./AuxPanel"),function(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}(e("./IAuxPanelService"))},{"./AuxPanel":1,"./AuxPanelPart":2,"./AuxPanelService":3,"./IAuxPanelService":4}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),angular.module("pipLayout",["wu.masonry","pipMedia","pipAuxPanel"]),e("./media/index"),e("./layouts/MainDirective"),e("./layouts/CardDirective"),e("./layouts/DialogDirective"),e("./layouts/DocumentDirective"),e("./layouts/SimpleDirective"),e("./layouts/TilesDirective"),e("./auxpanel/index"),function(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}(e("./media/index"))},{"./auxpanel/index":5,"./layouts/CardDirective":7,"./layouts/DialogDirective":8,"./layouts/DocumentDirective":9,"./layouts/MainDirective":10,"./layouts/SimpleDirective":11,"./layouts/TilesDirective":12,"./media/index":16}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../media/IMediaService"),o=e("../media/MediaService");!function(){function e(e){"ngInject";return{restrict:"EA",link:function(i,n,o){new t(e,n,o)}}}e.$inject=["$rootScope"];var t=function(){function e(e,t,i){"ngInject";var o=this;this.$rootScope=e,this.$element=t,this.$attrs=i,t.addClass("pip-card");var s=function(){o.resize()};e.$on(n.MainResizedEvent,s),this.resize(),setTimeout(s,100)}return e.$inject=["$rootScope","$element","$attrs"],e.prototype.resize=function(){var e,t,i=this,n=$(".pip-main-body"),s=$(".pip-card-container"),r=($("pip-main").width(),n.width()),a=n.height(),c=this.$attrs.minWidth?Math.floor(Number(this.$attrs.minWidth)):null,u=this.$attrs.minHeight?Math.floor(Number(this.$attrs.minHeight)):null,p=this.$attrs.width?Math.floor(Number(this.$attrs.width)):null,l=this.$attrs.height?Math.floor(Number(this.$attrs.height)):null;if(o.MainBreakpointStatuses.xs)c=null,u=null,p=null,l=null,r=null,a=null;else{var d=o.MainBreakpointStatuses["gt-md"]?24:16;r-=2*d,a-=2*d,c=c?Math.min(c,r):null,u=u?Math.min(u,a):null,p=p?Math.min(p,r):null,l=l?Math.min(l,a):null}if(this.$element.css("max-width",r?r+"px":""),this.$element.css("min-width",c?c+"px":""),this.$element.css("width",p?p+"px":""),this.$element.css("height",l?l+"px":""),s.hasClass("pip-outer-scroll"))s.addClass("pip-scroll"),o.MainBreakpointStatuses.xs?(e=0,t=0):(e=s.width()/2-this.$element.width()/2-16,t=Math.max(s.height()/2-this.$element.height()/2-16,0)),this.$element.css("left",e),this.$element.css("top",t),setTimeout(function(){i.$element.css("display","flex")},100);else{this.$element.css("max-height",a?a+"px":""),this.$element.css("min-height",u?u+"px":"");var h=this.$element.find(".pip-header:visible"),f=this.$element.find(".pip-footer:visible"),m=this.$element.find(".pip-body"),g=a||n.height();h.length>0&&(g-=h.outerHeight(!0)),f.length>0&&(g-=f.outerHeight(!0)),m.css("max-height",g+"px")}this.$rootScope.$emit("pipLayoutResized")},e}();angular.module("pipLayout").directive("pipCard",e)}()},{"../media/IMediaService":13,"../media/MediaService":14}],8:[function(e,t,i){!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-dialog")}}}angular.module("pipLayout").directive("pipDialog",e)}()},{}],9:[function(e,t,i){!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-document")}}}angular.module("pipLayout").directive("pipDocument",e)}()},{}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../media/ResizeFunctions"),o=e("../media/IMediaService"),s=e("../media/MediaService");!function(){function e(){"ngInject";return{restrict:"EA",controller:i,controllerAs:"vm"}}function t(){"ngInject";return{restrict:"EA",link:r}}var i=function(){function e(e,t,i,o,s){"ngInject";var r=this;this.$scope=e,this.$element=t,this.$rootScope=i,this.$timeout=o,this.$attrs=s,this._container=s.pipContainer?$(s.pipContainer):t,t.addClass("pip-main");var a=function(){r.resize()};n.addResizeListener(this._container[0],a),e.$on("$destroy",function(){n.removeResizeListener(r._container[0],a)}),this.updateBreakpointStatuses()}return e.$inject=["$scope","$element","$rootScope","$timeout","$attrs"],e.prototype.updateBreakpointStatuses=function(){var e=this,t=this._container.innerWidth(),i=$("body");s.MainBreakpointStatuses.update(s.MainBreakpoints,t),$.each(s.MainBreakpointStatuses,function(e,t){_.isBoolean(t)&&i[t?"addClass":"removeClass"]("pip-"+e)}),this.$timeout(function(){e.$rootScope.$apply()})},e.prototype.resize=function(){this.updateBreakpointStatuses(),this.$rootScope.$emit(o.MainResizedEvent,s.MainBreakpointStatuses)},e}(),r=function(){function e(e,t){"ngInject";t.addClass("pip-main-body")}return e.$inject=["$scope","$element"],e}();angular.module("pipLayout").directive("pipMain",e).directive("pipMainBody",t)}()},{"../media/IMediaService":13,"../media/MediaService":14,"../media/ResizeFunctions":15}],11:[function(e,t,i){!function(){function e(){"ngInject";return{restrict:"EA",link:function(e,t,i){t.addClass("pip-simple")}}}angular.module("pipLayout").directive("pipSimple",e)}()},{}],12:[function(e,t,i){"use strict";function n(e){"ngInject";function t(e){return null!=e&&(!!e&&("1"==(e=e.toString().toLowerCase())||"true"==e))}return{restrict:"EA",scope:{gutter:"="},transclude:{heading:"?pipTilesHeading"},template:function(e,i){return t(i.pipInfinite)?String()+'<div class="pip-tiles-heading" ng-transclude="heading"></div><div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div class="pip-tiles-heading" ng-transclude="heading"></div><div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(e){e.tilesOptions={gutter:e.gutter||8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:function(t,i,n){new a(t,i,n,e)}}}n.$inject=["$rootScope"],Object.defineProperty(i,"__esModule",{value:!0});var o=e("../media/ResizeFunctions"),s=e("../media/IMediaService"),r=e("../media/MediaService"),a=(function(){function e(){}}(),function(){function e(e,t,i,n){"ngInject";var r=this;this.$element=t,this.$attrs=i,this.$rootScope=n,this._columnWidth=i.columnWidth?Math.floor(Number(i.columnWidth)):440,this._container=t.children(".pip-tiles-container"),this._heading=$(t.children(".pip-tiles-heading")[0]),this._prevContainerWidth=null,this._masonry=Masonry.data(this._container[0]),t.addClass("pip-tiles");var a=function(){r.resize(!1)};o.addResizeListener(t[0],a),e.$on("$destroy",function(){o.removeResizeListener(t[0],a)}),this._sizer=$('<div class="pip-tile-sizer"></div>'),this._sizer.appendTo(this._container),n.$on(s.MainResizedEvent,function(){r.resize(!1)}),this.resize(!0)}return e.$inject=["$scope","$element","$attrs","$rootScope"],e.prototype.resize=function(e){var t,i=this.$element.parent().width();if(r.MainBreakpointStatuses["gt-xs"]&&i-36>this._columnWidth){i-=48;var n=Math.floor(i/this._columnWidth);t=(this._columnWidth+16)*n-16,t>i&&(n--,t=(this._columnWidth+16)*n-16),n<1?(t=i,this._sizer.css("width",t+"px")):this._sizer.css("width",this._columnWidth+"px"),this._container.css("width",t+10+"px"),this._heading&&this._heading.css("width",t+10+"px"),this._container.removeClass("pip-mobile")}else i-=32,t=i,this._sizer.css("width",t+"px"),this._container.css("width",t+10+"px"),this._heading&&this._heading.css("width",t+10+"px"),this._container.addClass("pip-mobile");(this._prevContainerWidth!=t||e)&&(this._prevContainerWidth=t,this._masonry.layout(),this.$rootScope.$emit(s.LayoutResizedEvent,t))},e}());angular.module("pipLayout").directive("pipTiles",n)},{"../media/IMediaService":13,"../media/MediaService":14,"../media/ResizeFunctions":15}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MainResizedEvent="pipMainResized",i.LayoutResizedEvent="pipLayoutResized";var n=function(){function e(e,t,i,n){this.xs=e,this.sm=t,this.md=i,this.lg=n}return e}();i.MediaBreakpoints=n;var o=function(){function e(){}return e.prototype.update=function(e,t){null!=e&&null!=t&&(this.width=t,this.xs=t<=e.xs,this["gt-xs"]=t>e.xs,this.sm=t>e.xs&&t<=e.sm,this["gt-sm"]=t>e.sm,this.md=t>e.sm&&t<=e.md,this["gt-md"]=t>e.md,this.lg=t>e.md&&t<=e.lg,this["gt-lg"]=t>e.lg,this.xl=this["gt-lg"])},e}();i.MediaBreakpointStatuses=o},{}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./IMediaService");i.MainBreakpoints=new n.MediaBreakpoints(639,716,1024,1439),i.MainBreakpointStatuses=new n.MediaBreakpointStatuses;var o=function(){function e(){}return Object.defineProperty(e.prototype,"breakpoints",{get:function(){return i.MainBreakpoints},set:function(e){i.MainBreakpoints=e},enumerable:!0,configurable:!0}),e.prototype.$get=function(){var e=function(e){return i.MainBreakpointStatuses[e]};return Object.defineProperty(e,"breakpoints",{get:function(){return i.MainBreakpoints},set:function(e){i.MainBreakpoints=e||new n.MediaBreakpoints(639,716,1024,1439),i.MainBreakpointStatuses.update(i.MainBreakpoints,i.MainBreakpointStatuses.width)}}),Object.defineProperty(e,"width",{get:function(){return i.MainBreakpointStatuses.width}}),e},e}();angular.module("pipMedia").provider("pipMedia",o)},{"./IMediaService":13}],15:[function(e,t,i){"use strict";function n(e){"ngInject";return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)})(e)}function o(){"ngInject";var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}function s(e){var t=e.target||e.srcElement;t.__resizeRAF__&&o(),t.__resizeRAF__=n(function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach(function(t){t.call(i,e)})})}function r(e){this.contentDocument&&(this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",s))}function a(e,t){"ngInject";if(!e.__resizeListeners__)if(e.__resizeListeners__=[],u)e.__resizeTrigger__=e,e.attachEvent("onresize",s);else{"static"==getComputedStyle(e).position&&(e.style.position="relative");var i=e.__resizeTrigger__=document.createElement("object");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),i.__resizeElement__=e,i.onload=r,i.type="text/html",p&&e.appendChild(i),i.data="about:blank",p||e.appendChild(i)}e.__resizeListeners__.push(t)}function c(e,t){"ngInject";t&&e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(u?e.detachEvent("onresize",s):e.__resizeTrigger__.contentDocument&&(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",s),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)))}n.$inject=["callback"],a.$inject=["element","listener"],c.$inject=["element","listener"],Object.defineProperty(i,"__esModule",{value:!0});var u=document.attachEvent,p=navigator.userAgent.match(/Trident/);i.addResizeListener=a,i.removeResizeListener=c},{}],16:[function(e,t,i){"use strict";function n(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}Object.defineProperty(i,"__esModule",{value:!0}),angular.module("pipMedia",[]),e("./MediaService"),e("./ResizeFunctions"),n(e("./IMediaService")),n(e("./MediaService")),n(e("./ResizeFunctions"))},{"./IMediaService":13,"./MediaService":14,"./ResizeFunctions":15}]},{},[6])(6)});
//# sourceMappingURL=pip-webui-layouts.min.js.map
