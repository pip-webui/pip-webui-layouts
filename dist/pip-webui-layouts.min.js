!function(){"use strict";angular.module("pipLayout",["pipLayout.Main","pipLayout.Simple","pipLayout.Card","pipLayout.Document","pipLayout.Tiles","pipLayout.Dialog","pipLayout.Media"])}(),function(){"use strict";var i=angular.module("pipLayout.Card",[]);i.directive("pipCard",function(){return{restrict:"EA",link:function(i,e,t){function n(){var n,r,s=$(".pip-main-body"),l=$(".pip-card-container"),a=o.width(),p=s.width(),u=s.height(),c=t.minWidth?Math.floor(t.minWidth):null,d=t.minHeight?Math.floor(t.minHeight):null,h=t.width?Math.floor(t.width):null,m=t.height?Math.floor(t.height):null;if(a<=768)c=null,d=null,h=null,m=null,p=null,u=null;else{var g=a>1200?24:16;p-=2*g,u-=2*g,c=c?Math.min(c,p):null,d=d?Math.min(d,u):null,h=h?Math.min(h,p):null,m=m?Math.min(m,u):null}if(e.css("max-width",p?p+"px":""),e.css("min-width",c?c+"px":""),e.css("width",h?h+"px":""),e.css("height",m?m+"px":""),l.hasClass("pip-outer-scroll"))l.addClass("pip-scroll"),a<=768?(n=0,r=0):(n=l.width()/2-e.width()/2-16,r=Math.max(l.height()/2-e.height()/2-16,0)),e.css("left",n),e.css("top",r),setTimeout(function(){e.css("display","flex")},100);else{e.css("max-height",u?u+"px":""),e.css("min-height",d?d+"px":"");var _=e.find(".pip-header:visible"),f=e.find(".pip-footer:visible"),w=e.find(".pip-body"),v=u||s.height();_.length>0&&(v-=_.outerHeight(!0)),f.length>0&&(v-=f.outerHeight(!0)),w.css("max-height",v+"px")}i.$broadcast("pipLayoutResized")}var o=$(window);e.addClass("pip-card"),i.$on("pipWindowResized",n),n(),setTimeout(n,100)}}})}(),function(){"use strict";var i=angular.module("pipLayout.Dialog",[]);i.directive("pipDialog",function(){return{restrict:"EA",controller:"pipDialogController"}}),i.controller("pipDialogController",["$scope","$element","$attrs",function(i,e,t){function n(){var n=o.width(),r=o.height(),s=t.minWidth?Math.floor(t.minWidth):null,l=t.minHeight?Math.floor(t.minHeight):null,a=t.width?Math.floor(t.width):null,p=t.height?Math.floor(t.height):null,u=n>1200?24:16;n-=2*u,r-=2*u,s=s&&s<n?s:null,l=l&&l<r?l:null,a=a?Math.min(a,n):null,p=p?Math.min(p,r):null,e.css("max-width",n?n+"px":""),e.css("max-height",r?r+"px":""),e.css("min-width",s?s+"px":""),e.css("min-height",l?l+"px":""),e.css("width",a?a+"px":""),e.css("height",p?p+"px":""),i.$broadcast("pipLayoutResized")}var o=$(window);e.addClass("pip-dialog"),i.$on("pipWindowResized",n),i.$on("pipResizeLayout",n),n(),o.trigger("resize")}])}(),function(){"use strict";var i=angular.module("pipLayout.Document",[]);i.directive("pipDocument",function(){return{restrict:"EA",controller:"pipDocumentController"}}),i.controller("pipDocumentController",["$scope","$element","$attrs",function(i,e,t){e.addClass("pip-document")}])}(),function(){"use strict";var i=angular.module("pipLayout.Main",[]);i.directive("pipMain",function(){return{restrict:"EA",controller:"pipMainController"}}),i.directive("pipMainBody",function(){return{restrict:"EA",link:function(i,e){e.addClass("pip-main-body")}}}),i.controller("pipMainController",["$scope","$element","$rootScope","pipMedia",function(i,e,t,n){function o(){t.$broadcast("pipWindowResized")}$(window);e.addClass("pip-main"),n().addResizeListener(e[0],o),i.$on("$destroy",function(){n().removeResizeListener(e[0])})}])}(),function(i,e,t){"use strict";var n=i.module("pipLayout.Media",[]);n.service("pipMedia",["$rootScope","$timeout",function(i,e){function n(i){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(i){return window.setTimeout(i,20)};return e(i)}function o(){var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return i(e)}}function r(i){var e=i.target||i.srcElement;e.__resizeRAF__&&o(e.__resizeRAF__),e.__resizeRAF__=n(function(){var t=e.__resizeTrigger__;t.__resizeListeners__.forEach(function(e){e.call(t,i)})})}function s(i){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",r)}function l(i,e){if(!i.__resizeListeners__)if(i.__resizeListeners__=[],h)i.__resizeTrigger__=i,i.attachEvent("onresize",r);else{"static"==getComputedStyle(i).position&&(i.style.position="relative");var t=i.__resizeTrigger__=document.createElement("object");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),t.__resizeElement__=i,t.onload=s,t.type="text/html",m&&i.appendChild(t),t.data="about:blank",m||i.appendChild(t)}u(),e&&i.__resizeListeners__.push(e),i.__resizeListeners__.push(u)}function a(i,e){e&&i.__resizeListeners__.splice(i.__resizeListeners__.indexOf(e),1),i.__resizeListeners__.length||(h?i.detachEvent("onresize",r):(i.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",r),i.__resizeTrigger__=!i.removeChild(i.__resizeTrigger__)))}function p(){t.each(d,function(i,e){t("body")[e?"addClass":"removeClass"]("pip-"+i)})}function u(){c=t(".pip-main").innerWidth(),d.xs=c<=599,d["gt-xs"]=c>=600,d.sm=c>=600&&c<=959,d["gt-sm"]=c>=960,d.md=c>=960&&c<=1279,d["gt-md"]=c>=1280,d.lg=c>=1280&&c<=1919,d["gt-lg"]=c>=1920,d.xl=d["gt-lg"],p(),e(function(){i.$apply()})}var c=null,d={xs:!1,"gt-xs":!1,sm:!1,"gt-sm":!1,md:!1,"gt-md":!1,lg:!1,"gt-lg":!1,xl:!1},h=document.attachEvent,m=navigator.userAgent.match(/Trident/);return function(i){return i?d[i]:{addResizeListener:l,removeResizeListener:a}}}])}(window.angular,window._,window.jQuery),function(){"use strict";var i=angular.module("pipLayout.Simple",[]);i.directive("pipSimple",function(){return{restrict:"EA",link:function(i,e,t){e.addClass("pip-simple")}}})}(),function(){"use strict";function i(i,e,t){function n(e){var t,n=o.width();if(n>767){n-=48;var u=Math.floor(n/r);t=(r+16)*u-16,t>n&&(u--,t=(r+16)*u-16),u<1?(t=n,p.css("width",t+"px")):p.css("width",r+"px"),s.css("width",t+1+"px")}else n-=32,t=n,p.css("width",t+"px"),s.css("width",t+1+"px");(l!=t||e)&&(l=t,a.layout(),i.$broadcast("pipLayoutResized"))}var o=$(window),r=t.columnWidth?Math.floor(t.columnWidth):440,s=e.children(".pip-tiles-container"),l=null,a=Masonry.data(s[0]);e.addClass("pip-tiles");var p=$('<div class="pip-tile-sizer"></div>');p.appendTo(s),i.$on("pipWindowResized",function(){console.log("resize tiles"),n(!1)}),n()}function e(i){return null!=i&&(!!i&&(i=i.toString().toLowerCase(),"1"==i||"true"==i))}var t=angular.module("pipLayout.Tiles",["wu.masonry"]);t.directive("pipTiles",function(){return{restrict:"EA",scope:!1,transclude:!0,template:function(i,t){return e(t.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(i){i.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:i}})}();