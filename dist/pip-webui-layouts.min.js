!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(i.pip||(i.pip={})).layouts=e()}}(function(){return function e(i,t,n){function s(r,a){if(!t[r]){if(!i[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(o)return o(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var l=t[r]={exports:{}};i[r][0].call(l.exports,function(e){var t=i[r][1][e];return s(t?t:e)},l,l.exports,e,i,t,n)}return t[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,i,t){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}angular.module("pipLayout",["wu.masonry"]),e("./media/MediaService"),e("./media/ResizeFunctions"),e("./layouts/MainDirective"),e("./layouts/CardDirective"),e("./layouts/DialogDirective"),e("./layouts/DocumentDirective"),e("./layouts/SimpleDirective"),e("./layouts/TilesDirective"),e("./layouts/AuxiliaryPanel"),n(e("./media/MediaService")),n(e("./media/ResizeFunctions"))},{"./layouts/AuxiliaryPanel":2,"./layouts/CardDirective":3,"./layouts/DialogDirective":4,"./layouts/DocumentDirective":5,"./layouts/MainDirective":6,"./layouts/SimpleDirective":7,"./layouts/TilesDirective":8,"./media/MediaService":9,"./media/ResizeFunctions":10}],2:[function(e,i,t){"use strict";function n(){return{restrict:"E",replace:!0,controller:r,controllerAs:"vm",template:'<md-sidenav class="md-sidenav-right md-whiteframe-z2 pip-aux-panel color-content-bg"md-component-id="pip-aux-panel" md-is-locked-open="vm.isGtxs()" pip-focused><div class="close-button" ng-click="vm.onCloseClick()" ><md-icon md-svg-icon="icons:cross"></md-icon></div></md-sidenav>'}}var s=e("../media/MediaService"),o=function(){function e(e,i,t){this._$rootScope=e,this._$compile=i,this._$mdSidenav=t,this.opened=!1,this.popoverTemplate="<div ng-controller='params.controller' class='for-scope'><div ng-if='params.templateUrl' class='flex layout-column' ng-include='params.templateUrl'></div>"}return e.$inject=["$rootScope","$compile","$mdSidenav"],e.prototype.show=function(e){var i=this;if(!this.opened){var t,n,s;this.element=$("md-sidenav.pip-aux-panel"),t=this._$rootScope.$new(),n=e&&_.isObject(e)?e:{},t.params=n,t.locals=n.locals,s=this._$compile(this.popoverTemplate)(t),this.element.append(s),t=_.defaultsDeep(t,this.element.find(".for-scope").scope()),n.template&&$(this.element.children()[1]).append(this._$compile(n.template)(t));try{this._$mdSidenav("pip-aux-panel",!0).then(function(e){e.open(),i.opened=!0})}catch(e){this._$mdSidenav("pip-aux-panel").open(),this.opened=!0}}},e.prototype.hide=function(){$(this.element.children()[1]).remove(),this.opened=!1,this._$mdSidenav("pip-aux-panel").close()},e.prototype.isOpen=function(){return this.opened},e}(),r=function(){function e(e){this._pipAuxPanel=e}return e.$inject=["pipAuxPanel"],e.prototype.isGtxs=function(){return Number($("body").width())>s.MainBreakpoints.xs&&this._pipAuxPanel.isOpen()},e.prototype.onCloseClick=function(){this._pipAuxPanel.hide()},e}();angular.module("pipLayout").directive("pipAuxPanel",n).service("pipAuxPanel",o)},{"../media/MediaService":9}],3:[function(e,i,t){"use strict";var n=e("../media/MediaService");!function(){function e(e){"ngInject";return{restrict:"EA",link:function(t,n,s){new i(e,n,s)}}}e.$inject=["$rootScope"];var i=function(){function e(e,i,t){var s=this;this._element=i,this._rootScope=e,this._attrs=t,i.addClass("pip-card");var o=function(){s.resize()};e.$on(n.MainResizedEvent,o),this.resize(),setTimeout(o,100)}return e.prototype.resize=function(){var e,i,t=this,s=$(".pip-main-body"),o=$(".pip-card-container"),r=($("pip-main").width(),s.width()),a=s.height(),u=this._attrs.minWidth?Math.floor(this._attrs.minWidth):null,p=this._attrs.minHeight?Math.floor(this._attrs.minHeight):null,l=this._attrs.width?Math.floor(this._attrs.width):null,c=this._attrs.height?Math.floor(this._attrs.height):null;if(n.MainBreakpointStatuses.xs)u=null,p=null,l=null,c=null,r=null,a=null;else{var d=n.MainBreakpointStatuses["gt-md"]?24:16;r-=2*d,a-=2*d,u=u?Math.min(u,r):null,p=p?Math.min(p,a):null,l=l?Math.min(l,r):null,c=c?Math.min(c,a):null}if(this._element.css("max-width",r?r+"px":""),this._element.css("min-width",u?u+"px":""),this._element.css("width",l?l+"px":""),this._element.css("height",c?c+"px":""),o.hasClass("pip-outer-scroll"))o.addClass("pip-scroll"),n.MainBreakpointStatuses.xs?(e=0,i=0):(e=o.width()/2-this._element.width()/2-16,i=Math.max(o.height()/2-this._element.height()/2-16,0)),this._element.css("left",e),this._element.css("top",i),setTimeout(function(){t._element.css("display","flex")},100);else{this._element.css("max-height",a?a+"px":""),this._element.css("min-height",p?p+"px":"");var h=this._element.find(".pip-header:visible"),m=this._element.find(".pip-footer:visible"),f=this._element.find(".pip-body"),_=a||s.height();h.length>0&&(_-=h.outerHeight(!0)),m.length>0&&(_-=m.outerHeight(!0)),f.css("max-height",_+"px")}this._rootScope.$emit("pipLayoutResized")},e}();angular.module("pipLayout").directive("pipCard",e)}()},{"../media/MediaService":9}],4:[function(e,i,t){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,i,t){i.addClass("pip-dialog")}}}angular.module("pipLayout").directive("pipDialog",e)}()},{}],5:[function(e,i,t){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,i,t){i.addClass("pip-document")}}}angular.module("pipLayout").directive("pipDocument",e)}()},{}],6:[function(e,i,t){"use strict";var n=e("../media/ResizeFunctions"),s=e("../media/MediaService");!function(){function e(){return{restrict:"EA",controller:t,controllerAs:"vm"}}function i(){return{restrict:"EA",link:o}}var t=function(){function e(e,i,t,s){var o=this;this._element=i,this._rootScope=t,this._timeout=s,i.addClass("pip-main");var r=function(){o.resize()};n.addResizeListener(i[0],r),e.$on("$destroy",function(){n.removeResizeListener(i[0],r)}),this.updateBreakpointStatuses()}return e.$inject=["$scope","$element","$rootScope","$timeout"],e.prototype.updateBreakpointStatuses=function(){var e=this,i=this._element.innerWidth(),t=$("body");s.MainBreakpointStatuses.update(s.MainBreakpoints,i),$.each(s.MainBreakpointStatuses,function(e,i){_.isBoolean(i)&&t[i?"addClass":"removeClass"]("pip-"+e)}),this._timeout(function(){e._rootScope.$apply()})},e.prototype.resize=function(){this.updateBreakpointStatuses(),this._rootScope.$emit(s.MainResizedEvent,s.MainBreakpointStatuses)},e}(),o=function(){function e(e,i){i.addClass("pip-main-body")}return e}();angular.module("pipLayout").directive("pipMain",e).directive("pipMainBody",i)}()},{"../media/MediaService":9,"../media/ResizeFunctions":10}],7:[function(e,i,t){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,i,t){i.addClass("pip-simple")}}}angular.module("pipLayout").directive("pipSimple",e)}()},{}],8:[function(e,i,t){"use strict";function n(e){"ngInject";function i(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}return{restrict:"EA",scope:!1,transclude:!0,template:function(e,t){return i(t.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(e){e.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:function(i,t,n){new r(i,t,e,n)}}}n.$inject=["$rootScope"];var s=e("../media/ResizeFunctions"),o=e("../media/MediaService"),r=function(){function e(e,i,t,n){var r=this;this._element=i,this._rootScope=t,this._attrs=n,this._columnWidth=n.columnWidth?Math.floor(n.columnWidth):440,this._container=i.children(".pip-tiles-container"),this._prevContainerWidth=null,this._masonry=Masonry.data(this._container[0]),i.addClass("pip-tiles");var a=function(){r.resize(!1)};s.addResizeListener(i[0],a),e.$on("$destroy",function(){s.removeResizeListener(i[0],a)}),this._sizer=$('<div class="pip-tile-sizer"></div>'),this._sizer.appendTo(this._container),t.$on(o.MainResizedEvent,function(){r.resize(!1)}),this.resize(!0)}return e.prototype.resize=function(e){var i,t=this._element.parent().width();if(console.log(),o.MainBreakpointStatuses["gt-xs"]&&t-36>this._columnWidth){t-=48;var n=Math.floor(t/this._columnWidth);i=(this._columnWidth+16)*n-16,i>t&&(n--,i=(this._columnWidth+16)*n-16),n<1?(i=t,this._sizer.css("width",i+"px")):this._sizer.css("width",this._columnWidth+"px"),this._container.css("width",i+10+"px"),this._container.removeClass("pip-mobile")}else t-=32,i=t,this._sizer.css("width",i+"px"),this._container.css("width",i+10+"px"),this._container.addClass("pip-mobile");(this._prevContainerWidth!=i||e)&&(this._prevContainerWidth=i,this._masonry.layout(),this._rootScope.$emit(o.LayoutResizedEvent))},e}();angular.module("pipLayout").directive("pipTiles",n)},{"../media/MediaService":9,"../media/ResizeFunctions":10}],9:[function(e,i,t){"use strict";var n=function(){function e(e,i,t,n){this.xs=e,this.sm=i,this.md=t,this.lg=n}return e}();t.MediaBreakpoints=n;var s=function(){function e(){}return e.prototype.update=function(e,i){null!=e&&(this.width=i,this.xs=i<=e.xs,this["gt-xs"]=i>e.xs,this.sm=i>e.xs&&i<=e.sm,this["gt-sm"]=i>e.sm,this.md=i>e.sm&&i<=e.md,this["gt-md"]=i>e.md,this.lg=i>e.md&&i<=e.lg,this["gt-lg"]=i>e.lg,this.xl=this["gt-lg"])},e}();t.MediaBreakpointStatuses=s,t.MainResizedEvent="pipMainResized",t.LayoutResizedEvent="pipLayoutResized",t.MainBreakpoints=new n(639,1110,1220,1599),t.MainBreakpointStatuses=new s;var o=function(){function e(){}return Object.defineProperty(e.prototype,"breakpoints",{get:function(){return t.MainBreakpoints},set:function(e){t.MainBreakpoints=e},enumerable:!0,configurable:!0}),e.prototype.$get=function(){var e=function(e){return t.MainBreakpointStatuses[e]};return Object.defineProperty(e,"breakpoints",{get:function(){return t.MainBreakpoints},set:function(e){t.MainBreakpoints=e||new n(639,1110,1220,1599),t.MainBreakpointStatuses.update(t.MainBreakpoints,t.MainBreakpointStatuses.width)}}),Object.defineProperty(e,"width",{get:function(){return t.MainBreakpointStatuses.width}}),e},e}();angular.module("pipLayout").provider("pipMedia",o)},{}],10:[function(e,i,t){"use strict";function n(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return i(e)}function s(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(i){return e(i)}}function o(e){var i=e.target||e.srcElement;i.__resizeRAF__&&s(),i.__resizeRAF__=n(function(){var t=i.__resizeTrigger__;t.__resizeListeners__.forEach(function(i){i.call(t,e)})})}function r(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",o)}function a(e,i){if(!e.__resizeListeners__)if(e.__resizeListeners__=[],p)e.__resizeTrigger__=e,e.attachEvent("onresize",o);else{"static"==getComputedStyle(e).position&&(e.style.position="relative");var t=e.__resizeTrigger__=document.createElement("object");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),t.__resizeElement__=e,t.onload=r,t.type="text/html",l&&e.appendChild(t),t.data="about:blank",l||e.appendChild(t)}e.__resizeListeners__.push(i)}function u(e,i){i&&e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(i),1),e.__resizeListeners__.length||(p?e.detachEvent("onresize",o):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",o),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)))}var p=document.attachEvent,l=navigator.userAgent.match(/Trident/);t.addResizeListener=a,t.removeResizeListener=u},{}]},{},[1])(1)});
//# sourceMappingURL=pip-webui-layouts.min.js.map
