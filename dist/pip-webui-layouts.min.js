!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.pip||(t.pip={})).layouts=e()}}(function(){return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[o]={exports:{}};t[o][0].call(l.exports,function(e){var i=t[o][1][e];return s(i?i:e)},l,l.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){"use strict";function n(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}angular.module("pipLayout",["wu.masonry"]),e("./media/MediaService"),e("./media/ResizeFunctions"),e("./layouts/MainDirective"),e("./layouts/CardDirective"),e("./layouts/DialogDirective"),e("./layouts/DocumentDirective"),e("./layouts/SimpleDirective"),e("./layouts/TilesDirective"),n(e("./media/MediaService")),n(e("./media/ResizeFunctions"))},{"./layouts/CardDirective":2,"./layouts/DialogDirective":3,"./layouts/DocumentDirective":4,"./layouts/MainDirective":5,"./layouts/SimpleDirective":6,"./layouts/TilesDirective":7,"./media/MediaService":8,"./media/ResizeFunctions":9}],2:[function(e,t,i){"use strict";var n=e("../media/MediaService");!function(){function e(e){"ngInject";return{restrict:"EA",link:function(i,n,s){new t(e,n,s)}}}e.$inject=["$rootScope"];var t=function(){function e(e,t,i){var s=this;this._element=t,this._rootScope=e,this._attrs=i,t.addClass("pip-card");var r=function(){s.resize()};e.$on(n.MainResizedEvent,r),this.resize(),setTimeout(r,100)}return e.prototype.resize=function(){var e,t,i=this,s=$(".pip-main-body"),r=$(".pip-card-container"),o=($("pip-main").width(),s.width()),a=s.height(),u=this._attrs.minWidth?Math.floor(this._attrs.minWidth):null,c=this._attrs.minHeight?Math.floor(this._attrs.minHeight):null,l=this._attrs.width?Math.floor(this._attrs.width):null,p=this._attrs.height?Math.floor(this._attrs.height):null;if(n.MainBreakpointStatuses.xs)u=null,c=null,l=null,p=null,o=null,a=null;else{var d=n.MainBreakpointStatuses["gt-md"]?24:16;o-=2*d,a-=2*d,u=u?Math.min(u,o):null,c=c?Math.min(c,a):null,l=l?Math.min(l,o):null,p=p?Math.min(p,a):null}if(this._element.css("max-width",o?o+"px":""),this._element.css("min-width",u?u+"px":""),this._element.css("width",l?l+"px":""),this._element.css("height",p?p+"px":""),r.hasClass("pip-outer-scroll"))r.addClass("pip-scroll"),n.MainBreakpointStatuses.xs?(e=0,t=0):(e=r.width()/2-this._element.width()/2-16,t=Math.max(r.height()/2-this._element.height()/2-16,0)),this._element.css("left",e),this._element.css("top",t),setTimeout(function(){i._element.css("display","flex")},100);else{this._element.css("max-height",a?a+"px":""),this._element.css("min-height",c?c+"px":"");var h=this._element.find(".pip-header:visible"),m=this._element.find(".pip-footer:visible"),f=this._element.find(".pip-body"),_=a||s.height();h.length>0&&(_-=h.outerHeight(!0)),m.length>0&&(_-=m.outerHeight(!0)),f.css("max-height",_+"px")}this._rootScope.$emit("pipLayoutResized")},e}();angular.module("pipLayout").directive("pipCard",e)}()},{"../media/MediaService":8}],3:[function(e,t,i){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-dialog")}}}angular.module("pipLayout").directive("pipDialog",e)}()},{}],4:[function(e,t,i){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-document")}}}angular.module("pipLayout").directive("pipDocument",e)}()},{}],5:[function(e,t,i){"use strict";var n=e("../media/ResizeFunctions"),s=e("../media/MediaService");!function(){function e(){return{restrict:"EA",controller:i,controllerAs:"vm"}}function t(){return{restrict:"EA",link:r}}var i=function(){function e(e,t,i,s){var r=this;this._element=t,this._rootScope=i,this._timeout=s,t.addClass("pip-main");var o=function(){r.resize()};n.addResizeListener(t[0],o),e.$on("$destroy",function(){n.removeResizeListener(t[0],o)}),this.updateBreakpointStatuses()}return e.$inject=["$scope","$element","$rootScope","$timeout"],e.prototype.updateBreakpointStatuses=function(){var e=this,t=this._element.innerWidth(),i=$("body");s.MainBreakpointStatuses.update(s.MainBreakpoints,t),$.each(s.MainBreakpointStatuses,function(e,t){_.isBoolean(t)&&i[t?"addClass":"removeClass"]("pip-"+e)}),this._timeout(function(){e._rootScope.$apply()})},e.prototype.resize=function(){this.updateBreakpointStatuses(),this._rootScope.$emit(s.MainResizedEvent,s.MainBreakpointStatuses)},e}(),r=function(){function e(e,t){t.addClass("pip-main-body")}return e}();angular.module("pipLayout").directive("pipMain",e).directive("pipMainBody",t)}()},{"../media/MediaService":8,"../media/ResizeFunctions":9}],6:[function(e,t,i){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-simple")}}}angular.module("pipLayout").directive("pipSimple",e)}()},{}],7:[function(e,t,i){"use strict";function n(e){"ngInject";function t(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}return{restrict:"EA",scope:!1,transclude:!0,template:function(e,i){return t(i.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(e){e.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:function(t,i,n){new o(t,i,e,n)}}}n.$inject=["$rootScope"];var s=e("../media/ResizeFunctions"),r=e("../media/MediaService"),o=function(){function e(e,t,i,n){var o=this;this._element=t,this._rootScope=i,this._attrs=n,this._columnWidth=n.columnWidth?Math.floor(n.columnWidth):440,this._container=t.children(".pip-tiles-container"),this._prevContainerWidth=null,this._masonry=Masonry.data(this._container[0]),t.addClass("pip-tiles");var a=function(){o.resize(!1)};s.addResizeListener(t[0],a),e.$on("$destroy",function(){s.removeResizeListener(t[0],a)}),this._sizer=$('<div class="pip-tile-sizer"></div>'),this._sizer.appendTo(this._container),i.$on(r.MainResizedEvent,function(){o.resize(!1)}),this.resize(!0)}return e.prototype.resize=function(e){var t,i=this._element.parent().width();if(console.log(),r.MainBreakpointStatuses["gt-xs"]&&i-36>this._columnWidth){i-=48;var n=Math.floor(i/this._columnWidth);t=(this._columnWidth+16)*n-16,t>i&&(n--,t=(this._columnWidth+16)*n-16),n<1?(t=i,this._sizer.css("width",t+"px")):this._sizer.css("width",this._columnWidth+"px"),this._container.css("width",t+10+"px"),this._container.removeClass("pip-mobile")}else i-=32,t=i,this._sizer.css("width",t+"px"),this._container.css("width",t+10+"px"),this._container.addClass("pip-mobile");(this._prevContainerWidth!=t||e)&&(this._prevContainerWidth=t,this._masonry.layout(),this._rootScope.$emit(r.LayoutResizedEvent))},e}();angular.module("pipLayout").directive("pipTiles",n)},{"../media/MediaService":8,"../media/ResizeFunctions":9}],8:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n){this.xs=e,this.sm=t,this.md=i,this.lg=n}return e}();i.MediaBreakpoints=n;var s=function(){function e(){}return e.prototype.update=function(e,t){null!=e&&(this.width=t,this.xs=t<=e.xs,this["gt-xs"]=t>e.xs,this.sm=t>e.xs&&t<=e.sm,this["gt-sm"]=t>e.sm,this.md=t>e.sm&&t<=e.md,this["gt-md"]=t>e.md,this.lg=t>e.md&&t<=e.lg,this["gt-lg"]=t>e.lg,this.xl=this["gt-lg"])},e}();i.MediaBreakpointStatuses=s,i.MainResizedEvent="pipMainResized",i.LayoutResizedEvent="pipLayoutResized",i.MainBreakpoints=new n(639,1110,1220,1599),i.MainBreakpointStatuses=new s;var r=function(){function e(){}return Object.defineProperty(e.prototype,"breakpoints",{get:function(){return i.MainBreakpoints},set:function(e){i.MainBreakpoints=e},enumerable:!0,configurable:!0}),e.prototype.$get=function(){var e=function(e){return i.MainBreakpointStatuses[e]};return Object.defineProperty(e,"breakpoints",{get:function(){return i.MainBreakpoints},set:function(e){i.MainBreakpoints=e||new n(639,1110,1220,1599),i.MainBreakpointStatuses.update(i.MainBreakpoints,i.MainBreakpointStatuses.width)}}),Object.defineProperty(e,"width",{get:function(){return i.MainBreakpointStatuses.width}}),e},e}();angular.module("pipLayout").provider("pipMedia",r)},{}],9:[function(e,t,i){"use strict";function n(e){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return t(e)}function s(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}function r(e){var t=e.target||e.srcElement;t.__resizeRAF__&&s(),t.__resizeRAF__=n(function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach(function(t){t.call(i,e)})})}function o(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",r)}function a(e,t){if(!e.__resizeListeners__)if(e.__resizeListeners__=[],c)e.__resizeTrigger__=e,e.attachEvent("onresize",r);else{"static"==getComputedStyle(e).position&&(e.style.position="relative");var i=e.__resizeTrigger__=document.createElement("object");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),i.__resizeElement__=e,i.onload=o,i.type="text/html",l&&e.appendChild(i),i.data="about:blank",l||e.appendChild(i)}e.__resizeListeners__.push(t)}function u(e,t){t&&e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(c?e.detachEvent("onresize",r):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",r),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)))}var c=document.attachEvent,l=navigator.userAgent.match(/Trident/);i.addResizeListener=a,i.removeResizeListener=u},{}]},{},[1])(1)});
//# sourceMappingURL=pip-webui-layouts.min.js.map
