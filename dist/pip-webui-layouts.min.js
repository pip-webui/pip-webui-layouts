!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.pip||(t.pip={})).layouts=e()}}(function(){return function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[s]={exports:{}};t[s][0].call(p.exports,function(e){var i=t[s][1][e];return o(i?i:e)},p,p.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";var n=e("../media/MediaService");!function(){function e(){return{restrict:"E",replace:!0,controller:t,transclude:!0,controllerAs:"vm",template:'<md-sidenav class="md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg" ng-class="{\'pip-large\': vm.isGtlg()}"md-component-id="pip-auxpanel" md-is-locked-open="vm.isGtxs()" pip-focused ng-transclude></md-sidenav>'}}var t=function(){function e(e){this.normalSize=320,this.largeSize=480,this._pipAuxPanel=e}return e.$inject=["pipAuxPanel"],e.prototype.isGtxs=function(){return Number($("body").width())>n.MainBreakpoints.xs&&this._pipAuxPanel.isOpen()},e.prototype.isGtlg=function(){return Number($("body").width())>n.MainBreakpoints.lg+this.largeSize},e}();angular.module("pipAuxPanel").directive("pipAuxPanel",e)}()},{"../media/MediaService":12}],2:[function(e,t,i){"use strict";!function(){function e(e,t,i,n,o){"ngInject";function r(t,i){var n=(i.parts||{},i[s]);e.visible=a?n==a:n}var s=""+i.pipAuxPanelPart,a=null,u=s.indexOf(":");u>0&&(a=s.substr(u+1),s=s.substr(0,u)),r(null,o.config),n.$on("pipAuxPanelChanged",r)}function t(t){"ngInject";var i=t[0];return{transclude:i.transclude,priority:i.priority,terminal:i.terminal,restrict:i.restrict,scope:!0,link:function(e,t,n){n.ngIf=function(){return e.visible},i.link.apply(i)},controller:e}}e.$inject=["$scope","$element","$attrs","$rootScope","pipAuxPanel"],t.$inject=["ngIfDirective"],angular.module("pipAuxPanel").directive("pipAuxPanelPart",t)}()},{}],3:[function(e,t,i){"use strict";function n(e,t){e.$on(i.OpenAuxPanelEvent,function(){t.open()}),e.$on(i.CloseAuxPanelEvent,function(){t.close()})}n.$inject=["$rootScope","pipAuxPanel"],i.AuxPanelChangedEvent="pipAuxPanelChanged",i.AuxPanelStateChangedEvent="pipAuxPanelStateChanged",i.OpenAuxPanelEvent="pipOpenAuxPanel",i.CloseAuxPanelEvent="pipCloseAuxPanel";var o=function(){function e(){}return e}();i.AuxPanelConfig=o;var r=function(){function e(e,t,i){this.id="pip-auxpanel",this._config=e,this._rootScope=t,this._sidenav=i}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this._config.classes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parts",{get:function(){return this._config.parts},set:function(e){this._config.parts=e||{},this.sendConfigEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){this._state=e||{},this._rootScope.$broadcast(i.AuxPanelStateChangedEvent,e)},enumerable:!0,configurable:!0}),e.prototype.isOpen=function(){return this._sidenav(this.id).isOpen()},e.prototype.open=function(){this._sidenav(this.id).open()},e.prototype.close=function(){this._sidenav(this.id).close()},e.prototype.toggle=function(){this._sidenav(this.id).toggle()},e.prototype.addClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes.push(t)}),this.sendConfigEvent()},e.prototype.removeClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes=_.reject(e._config.classes,function(e){return e==t})}),this.sendConfigEvent()},e.prototype.part=function(e,t){this._config.parts[e]=t,this.sendConfigEvent()},e.prototype.sendConfigEvent=function(){this._rootScope.$emit(i.AuxPanelChangedEvent,this._config)},e}(),s=function(){function e(){this._config={parts:{},classes:[],type:"sticky",state:null}}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e||new o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parts",{get:function(){return this._config.parts},set:function(e){this._config.parts=e||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._config.type},set:function(e){this._config.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this._config.classes},set:function(e){this._config.classes=e||[]},enumerable:!0,configurable:!0}),e.prototype.addClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes.push(t)})},e.prototype.removeClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];_.each(t,function(t){e._config.classes=_.reject(e._config.classes,function(e){return e==t})})},e.prototype.part=function(e,t){this._config.parts[e]=t},e.prototype.open=function(){this._service.open()},e.prototype.close=function(){this._service.close()},e.prototype.toggle=function(){this._service.toggle()},e.prototype.$get=["$rootScope","$mdSidenav",function(e,t){"ngInject";return null==this._service&&(this._service=new r(this._config,e,t)),this._service}],e}();angular.module("pipAuxPanel").provider("pipAuxPanel",s).run(n)},{}],4:[function(e,t,i){"use strict";function n(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}angular.module("pipAuxPanel",["ngMaterial"]),e("./AuxPanelService"),e("./AuxPanelPartDirective"),e("./AuxPanelDirective"),n(e("./AuxPanelService"))},{"./AuxPanelDirective":1,"./AuxPanelPartDirective":2,"./AuxPanelService":3}],5:[function(e,t,i){"use strict";function n(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}angular.module("pipLayout",["wu.masonry","pipMedia","pipAuxPanel"]),e("./media/index"),e("./layouts/MainDirective"),e("./layouts/CardDirective"),e("./layouts/DialogDirective"),e("./layouts/DocumentDirective"),e("./layouts/SimpleDirective"),e("./layouts/TilesDirective"),e("./auxpanel/index"),n(e("./media/index"))},{"./auxpanel/index":4,"./layouts/CardDirective":6,"./layouts/DialogDirective":7,"./layouts/DocumentDirective":8,"./layouts/MainDirective":9,"./layouts/SimpleDirective":10,"./layouts/TilesDirective":11,"./media/index":14}],6:[function(e,t,i){"use strict";var n=e("../media/MediaService");!function(){function e(e){"ngInject";return{restrict:"EA",link:function(i,n,o){new t(e,n,o)}}}e.$inject=["$rootScope"];var t=function(){function e(e,t,i){var o=this;this.$rootScope=e,this.$element=t,this.$attrs=i,t.addClass("pip-card");var r=function(){o.resize()};e.$on(n.MainResizedEvent,r),this.resize(),setTimeout(r,100)}return e.prototype.resize=function(){var e,t,i=this,o=$(".pip-main-body"),r=$(".pip-card-container"),s=($("pip-main").width(),o.width()),a=o.height(),u=this.$attrs.minWidth?Math.floor(Number(this.$attrs.minWidth)):null,c=this.$attrs.minHeight?Math.floor(Number(this.$attrs.minHeight)):null,p=this.$attrs.width?Math.floor(Number(this.$attrs.width)):null,l=this.$attrs.height?Math.floor(Number(this.$attrs.height)):null;if(n.MainBreakpointStatuses.xs)u=null,c=null,p=null,l=null,s=null,a=null;else{var d=n.MainBreakpointStatuses["gt-md"]?24:16;s-=2*d,a-=2*d,u=u?Math.min(u,s):null,c=c?Math.min(c,a):null,p=p?Math.min(p,s):null,l=l?Math.min(l,a):null}if(this.$element.css("max-width",s?s+"px":""),this.$element.css("min-width",u?u+"px":""),this.$element.css("width",p?p+"px":""),this.$element.css("height",l?l+"px":""),r.hasClass("pip-outer-scroll"))r.addClass("pip-scroll"),n.MainBreakpointStatuses.xs?(e=0,t=0):(e=r.width()/2-this.$element.width()/2-16,t=Math.max(r.height()/2-this.$element.height()/2-16,0)),this.$element.css("left",e),this.$element.css("top",t),setTimeout(function(){i.$element.css("display","flex")},100);else{this.$element.css("max-height",a?a+"px":""),this.$element.css("min-height",c?c+"px":"");var f=this.$element.find(".pip-header:visible"),h=this.$element.find(".pip-footer:visible"),m=this.$element.find(".pip-body"),g=a||o.height();f.length>0&&(g-=f.outerHeight(!0)),h.length>0&&(g-=h.outerHeight(!0)),m.css("max-height",g+"px")}this.$rootScope.$emit("pipLayoutResized")},e}();angular.module("pipLayout").directive("pipCard",e)}()},{"../media/MediaService":12}],7:[function(e,t,i){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-dialog")}}}angular.module("pipLayout").directive("pipDialog",e)}()},{}],8:[function(e,t,i){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-document")}}}angular.module("pipLayout").directive("pipDocument",e)}()},{}],9:[function(e,t,i){"use strict";var n=e("../media/ResizeFunctions"),o=e("../media/MediaService");!function(){function e(){return{restrict:"EA",controller:i,controllerAs:"vm"}}function t(){return{restrict:"EA",link:r}}var i=function(){function e(e,t,i,o,r){var s=this;this.$scope=e,this.$element=t,this.$rootScope=i,this.$timeout=o,this.$attrs=r,this._container=r.pipContainer?$(r.pipContainer):t,t.addClass("pip-main");var a=function(){s.resize()};n.addResizeListener(this._container[0],a),e.$on("$destroy",function(){n.removeResizeListener(s._container[0],a)}),this.updateBreakpointStatuses()}return e.$inject=["$scope","$element","$rootScope","$timeout","$attrs"],e.prototype.updateBreakpointStatuses=function(){var e=this,t=this._container.innerWidth(),i=$("body");o.MainBreakpointStatuses.update(o.MainBreakpoints,t),$.each(o.MainBreakpointStatuses,function(e,t){_.isBoolean(t)&&i[t?"addClass":"removeClass"]("pip-"+e)}),this.$timeout(function(){e.$rootScope.$apply()})},e.prototype.resize=function(){this.updateBreakpointStatuses(),this.$rootScope.$emit(o.MainResizedEvent,o.MainBreakpointStatuses)},e}(),r=function(){function e(e,t){t.addClass("pip-main-body")}return e}();angular.module("pipLayout").directive("pipMain",e).directive("pipMainBody",t)}()},{"../media/MediaService":12,"../media/ResizeFunctions":13}],10:[function(e,t,i){"use strict";!function(){function e(){return{restrict:"EA",link:function(e,t,i){t.addClass("pip-simple")}}}angular.module("pipLayout").directive("pipSimple",e)}()},{}],11:[function(e,t,i){"use strict";function n(e){"ngInject";function t(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}return{restrict:"EA",scope:!1,transclude:!0,template:function(e,i){return t(i.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(e){e.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:function(t,i,n){new s(t,i,e,n)}}}n.$inject=["$rootScope"];var o=e("../media/ResizeFunctions"),r=e("../media/MediaService"),s=function(){function e(e,t,i,n){var s=this;this._element=t,this._rootScope=i,this._attrs=n,this._columnWidth=n.columnWidth?Math.floor(n.columnWidth):440,this._container=t.children(".pip-tiles-container"),this._prevContainerWidth=null,this._masonry=Masonry.data(this._container[0]),t.addClass("pip-tiles");var a=function(){s.resize(!1)};o.addResizeListener(t[0],a),e.$on("$destroy",function(){o.removeResizeListener(t[0],a)}),this._sizer=$('<div class="pip-tile-sizer"></div>'),this._sizer.appendTo(this._container),i.$on(r.MainResizedEvent,function(){s.resize(!1)}),this.resize(!0)}return e.prototype.resize=function(e){var t,i=this._element.parent().width();if(console.log(),r.MainBreakpointStatuses["gt-xs"]&&i-36>this._columnWidth){i-=48;var n=Math.floor(i/this._columnWidth);t=(this._columnWidth+16)*n-16,t>i&&(n--,t=(this._columnWidth+16)*n-16),n<1?(t=i,this._sizer.css("width",t+"px")):this._sizer.css("width",this._columnWidth+"px"),this._container.css("width",t+10+"px"),this._container.removeClass("pip-mobile")}else i-=32,t=i,this._sizer.css("width",t+"px"),this._container.css("width",t+10+"px"),this._container.addClass("pip-mobile");(this._prevContainerWidth!=t||e)&&(this._prevContainerWidth=t,this._masonry.layout(),this._rootScope.$emit(r.LayoutResizedEvent))},e}();angular.module("pipLayout").directive("pipTiles",n)},{"../media/MediaService":12,"../media/ResizeFunctions":13}],12:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n){this.xs=e,this.sm=t,this.md=i,this.lg=n}return e}();i.MediaBreakpoints=n;var o=function(){function e(){}return e.prototype.update=function(e,t){null!=e&&(this.width=t,this.xs=t<=e.xs,this["gt-xs"]=t>e.xs,this.sm=t>e.xs&&t<=e.sm,this["gt-sm"]=t>e.sm,this.md=t>e.sm&&t<=e.md,this["gt-md"]=t>e.md,this.lg=t>e.md&&t<=e.lg,this["gt-lg"]=t>e.lg,this.xl=this["gt-lg"])},e}();i.MediaBreakpointStatuses=o,i.MainResizedEvent="pipMainResized",i.LayoutResizedEvent="pipLayoutResized",i.MainBreakpoints=new n(639,716,1024,1439),i.MainBreakpointStatuses=new o;var r=function(){function e(){}return Object.defineProperty(e.prototype,"breakpoints",{get:function(){return i.MainBreakpoints},set:function(e){i.MainBreakpoints=e},enumerable:!0,configurable:!0}),e.prototype.$get=function(){var e=function(e){return i.MainBreakpointStatuses[e]};return Object.defineProperty(e,"breakpoints",{get:function(){return i.MainBreakpoints},set:function(e){i.MainBreakpoints=e||new n(639,716,1024,1439),i.MainBreakpointStatuses.update(i.MainBreakpoints,i.MainBreakpointStatuses.width)}}),Object.defineProperty(e,"width",{get:function(){return i.MainBreakpointStatuses.width}}),e},e}();angular.module("pipMedia").provider("pipMedia",r)},{}],13:[function(e,t,i){"use strict";function n(e){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return t(e)}function o(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}function r(e){var t=e.target||e.srcElement;t.__resizeRAF__&&o(),t.__resizeRAF__=n(function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach(function(t){t.call(i,e)})})}function s(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",r)}function a(e,t){if(!e.__resizeListeners__)if(e.__resizeListeners__=[],c)e.__resizeTrigger__=e,e.attachEvent("onresize",r);else{"static"==getComputedStyle(e).position&&(e.style.position="relative");var i=e.__resizeTrigger__=document.createElement("object");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),i.__resizeElement__=e,i.onload=s,i.type="text/html",p&&e.appendChild(i),i.data="about:blank",p||e.appendChild(i)}e.__resizeListeners__.push(t)}function u(e,t){t&&e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(c?e.detachEvent("onresize",r):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",r),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)))}var c=document.attachEvent,p=navigator.userAgent.match(/Trident/);i.addResizeListener=a,i.removeResizeListener=u},{}],14:[function(e,t,i){"use strict";function n(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}angular.module("pipMedia",[]),e("./MediaService"),e("./ResizeFunctions"),n(e("./MediaService")),n(e("./ResizeFunctions"))},{"./MediaService":12,"./ResizeFunctions":13}]},{},[5])(5)});
//# sourceMappingURL=pip-webui-layouts.min.js.map
