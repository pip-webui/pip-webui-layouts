!function(){"use strict";angular.module("pipLayout",["pipLayout.Main","pipLayout.Simple","pipLayout.Card","pipLayout.Document","pipLayout.Tiles","pipLayout.Dialog","pipLayout.Media"])}(),function(){"use strict";var i=angular.module("pipLayout.Card",[]);i.directive("pipCard",function(){return{restrict:"EA",link:function(i,e,t){function n(){var n,o,r=$(".pip-main-body"),s=$(".pip-card-container"),l=$("pip-main").width(),a=r.width(),p=r.height(),u=t.minWidth?Math.floor(t.minWidth):null,c=t.minHeight?Math.floor(t.minHeight):null,d=t.width?Math.floor(t.width):null,m=t.height?Math.floor(t.height):null;if(l<=768)u=null,c=null,d=null,m=null,a=null,p=null;else{var h=l>1200?24:16;a-=2*h,p-=2*h,u=u?Math.min(u,a):null,c=c?Math.min(c,p):null,d=d?Math.min(d,a):null,m=m?Math.min(m,p):null}if(e.css("max-width",a?a+"px":""),e.css("min-width",u?u+"px":""),e.css("width",d?d+"px":""),e.css("height",m?m+"px":""),s.hasClass("pip-outer-scroll"))s.addClass("pip-scroll"),l<=768?(n=0,o=0):(n=s.width()/2-e.width()/2-16,o=Math.max(s.height()/2-e.height()/2-16,0)),e.css("left",n),e.css("top",o),setTimeout(function(){e.css("display","flex")},100);else{e.css("max-height",p?p+"px":""),e.css("min-height",c?c+"px":"");var _=e.find(".pip-header:visible"),f=e.find(".pip-footer:visible"),g=e.find(".pip-body"),v=p||r.height();_.length>0&&(v-=_.outerHeight(!0)),f.length>0&&(v-=f.outerHeight(!0)),g.css("max-height",v+"px")}i.$broadcast("pipLayoutResized")}e.addClass("pip-card"),i.$on("pipWindowResized",n),n(),setTimeout(n,100)}}})}(),function(){"use strict";var i=angular.module("pipLayout.Dialog",[]);i.directive("pipDialog",function(){return{restrict:"EAC",controller:"pipDialogController"}}),i.controller("pipDialogController",["$element","$attrs",function(i,e){i.addClass("pip-dialog"),i.css("width",e.width)}])}(),function(){"use strict";var i=angular.module("pipLayout.Document",[]);i.directive("pipDocument",function(){return{restrict:"EA",controller:"pipDocumentController"}}),i.controller("pipDocumentController",["$scope","$element","$attrs",function(i,e,t){e.addClass("pip-document")}])}(),function(){"use strict";var i=angular.module("pipLayout.Main",[]);i.directive("pipMain",function(){return{restrict:"EA",controller:"pipMainController"}}),i.directive("pipMainBody",function(){return{restrict:"EA",link:function(i,e){e.addClass("pip-main-body")}}}),i.controller("pipMainController",["$scope","$element","$rootScope","pipMedia",function(i,e,t,n){function o(){t.$broadcast("pipWindowResized")}$(window);e.addClass("pip-main"),n().addResizeListener(e[0],o),i.$on("$destroy",function(){n().removeResizeListener(e[0])})}])}(),function(){"use strict";var i=angular.module("pipLayout.Media",[]);i.service("pipMedia",["$rootScope","$timeout",function(i,e){function t(i){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(i){return window.setTimeout(i,20)};return e(i)}function n(){var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return i(e)}}function o(i){var e=i.target||i.srcElement;e.__resizeRAF__&&n(),e.__resizeRAF__=t(function(){var t=e.__resizeTrigger__;t.__resizeListeners__.forEach(function(e){e.call(t,i)})})}function r(i){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",o)}function s(i,e){if(!i.__resizeListeners__)if(i.__resizeListeners__=[],d)i.__resizeTrigger__=i,i.attachEvent("onresize",o);else{"static"==getComputedStyle(i).position&&(i.style.position="relative");var t=i.__resizeTrigger__=document.createElement("object");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),t.__resizeElement__=i,t.onload=r,t.type="text/html",m&&i.appendChild(t),t.data="about:blank",m||i.appendChild(t)}p(),e&&i.__resizeListeners__.push(e),i.__resizeListeners__.push(p)}function l(i,e){e&&i.__resizeListeners__.splice(i.__resizeListeners__.indexOf(e),1),i.__resizeListeners__.length||(d?i.detachEvent("onresize",o):(i.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",o),i.__resizeTrigger__=!i.removeChild(i.__resizeTrigger__)))}function a(){$.each(c,function(i,e){$("body")[e?"addClass":"removeClass"]("pip-"+i)})}function p(){u=$(".pip-main").innerWidth(),c.xs=u<=768,c["gt-xs"]=u>=769,c.sm=u>=769&&u<=1199,c["gt-sm"]=u>=1200,c.md=u>=1200&&u<=1399,c["gt-md"]=u>=1400,c.lg=u>=1400&&u<=1919,c["gt-lg"]=u>=1920,c.xl=c["gt-lg"],a(),e(function(){i.$apply()})}var u=null,c={xs:!1,"gt-xs":!1,sm:!1,"gt-sm":!1,md:!1,"gt-md":!1,lg:!1,"gt-lg":!1,xl:!1},d=document.attachEvent,m=navigator.userAgent.match(/Trident/);return function(i){return i?c[i]:{addResizeListener:s,removeResizeListener:l}}}])}(),function(){"use strict";var i=angular.module("pipLayout.Simple",[]);i.directive("pipSimple",function(){return{restrict:"EA",link:function(i,e,t){e.addClass("pip-simple")}}})}(),function(){"use strict";function i(i,e,t){function n(e){var t,n=$(".pip-main").width();if(console.log("width",n),n>767){n-=48;var p=Math.floor(n/o);t=(o+16)*p-16,t>n&&(p--,t=(o+16)*p-16),p<1?(t=n,a.css("width",t+"px")):a.css("width",o+"px"),r.css("width",t+10+"px"),r.removeClass("pip-mobile")}else n-=32,t=n,a.css("width",t+"px"),r.css("width",t+10+"px"),r.addClass("pip-mobile");(s!=t||e)&&(s=t,l.layout(),i.$broadcast("pipLayoutResized"))}var o=t.columnWidth?Math.floor(t.columnWidth):440,r=e.children(".pip-tiles-container"),s=null,l=Masonry.data(r[0]);e.addClass("pip-tiles");var a=$('<div class="pip-tile-sizer"></div>');a.appendTo(r),i.$on("pipWindowResized",function(){n(!1)}),n(!0)}function e(i){return null!=i&&(!!i&&(i=i.toString().toLowerCase(),"1"==i||"true"==i))}var t=angular.module("pipLayout.Tiles",["wu.masonry"]);t.directive("pipTiles",function(){return{restrict:"EA",scope:!1,transclude:!0,template:function(i,t){return e(t.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(i){i.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:i}})}();