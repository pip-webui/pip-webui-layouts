{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts"],"names":[],"mappings":"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","file":"pip-webui-layouts.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './IAuxPanelService';\n\n{\n    class AuxPanelDirectiveController {\n        private normalSize: number = 320;\n        private largeSize: number = 480;\n\n        public constructor(private pipAuxPanel: IAuxPanelService) { }\n\n        public isGtxs(): boolean {\n            return Number($('body').width()) > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\n        }\n\n        public isGtlg(): boolean {\n            return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\n        }\n    }\n\n    const AuxPanel: ng.IComponentOptions = {\n\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" pip-focused ng-transclude>' +\n        '</md-sidenav>'\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .component('pipAuxPanel', AuxPanel);\n\n}","{\n\n    class AuxPanelPartController {\n        private partName: string;\n        private partValue: string;\n        private pos: number;\n\n        constructor(\n            private $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs,\n            $rootScope: ng.IRootScopeService,\n            pipAuxPanel) {\n\n            this.partName = '' + $attrs.pipAuxPanelPart;\n            this.pos = this.partName.indexOf(':');\n            if (this.pos > 0) {\n                this.partValue = this.partName.substr(this.pos + 1);\n                this.partName = this.partName.substr(0, this.pos);\n            }\n\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\n                this.onAuxPanelChanged(event, config);\n            });\n\n        }\n\n        private onAuxPanelChanged(event, config) {\n            let parts = config.parts || {};\n            let currentPartValue = config[this.partName];\n            // Set visible variable to switch ngIf\n\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\n        }\n    }\n\n\n    function AuxPanelPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        let ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function ($scope: ng.IScope, $element, $attrs) {\n                // Visualize based on visible variable in scope\n                $attrs.ngIf = () => { return $scope['visible'] };\n                ngIf.link.apply(ngIf);\n            },\n            controller: AuxPanelPartController\n        };\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent } from './IAuxPanelService';\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n    }\n            \n    public close() {\n        this._sidenav(this.id).close();\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n  \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }     \n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}","angular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPart';\nimport './AuxPanel';\n\nexport * from './IAuxPanelService';","angular.module('pipLayout', ['wu.masonry', 'pipMedia', 'pipAuxPanel']);\n\nimport './media/index';\n\nimport './layouts/MainDirective';\nimport './layouts/CardDirective';\nimport './layouts/DialogDirective';\nimport './layouts/DocumentDirective';\nimport './layouts/SimpleDirective';\nimport './layouts/TilesDirective';\nimport './auxpanel/index';\n\nexport * from './media/index';\n","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\ninterface ICardDirectiveAttributes extends ng.IAttributes {\n    minWidth: string | number;\n    minHeight: string | number;\n    width: string | number;\n    height: string | number;\n}\n\nclass CardDirectiveLink {\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService, \n        private $element: JQuery, \n        private $attrs: ICardDirectiveAttributes\n    ) {\n\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        const\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width();\n        let\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this.$element.css('width', width ? width + 'px' : '');\n        this.$element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\n            const\n                $header = this.$element.find('.pip-header:visible'),\n                $footer = this.$element.find('.pip-footer:visible'),\n                $body = this.$element.find('.pip-body');\n            let maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\n            }\n\n            this.$element.css('left', left);\n            this.$element.css('top', top);\n\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this.$rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction dialogDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction documentDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent } from '../media/IMediaService'; \nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService'; \n\n// Avoid default export\n(() => {\n\ninterface IMainDirectiveAttributes extends ng.IAttributes {\n    pipContainer: string;\n}\n\nclass MainDirectiveController implements ng.IController {\n    private _container: any;\n\n    public constructor(\n        private $scope: ng.IScope, \n        private $element: angular.IRootElementService, \n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $attrs: IMainDirectiveAttributes\n    ) {\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n        // Add CSS class\n        $element.addClass('pip-main');\n\n        // Add resize listener\n        const listener = () => { this.resize(); };\n        addResizeListener(this._container[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener(this._container[0], listener);\n        });\n\n        // Perform initial calculations\n        this.updateBreakpointStatuses();\n    }\n\n    private updateBreakpointStatuses() {\n        const width = this._container.innerWidth();\n        const body = $('body');\n\n        MainBreakpointStatuses.update(MainBreakpoints, width);\n\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\n            if (_.isBoolean(status)) {\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\n            }\n        });\n\n        this.$timeout(() => {\n            this.$rootScope.$apply();\n        });\n    }\n    \n    private resize() {\n        this.updateBreakpointStatuses();\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n    }\n}\n\nclass MainBodyDirectiveLink {\n    public constructor(\n        $scope: ng.IScope, \n        $element: angular.IRootElementService\n    ) {\n        // Add CSS class\n        $element.addClass('pip-main-body');\n    }\n}\n\nfunction mainDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        controller: MainDirectiveController,\n        controllerAs: 'vm' \n    }\n}\n\nfunction mainBodyDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: MainBodyDirectiveLink\n    }\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipMain', mainDirective)\n    .directive('pipMainBody', mainBodyDirective);\n\n})();","(() => {\n\nfunction simpleDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-simple');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipSimple', simpleDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\n    columnWidth: string | number;\n    pipInfinite: string | boolean | number;\n}\n\nclass TilesOptions {\n    gutter: number;\n    isFitWidth: boolean;\n    isResizeBound: boolean;\n    transitionDuration: number;\n}\n\ninterface ITilesControllerScope extends ng.IScope {\n    tilesOptions: TilesOptions;\n}\n\nclass TilesDirectiveLink {\n    private _columnWidth: number;\n    private _container: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor(\n        $scope: ng.IScope, \n        private $element: JQuery, \n        private $attrs: ITilesDirectiveAttributes,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\n        this._container = $element.children('.pip-tiles-container'),\n        this._prevContainerWidth = null,\n        this._masonry = Masonry.data(this._container[0]);\n        \n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        const listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this.$element.parent().width(),\n            containerWidth;\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this.$rootScope.$emit(LayoutResizedEvent);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value): boolean {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: false,\n        transclude: true,\n        template:\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n                if (convertToBoolean($attrs.pipInfinite)) {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\n                        + '</div>';\n                } else {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\">'\n                        + '</div>';\n                }\n            },\n        controller: ($scope: ITilesControllerScope) => {\n            $scope.tilesOptions = {\n                gutter: 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","export const MainResizedEvent = 'pipMainResized';\nexport const LayoutResizedEvent = 'pipLayoutResized';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\nimport { IMediaProvider } from './IMediaService';\n\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\n\nclass MediaProvider implements IMediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        const service = (size) => {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","let attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n    let frame = window.requestAnimationFrame \n        || (<any>window).mozRequestAnimationFrame \n        || (<any>window).webkitRequestAnimationFrame \n        || function(callback) { \n            return window.setTimeout(callback, 20);     \n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n    let cancel = window.cancelAnimationFrame \n        || (<any>window).mozCancelAnimationFrame \n        || (<any>window).webkitCancelAnimationFrame \n        || window.clearTimeout;\n\n    return function(id) { \n        return cancel(id); \n    };\n}\n\nfunction resizeListener(event: any): void {\n    const win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function() {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function(fn){\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nexport function addResizeListener(element, listener): void {\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n        }\n    }\n}\n","angular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './IMediaService';\nexport * from './MediaService';\nexport * from './ResizeFunctions';"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXV4cGFuZWwvQXV4UGFuZWwudHMiLCJzcmMvYXV4cGFuZWwvQXV4UGFuZWxQYXJ0LnRzIiwic3JjL2F1eHBhbmVsL0F1eFBhbmVsU2VydmljZS50cyIsInNyYy9hdXhwYW5lbC9JQXV4UGFuZWxTZXJ2aWNlLnRzIiwic3JjL2F1eHBhbmVsL2luZGV4LnRzIiwic3JjL2luZGV4LnRzIiwic3JjL2xheW91dHMvQ2FyZERpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL0RpYWxvZ0RpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL0RvY3VtZW50RGlyZWN0aXZlLnRzIiwic3JjL2xheW91dHMvTWFpbkRpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL1NpbXBsZURpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL1RpbGVzRGlyZWN0aXZlLnRzIiwic3JjL21lZGlhL0lNZWRpYVNlcnZpY2UudHMiLCJzcmMvbWVkaWEvTWVkaWFTZXJ2aWNlLnRzIiwic3JjL21lZGlhL1Jlc2l6ZUZ1bmN0aW9ucy50cyIsInNyYy9tZWRpYS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsc0RBQXdEO0FBR3hELENBQUM7SUFDRztRQUlJLHFDQUEyQixXQUE2QjtZQUE3QixnQkFBVyxHQUFYLFdBQVcsQ0FBa0I7WUFIaEQsZUFBVSxHQUFXLEdBQUcsQ0FBQztZQUN6QixjQUFTLEdBQVcsR0FBRyxDQUFDO1FBRTRCLENBQUM7UUFFdEQsNENBQU0sR0FBYjtZQUNJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsOEJBQWUsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN2RixDQUFDO1FBRU0sNENBQU0sR0FBYjtZQUNJLE1BQU0sQ0FBQyxNQUFNLENBQUMs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QyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQztZQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxDQUFDO1lBQ0YsT0FBTyxDQUFDLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDaEYsQ0FBQztJQUNMLENBQUM7QUFDTCxDQUFDO0FBVEQsb0RBU0M7Ozs7Ozs7O0FDekVELE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRS9CLDBCQUF3QjtBQUN4Qiw2QkFBMkI7QUFFM0IscUNBQWdDO0FBQ2hDLG9DQUErQjtBQUMvQix1Q0FBa0MiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHsgTWFpbkJyZWFrcG9pbnRzIH0gZnJvbSAnLi4vbWVkaWEvTWVkaWFTZXJ2aWNlJztcbmltcG9ydCB7IElBdXhQYW5lbFNlcnZpY2UgfSBmcm9tICcuL0lBdXhQYW5lbFNlcnZpY2UnO1xuXG57XG4gICAgY2xhc3MgQXV4UGFuZWxEaXJlY3RpdmVDb250cm9sbGVyIHtcbiAgICAgICAgcHJpdmF0ZSBub3JtYWxTaXplOiBudW1iZXIgPSAzMjA7XG4gICAgICAgIHByaXZhdGUgbGFyZ2VTaXplOiBudW1iZXIgPSA0ODA7XG5cbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcGlwQXV4UGFuZWw6IElBdXhQYW5lbFNlcnZpY2UpIHsgfVxuXG4gICAgICAgIHB1YmxpYyBpc0d0eHMoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKCQoJ2JvZHknKS53aWR0aCgpKSA+IE1haW5CcmVha3BvaW50cy54cyAmJiB0aGlzLnBpcEF1eFBhbmVsLmlzT3BlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzR3RsZygpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoJCgnYm9keScpLndpZHRoKCkpID4gKE1haW5CcmVha3BvaW50cy5sZyArIHRoaXMubGFyZ2VTaXplKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IEF1eFBhbmVsOiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IHtcblxuICAgICAgICBjb250cm9sbGVyOiBBdXhQYW5lbERpcmVjdGl2ZUNvbnRyb2xsZXIsXG4gICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlOiAnPG1kLXNpZGVuYXYgY2xhc3M9XCJtZC1zaWRlbmF2LXJpZ2h0IG1kLXdoaXRlZnJhbWUtejIgcGlwLWF1eHBhbmVsIGNvbG9yLWNvbnRlbnQtYmdcIiBuZy1jbGFzcz1cIntcXCdwaXAtbGFyZ2VcXCc6ICRjdHJsLmlzR3RsZygpfVwiJyArXG4gICAgICAgICdtZC1jb21wb25lbnQtaWQ9XCJwaXAtYXV4cGFuZWxcIiBtZC1pcy1sb2NrZWQtb3Blbj1cIiRjdHJsLmlzR3R4cygpXCIgcGlwLWZvY3VzZWQgbmctdHJhbnNjbHVkZT4nICtcbiAgICAgICAgJzwvbWQtc2lkZW5hdj4nXG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdwaXBBdXhQYW5lbCcpXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEF1eFBhbmVsJywgQXV4UGFuZWwpO1xuXG59Iiwie1xuXG4gICAgY2xhc3MgQXV4UGFuZWxQYXJ0Q29udHJvbGxlciB7XG4gICAgICAgIHByaXZhdGUgcGFydE5hbWU6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBwYXJ0VmFsdWU6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBwb3M6IG51bWJlcjtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICAgICAkZWxlbWVudDogbmcuSVJvb3RFbGVtZW50U2VydmljZSxcbiAgICAgICAgICAgICRhdHRycyxcbiAgICAgICAgICAgICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICAgICAgcGlwQXV4UGFuZWwpIHtcblxuICAgICAgICAgICAgdGhpcy5wYXJ0TmFtZSA9ICcnICsgJGF0dHJzLnBpcEF1eFBhbmVsUGFydDtcbiAgICAgICAgICAgIHRoaXMucG9zID0gdGhpcy5wYXJ0TmFtZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0VmFsdWUgPSB0aGlzLnBhcnROYW1lLnN1YnN0cih0aGlzLnBvcyArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFydE5hbWUgPSB0aGlzLnBhcnROYW1lLnN1YnN0cigwLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub25BdXhQYW5lbENoYW5nZWQobnVsbCwgcGlwQXV4UGFuZWwuY29uZmlnKVxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ3BpcEF1eFBhbmVsQ2hhbmdlZCcsIChldmVudCwgY29uZmlnKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkF1eFBhbmVsQ2hhbmdlZChldmVudCwgY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uQXV4UGFuZWxDaGFuZ2VkKGV2ZW50LCBjb25maWcpIHtcbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IGNvbmZpZy5wYXJ0cyB8fCB7fTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFydFZhbHVlID0gY29uZmlnW3RoaXMucGFydE5hbWVdO1xuICAgICAgICAgICAgLy8gU2V0IHZpc2libGUgdmFyaWFibGUgdG8gc3dpdGNoIG5nSWZcblxuICAgICAgICAgICAgdGhpcy4kc2NvcGVbJ3Zpc2libGUnXSA9IHRoaXMucGFydFZhbHVlID8gY3VycmVudFBhcnRWYWx1ZSA9PSB0aGlzLnBhcnRWYWx1ZSA6IGN1cnJlbnRQYXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIEF1eFBhbmVsUGFydERpcmVjdGl2ZShuZ0lmRGlyZWN0aXZlKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICBsZXQgbmdJZiA9IG5nSWZEaXJlY3RpdmVbMF07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IG5nSWYudHJhbnNjbHVkZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiBuZ0lmLnByaW9yaXR5LFxuICAgICAgICAgICAgdGVybWluYWw6IG5nSWYudGVybWluYWwsXG4gICAgICAgICAgICByZXN0cmljdDogbmdJZi5yZXN0cmljdCxcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgLy8gVmlzdWFsaXplIGJhc2VkIG9uIHZpc2libGUgdmFyaWFibGUgaW4gc2NvcGVcbiAgICAgICAgICAgICAgICAkYXR0cnMubmdJZiA9ICgpID0+IHsgcmV0dXJuICRzY29wZVsndmlzaWJsZSddIH07XG4gICAgICAgICAgICAgICAgbmdJZi5saW5rLmFwcGx5KG5nSWYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IEF1eFBhbmVsUGFydENvbnRyb2xsZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEF1eFBhbmVsJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwQXV4UGFuZWxQYXJ0JywgQXV4UGFuZWxQYXJ0RGlyZWN0aXZlKTtcblxufSIsImltcG9ydCB7IEF1eFBhbmVsU3RhdGVDaGFuZ2VkRXZlbnQsIEF1eFBhbmVsQ2hhbmdlZEV2ZW50LCBPcGVuQXV4UGFuZWxFdmVudCwgQ2xvc2VBdXhQYW5lbEV2ZW50IH0gZnJvbSAnLi9JQXV4UGFuZWxTZXJ2aWNlJztcbmltcG9ydCB7IEF1eFBhbmVsQ29uZmlnLCBJQXV4UGFuZWxTZXJ2aWNlLCBJQXV4UGFuZWxQcm92aWRlciB9IGZyb20gJy4vSUF1eFBhbmVsU2VydmljZSc7XG5cbmNsYXNzIEF1eFBhbmVsU2VydmljZSBpbXBsZW1lbnRzIElBdXhQYW5lbFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2NvbmZpZzogQXV4UGFuZWxDb25maWc7XG4gICAgcHJpdmF0ZSBfc3RhdGU6IGFueTtcbiAgICBwcml2YXRlIF9yb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlO1xuICAgIHByaXZhdGUgX3NpZGVuYXY6IG5nLm1hdGVyaWFsLklTaWRlbmF2U2VydmljZTtcbiAgICBwcml2YXRlIGlkID0gJ3BpcC1hdXhwYW5lbCc7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29uZmlnOiBBdXhQYW5lbENvbmZpZywgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsICRtZFNpZGVuYXY6IG5nLm1hdGVyaWFsLklTaWRlbmF2U2VydmljZSkge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgICAgIHRoaXMuX3NpZGVuYXYgPSAkbWRTaWRlbmF2O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY29uZmlnKCk6IEF1eFBhbmVsQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNsYXNzZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmNsYXNzZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwYXJ0cygpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnBhcnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcGFydHModmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9jb25maWcucGFydHMgPSB2YWx1ZSB8fCB7fTtcbiAgICAgICAgdGhpcy5zZW5kQ29uZmlnRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHN0YXRlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHN0YXRlKHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB2YWx1ZSB8fCB7fTtcbiAgICAgICAgdGhpcy5fcm9vdFNjb3BlLiRicm9hZGNhc3QoQXV4UGFuZWxTdGF0ZUNoYW5nZWRFdmVudCwgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc09wZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWRlbmF2KHRoaXMuaWQpLmlzT3BlbigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvcGVuKCkge1xuICAgICAgICB0aGlzLl9zaWRlbmF2KHRoaXMuaWQpLm9wZW4oKTtcbiAgICB9XG4gICAgICAgICAgICBcbiAgICBwdWJsaWMgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3NpZGVuYXYodGhpcy5pZCkuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlKCkge1xuICAgICAgICB0aGlzLl9zaWRlbmF2KHRoaXMuaWQpLnRvZ2dsZSgpO1xuICAgIH1cbiAgXG4gICAgcHVibGljIGFkZENsYXNzKC4uLmNsYXNzZXM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgICAgIF8uZWFjaChjbGFzc2VzLCAoYykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmNsYXNzZXMucHVzaChjKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZENvbmZpZ0V2ZW50KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgICAgIF8uZWFjaChjbGFzc2VzLCAoYykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmNsYXNzZXMgPSBfLnJlamVjdCh0aGlzLl9jb25maWcuY2xhc3NlcywgKGNjKSA9PiBjYyA9PSBjKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZENvbmZpZ0V2ZW50KCk7XG4gICAgfVxuIFxuICAgIHB1YmxpYyBwYXJ0KHBhcnQ6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb25maWcucGFydHNbcGFydF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zZW5kQ29uZmlnRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmRDb25maWdFdmVudCgpIHtcbiAgICAgICAgdGhpcy5fcm9vdFNjb3BlLiRlbWl0KEF1eFBhbmVsQ2hhbmdlZEV2ZW50LCB0aGlzLl9jb25maWcpO1xuICAgIH1cbn1cblxuY2xhc3MgQXV4UGFuZWxQcm92aWRlciBpbXBsZW1lbnRzIElBdXhQYW5lbFByb3ZpZGVyIHtcbiAgICBwcml2YXRlIF9jb25maWc6IEF1eFBhbmVsQ29uZmlnID0ge1xuICAgICAgICBwYXJ0czoge30sXG4gICAgICAgIGNsYXNzZXM6IFtdLFxuICAgICAgICB0eXBlOiAnc3RpY2t5JyxcbiAgICAgICAgc3RhdGU6IG51bGxcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBfc2VydmljZTogQXV4UGFuZWxTZXJ2aWNlO1xuXG4gICAgcHVibGljIGdldCBjb25maWcoKTogQXV4UGFuZWxDb25maWcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY29uZmlnKHZhbHVlOiBBdXhQYW5lbENvbmZpZykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB2YWx1ZSB8fCBuZXcgQXV4UGFuZWxDb25maWcoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBhcnRzKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcucGFydHM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwYXJ0cyh2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5wYXJ0cyA9IHZhbHVlIHx8IHt9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdHlwZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnR5cGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB0eXBlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLnR5cGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNsYXNzZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmNsYXNzZXM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjbGFzc2VzKHZhbHVlOiBzdHJpbmdbXSkge1xuICAgICAgICB0aGlzLl9jb25maWcuY2xhc3NlcyA9IHZhbHVlIHx8IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDbGFzcyguLi5jbGFzc2VzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgICAgICBfLmVhY2goY2xhc3NlcywgKGMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5jbGFzc2VzLnB1c2goYyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVDbGFzcyguLi5jbGFzc2VzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgICAgICBfLmVhY2goY2xhc3NlcywgKGMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5jbGFzc2VzID0gXy5yZWplY3QodGhpcy5fY29uZmlnLmNsYXNzZXMsIChjYykgPT4gY2MgPT0gYyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiBcbiAgICBwdWJsaWMgcGFydChwYXJ0OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLnBhcnRzW3BhcnRdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW4oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3NlcnZpY2Uub3BlbigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2VydmljZS5jbG9zZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3NlcnZpY2UudG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgcHVibGljICRnZXQoJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsICRtZFNpZGVuYXY6IG5nLm1hdGVyaWFsLklTaWRlbmF2U2VydmljZSkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NlcnZpY2UgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgQXV4UGFuZWxTZXJ2aWNlKHRoaXMuX2NvbmZpZywgJHJvb3RTY29wZSwgJG1kU2lkZW5hdik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgfSAgICAgXG59XG5cbmZ1bmN0aW9uIGhvb2tBdXhQYW5lbEV2ZW50cygkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSwgcGlwQXV4UGFuZWw6IElBdXhQYW5lbFNlcnZpY2UpIHtcbiAgICAkcm9vdFNjb3BlLiRvbihPcGVuQXV4UGFuZWxFdmVudCwgKCkgPT4geyBwaXBBdXhQYW5lbC5vcGVuKCk7IH0pO1xuICAgICRyb290U2NvcGUuJG9uKENsb3NlQXV4UGFuZWxFdmVudCwgKCkgPT4geyBwaXBBdXhQYW5lbC5jbG9zZSgpOyB9KTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcEF1eFBhbmVsJylcbiAgICAucHJvdmlkZXIoJ3BpcEF1eFBhbmVsJywgQXV4UGFuZWxQcm92aWRlcilcbiAgICAucnVuKGhvb2tBdXhQYW5lbEV2ZW50cyk7XG4iLCJleHBvcnQgY29uc3QgQXV4UGFuZWxDaGFuZ2VkRXZlbnQgPSAncGlwQXV4UGFuZWxDaGFuZ2VkJztcbmV4cG9ydCBjb25zdCBBdXhQYW5lbFN0YXRlQ2hhbmdlZEV2ZW50ID0gJ3BpcEF1eFBhbmVsU3RhdGVDaGFuZ2VkJztcbmV4cG9ydCBjb25zdCBPcGVuQXV4UGFuZWxFdmVudCA9ICdwaXBPcGVuQXV4UGFuZWwnO1xuZXhwb3J0IGNvbnN0IENsb3NlQXV4UGFuZWxFdmVudCA9ICdwaXBDbG9zZUF1eFBhbmVsJztcblxuZXhwb3J0IGNsYXNzIEF1eFBhbmVsQ29uZmlnIHtcbiAgICBwYXJ0czogYW55O1xuICAgIGNsYXNzZXM6IHN0cmluZ1tdO1xuICAgIHN0YXRlOiBhbnk7XG4gICAgdHlwZTogc3RyaW5nO1xufSBcblxuZXhwb3J0IGludGVyZmFjZSBJQXV4UGFuZWxTZXJ2aWNlIHtcbiAgICByZWFkb25seSBjb25maWc6IEF1eFBhbmVsQ29uZmlnO1xuICAgIHJlYWRvbmx5IGNsYXNzZXM6IHN0cmluZ1tdO1xuICAgIHBhcnRzOiBhbnk7XG4gICAgc3RhdGU6IGFueTsgICAgXG5cbiAgICBpc09wZW4oKTogYm9vbGVhbjtcbiAgICBvcGVuKCk6IHZvaWQ7XG4gICAgY2xvc2UoKTogdm9pZDtcbiAgICB0b2dnbGUoKTogdm9pZDtcbiAgXG4gICAgYWRkQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkO1xuICAgIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXM6IHN0cmluZ1tdKTogdm9pZDtcbiBcbiAgICBwYXJ0KHBhcnQ6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUF1eFBhbmVsUHJvdmlkZXIgZXh0ZW5kcyBuZy5JU2VydmljZVByb3ZpZGVyIHtcbiAgICBjb25maWc6IEF1eFBhbmVsQ29uZmlnO1xuICAgIHBhcnRzOiBhbnk7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGNsYXNzZXM6IHN0cmluZ1tdO1xuXG4gICAgb3BlbigpOiB2b2lkO1xuICAgIGNsb3NlKCk6IHZvaWQ7XG4gICAgdG9nZ2xlKCk6IHZvaWQ7XG5cbiAgICBhZGRDbGFzcyguLi5jbGFzc2VzOiBzdHJpbmdbXSk6IHZvaWQ7XG4gICAgcmVtb3ZlQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkO1xuXG4gICAgcGFydChwYXJ0OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkO1xufSIsImFuZ3VsYXIubW9kdWxlKCdwaXBBdXhQYW5lbCcsIFsnbmdNYXRlcmlhbCddKTtcblxuaW1wb3J0ICcuL0F1eFBhbmVsU2VydmljZSc7XG5pbXBvcnQgJy4vQXV4UGFuZWxQYXJ0JztcbmltcG9ydCAnLi9BdXhQYW5lbCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vSUF1eFBhbmVsU2VydmljZSc7IiwiYW5ndWxhci5tb2R1bGUoJ3BpcExheW91dCcsIFsnd3UubWFzb25yeScsICdwaXBNZWRpYScsICdwaXBBdXhQYW5lbCddKTtcblxuaW1wb3J0ICcuL21lZGlhL2luZGV4JztcblxuaW1wb3J0ICcuL2xheW91dHMvTWFpbkRpcmVjdGl2ZSc7XG5pbXBvcnQgJy4vbGF5b3V0cy9DYXJkRGlyZWN0aXZlJztcbmltcG9ydCAnLi9sYXlvdXRzL0RpYWxvZ0RpcmVjdGl2ZSc7XG5pbXBvcnQgJy4vbGF5b3V0cy9Eb2N1bWVudERpcmVjdGl2ZSc7XG5pbXBvcnQgJy4vbGF5b3V0cy9TaW1wbGVEaXJlY3RpdmUnO1xuaW1wb3J0ICcuL2xheW91dHMvVGlsZXNEaXJlY3RpdmUnO1xuaW1wb3J0ICcuL2F1eHBhbmVsL2luZGV4JztcblxuZXhwb3J0ICogZnJvbSAnLi9tZWRpYS9pbmRleCc7XG4iLCJpbXBvcnQgeyBNYWluUmVzaXplZEV2ZW50LCBMYXlvdXRSZXNpemVkRXZlbnQgfSBmcm9tICcuLi9tZWRpYS9JTWVkaWFTZXJ2aWNlJztcbmltcG9ydCB7IE1haW5CcmVha3BvaW50U3RhdHVzZXMgfSBmcm9tICcuLi9tZWRpYS9NZWRpYVNlcnZpY2UnO1xuXG4vLyBBdm9pZCBkZWZhdWx0IGV4cG9ydFxuKCgpID0+IHtcblxuaW50ZXJmYWNlIElDYXJkRGlyZWN0aXZlQXR0cmlidXRlcyBleHRlbmRzIG5nLklBdHRyaWJ1dGVzIHtcbiAgICBtaW5XaWR0aDogc3RyaW5nIHwgbnVtYmVyO1xuICAgIG1pbkhlaWdodDogc3RyaW5nIHwgbnVtYmVyO1xuICAgIHdpZHRoOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgaGVpZ2h0OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmNsYXNzIENhcmREaXJlY3RpdmVMaW5rIHtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSwgXG4gICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSwgXG4gICAgICAgIHByaXZhdGUgJGF0dHJzOiBJQ2FyZERpcmVjdGl2ZUF0dHJpYnV0ZXNcbiAgICApIHtcblxuICAgICAgICAvLyBBZGQgY2xhc3MgdG8gdGhlIGVsZW1lbnRcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1jYXJkJyk7XG5cbiAgICAgICAgbGV0IGxpc3RlbmVyID0gKCkgPT4geyB0aGlzLnJlc2l6ZSgpOyB9XG5cbiAgICAgICAgLy8gUmVzaXplIGV2ZXJ5IHRpbWUgd2luZG93IGlzIHJlc2l6ZWRcbiAgICAgICAgJHJvb3RTY29wZS4kb24oTWFpblJlc2l6ZWRFdmVudCwgbGlzdGVuZXIpO1xuXG4gICAgICAgIC8vIFJlc2l6ZSByaWdodCBhd2F5IHRvIGF2b2lkIGZsaWNraW5nXG4gICAgICAgIHRoaXMucmVzaXplKCk7XG5cbiAgICAgICAgLy8gUmVzaXplIHRoZSBlbGVtZW50IHJpZ2h0IGF3YXlcbiAgICAgICAgc2V0VGltZW91dChsaXN0ZW5lciwgMTAwKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2l6ZSgpIHtcbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgICRtYWluQm9keSA9ICQoJy5waXAtbWFpbi1ib2R5JyksXG4gICAgICAgICAgICBjYXJkQ29udGFpbmVyID0gJCgnLnBpcC1jYXJkLWNvbnRhaW5lcicpLFxuICAgICAgICAgICAgd2luZG93V2lkdGggPSAkKCdwaXAtbWFpbicpLndpZHRoKCk7XG4gICAgICAgIGxldFxuICAgICAgICAgICAgbWF4V2lkdGggPSAkbWFpbkJvZHkud2lkdGgoKSxcbiAgICAgICAgICAgIG1heEhlaWdodCA9ICRtYWluQm9keS5oZWlnaHQoKSxcbiAgICAgICAgICAgIG1pbldpZHRoID0gdGhpcy4kYXR0cnMubWluV2lkdGggPyBNYXRoLmZsb29yKE51bWJlcih0aGlzLiRhdHRycy5taW5XaWR0aCkpIDogbnVsbCxcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IHRoaXMuJGF0dHJzLm1pbkhlaWdodCA/IE1hdGguZmxvb3IoTnVtYmVyKHRoaXMuJGF0dHJzLm1pbkhlaWdodCkpIDogbnVsbCxcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy4kYXR0cnMud2lkdGggPyBNYXRoLmZsb29yKE51bWJlcih0aGlzLiRhdHRycy53aWR0aCkpIDogbnVsbCxcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuJGF0dHJzLmhlaWdodCA/IE1hdGguZmxvb3IoTnVtYmVyKHRoaXMuJGF0dHJzLmhlaWdodCkpIDogbnVsbCxcbiAgICAgICAgICAgIGxlZnQsIHRvcDtcblxuICAgICAgICAvLyBGdWxsLXNjcmVlbiBvbiBwaG9uZVxuICAgICAgICBpZiAoTWFpbkJyZWFrcG9pbnRTdGF0dXNlcy54cykge1xuICAgICAgICAgICAgbWluV2lkdGggPSBudWxsO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgIHdpZHRoID0gbnVsbDtcbiAgICAgICAgICAgIGhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IG51bGw7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhcmQgdmlldyB3aXRoIGFkanVzdGFibGUgbWFyZ2lucyBvbiB0YWJsZXQgYW5kIGRlc2t0b3BcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgbWFyZ2luIGFuZCBtYXhpbXVtIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIGNvbnN0IHNwYWNlID0gTWFpbkJyZWFrcG9pbnRTdGF0dXNlc1snZ3QtbWQnXSA/IDI0IDogMTY7XG4gICAgICAgICAgICBtYXhXaWR0aCAtPSBzcGFjZSAqIDI7XG4gICAgICAgICAgICBtYXhIZWlnaHQgLT0gc3BhY2UgKiAyO1xuXG4gICAgICAgICAgICAvLyBTZXQgbWluaW11bSBkaW1lbnNpb25zXG4gICAgICAgICAgICBtaW5XaWR0aCA9IG1pbldpZHRoID8gTWF0aC5taW4obWluV2lkdGgsIG1heFdpZHRoKSA6IG51bGw7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSBtaW5IZWlnaHQgPyBNYXRoLm1pbihtaW5IZWlnaHQsIG1heEhlaWdodCkgOiBudWxsO1xuXG4gICAgICAgICAgICAvLyBTZXQgcmVndWxhciBkaW1lbnNpb25zXG4gICAgICAgICAgICB3aWR0aCA9IHdpZHRoID8gTWF0aC5taW4od2lkdGgsIG1heFdpZHRoKSA6IG51bGw7XG4gICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgPyBNYXRoLm1pbihoZWlnaHQsIG1heEhlaWdodCkgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ21heC13aWR0aCcsIG1heFdpZHRoID8gbWF4V2lkdGggKyAncHgnIDogJycpO1xuICAgICAgICB0aGlzLiRlbGVtZW50LmNzcygnbWluLXdpZHRoJywgbWluV2lkdGggPyBtaW5XaWR0aCArICdweCcgOiAnJyk7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKCd3aWR0aCcsIHdpZHRoID8gd2lkdGggKyAncHgnIDogJycpO1xuICAgICAgICB0aGlzLiRlbGVtZW50LmNzcygnaGVpZ2h0JywgaGVpZ2h0ID8gaGVpZ2h0ICsgJ3B4JyA6ICcnKTtcblxuICAgICAgICBpZiAoIWNhcmRDb250YWluZXIuaGFzQ2xhc3MoJ3BpcC1vdXRlci1zY3JvbGwnKSkge1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ21heC1oZWlnaHQnLCBtYXhIZWlnaHQgPyBtYXhIZWlnaHQgKyAncHgnIDogJycpO1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ21pbi1oZWlnaHQnLCBtaW5IZWlnaHQgPyBtaW5IZWlnaHQgKyAncHgnIDogJycpO1xuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAkaGVhZGVyID0gdGhpcy4kZWxlbWVudC5maW5kKCcucGlwLWhlYWRlcjp2aXNpYmxlJyksXG4gICAgICAgICAgICAgICAgJGZvb3RlciA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLnBpcC1mb290ZXI6dmlzaWJsZScpLFxuICAgICAgICAgICAgICAgICRib2R5ID0gdGhpcy4kZWxlbWVudC5maW5kKCcucGlwLWJvZHknKTtcbiAgICAgICAgICAgIGxldCBtYXhCb2R5SGVpZ2h0ID0gbWF4SGVpZ2h0IHx8ICRtYWluQm9keS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgaWYgKCRoZWFkZXIubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBtYXhCb2R5SGVpZ2h0IC09ICRoZWFkZXIub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgICAgICBpZiAoJGZvb3Rlci5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIG1heEJvZHlIZWlnaHQgLT0gJGZvb3Rlci5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgICAgICAgJGJvZHkuY3NzKCdtYXgtaGVpZ2h0JywgbWF4Qm9keUhlaWdodCArICdweCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FyZENvbnRhaW5lci5hZGRDbGFzcygncGlwLXNjcm9sbCcpO1xuICAgICAgICAgICAgaWYgKE1haW5CcmVha3BvaW50U3RhdHVzZXMueHMpIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICB0b3AgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gY2FyZENvbnRhaW5lci53aWR0aCgpIC8gMiAtIHRoaXMuJGVsZW1lbnQud2lkdGgoKSAvIDIgLSAxNjtcbiAgICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heChjYXJkQ29udGFpbmVyLmhlaWdodCgpIC8gMiAtIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgLyAyIC0gMTYsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmNzcygnbGVmdCcsIGxlZnQpO1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsIHRvcCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLiRlbGVtZW50LmNzcygnZGlzcGxheScsICdmbGV4Jyk7IH0sIDEwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3RpZnkgY2hpbGQgY29udHJvbHMgdGhhdCBsYXlvdXQgd2FzIHJlc2l6ZWRcbiAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRlbWl0KCdwaXBMYXlvdXRSZXNpemVkJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYXJkRGlyZWN0aXZlKCRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlKSB7XG4gICAgXCJuZ0luamVjdFwiO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIGxpbms6ICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpID0+IHtcbiAgICAgICAgICAgIG5ldyBDYXJkRGlyZWN0aXZlTGluaygkcm9vdFNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwTGF5b3V0JylcbiAgICAuZGlyZWN0aXZlKCdwaXBDYXJkJywgY2FyZERpcmVjdGl2ZSk7XG5cbn0pKCk7IiwiLy8gQXZvaWQgZGVmYXVsdCBleHBvcnRcbigoKSA9PiB7XG5cbmZ1bmN0aW9uIGRpYWxvZ0RpcmVjdGl2ZSgpOiBuZy5JRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgbGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XG4gICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLWRpYWxvZycpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcExheW91dCcpXG4gICAgLmRpcmVjdGl2ZSgncGlwRGlhbG9nJywgZGlhbG9nRGlyZWN0aXZlKTtcblxufSkoKTsiLCIvLyBBdm9pZCBkZWZhdWx0IGV4cG9ydFxuKCgpID0+IHtcblxuZnVuY3Rpb24gZG9jdW1lbnREaXJlY3RpdmUoKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIGxpbms6ICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xuICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1kb2N1bWVudCcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcExheW91dCcpXG4gICAgLmRpcmVjdGl2ZSgncGlwRG9jdW1lbnQnLCBkb2N1bWVudERpcmVjdGl2ZSk7XG5cbn0pKCk7IiwiaW1wb3J0IHsgYWRkUmVzaXplTGlzdGVuZXIsIHJlbW92ZVJlc2l6ZUxpc3RlbmVyIH0gZnJvbSAnLi4vbWVkaWEvUmVzaXplRnVuY3Rpb25zJztcbmltcG9ydCB7IE1haW5SZXNpemVkRXZlbnQgfSBmcm9tICcuLi9tZWRpYS9JTWVkaWFTZXJ2aWNlJzsgXG5pbXBvcnQgeyBNYWluQnJlYWtwb2ludHMsIE1haW5CcmVha3BvaW50U3RhdHVzZXMgfSBmcm9tICcuLi9tZWRpYS9NZWRpYVNlcnZpY2UnOyBcblxuLy8gQXZvaWQgZGVmYXVsdCBleHBvcnRcbigoKSA9PiB7XG5cbmludGVyZmFjZSBJTWFpbkRpcmVjdGl2ZUF0dHJpYnV0ZXMgZXh0ZW5kcyBuZy5JQXR0cmlidXRlcyB7XG4gICAgcGlwQ29udGFpbmVyOiBzdHJpbmc7XG59XG5cbmNsYXNzIE1haW5EaXJlY3RpdmVDb250cm9sbGVyIGltcGxlbWVudHMgbmcuSUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgX2NvbnRhaW5lcjogYW55O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlICRzY29wZTogbmcuSVNjb3BlLCBcbiAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogYW5ndWxhci5JUm9vdEVsZW1lbnRTZXJ2aWNlLCBcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlICRhdHRyczogSU1haW5EaXJlY3RpdmVBdHRyaWJ1dGVzXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9ICRhdHRycy5waXBDb250YWluZXIgPyAkKCRhdHRycy5waXBDb250YWluZXIpIDogJGVsZW1lbnQ7XG5cbiAgICAgICAgLy8gQWRkIENTUyBjbGFzc1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLW1haW4nKTtcblxuICAgICAgICAvLyBBZGQgcmVzaXplIGxpc3RlbmVyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4geyB0aGlzLnJlc2l6ZSgpOyB9O1xuICAgICAgICBhZGRSZXNpemVMaXN0ZW5lcih0aGlzLl9jb250YWluZXJbMF0sIGxpc3RlbmVyKTtcblxuICAgICAgICAvLyBVbmJpbmQgd2hlbiBzY29wZSBpcyByZW1vdmVkXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlUmVzaXplTGlzdGVuZXIodGhpcy5fY29udGFpbmVyWzBdLCBsaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBlcmZvcm0gaW5pdGlhbCBjYWxjdWxhdGlvbnNcbiAgICAgICAgdGhpcy51cGRhdGVCcmVha3BvaW50U3RhdHVzZXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUJyZWFrcG9pbnRTdGF0dXNlcygpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jb250YWluZXIuaW5uZXJXaWR0aCgpO1xuICAgICAgICBjb25zdCBib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIE1haW5CcmVha3BvaW50U3RhdHVzZXMudXBkYXRlKE1haW5CcmVha3BvaW50cywgd2lkdGgpO1xuXG4gICAgICAgICQuZWFjaChNYWluQnJlYWtwb2ludFN0YXR1c2VzLCAoYnJlYWtwb2ludCwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoXy5pc0Jvb2xlYW4oc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgIGJvZHlbc3RhdHVzID8gJ2FkZENsYXNzJzogJ3JlbW92ZUNsYXNzJ10oJ3BpcC0nICsgYnJlYWtwb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSByZXNpemUoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQnJlYWtwb2ludFN0YXR1c2VzKCk7XG4gICAgICAgIHRoaXMuJHJvb3RTY29wZS4kZW1pdChNYWluUmVzaXplZEV2ZW50LCBNYWluQnJlYWtwb2ludFN0YXR1c2VzKTtcbiAgICB9XG59XG5cbmNsYXNzIE1haW5Cb2R5RGlyZWN0aXZlTGluayB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICAkc2NvcGU6IG5nLklTY29wZSwgXG4gICAgICAgICRlbGVtZW50OiBhbmd1bGFyLklSb290RWxlbWVudFNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgLy8gQWRkIENTUyBjbGFzc1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLW1haW4tYm9keScpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFpbkRpcmVjdGl2ZSgpOiBuZy5JRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgY29udHJvbGxlcjogTWFpbkRpcmVjdGl2ZUNvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyBcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1haW5Cb2R5RGlyZWN0aXZlKCk6IG5nLklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBsaW5rOiBNYWluQm9keURpcmVjdGl2ZUxpbmtcbiAgICB9XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBMYXlvdXQnKVxuICAgIC5kaXJlY3RpdmUoJ3BpcE1haW4nLCBtYWluRGlyZWN0aXZlKVxuICAgIC5kaXJlY3RpdmUoJ3BpcE1haW5Cb2R5JywgbWFpbkJvZHlEaXJlY3RpdmUpO1xuXG59KSgpOyIsIigoKSA9PiB7XG5cbmZ1bmN0aW9uIHNpbXBsZURpcmVjdGl2ZSgpOiBuZy5JRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgbGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XG4gICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLXNpbXBsZScpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcExheW91dCcpXG4gICAgLmRpcmVjdGl2ZSgncGlwU2ltcGxlJywgc2ltcGxlRGlyZWN0aXZlKTtcblxufSkoKTsiLCJpbXBvcnQgeyBhZGRSZXNpemVMaXN0ZW5lciwgcmVtb3ZlUmVzaXplTGlzdGVuZXIgfSBmcm9tICcuLi9tZWRpYS9SZXNpemVGdW5jdGlvbnMnO1xuaW1wb3J0IHsgTWFpblJlc2l6ZWRFdmVudCwgTGF5b3V0UmVzaXplZEV2ZW50IH0gZnJvbSAnLi4vbWVkaWEvSU1lZGlhU2VydmljZSc7XG5pbXBvcnQgeyBNYWluQnJlYWtwb2ludHMsIE1haW5CcmVha3BvaW50U3RhdHVzZXMgfSBmcm9tICcuLi9tZWRpYS9NZWRpYVNlcnZpY2UnO1xuXG5kZWNsYXJlIHZhciBNYXNvbnJ5OiBhbnk7XG5cbmludGVyZmFjZSBJVGlsZXNEaXJlY3RpdmVBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgIGNvbHVtbldpZHRoOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgcGlwSW5maW5pdGU6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXI7XG59XG5cbmNsYXNzIFRpbGVzT3B0aW9ucyB7XG4gICAgZ3V0dGVyOiBudW1iZXI7XG4gICAgaXNGaXRXaWR0aDogYm9vbGVhbjtcbiAgICBpc1Jlc2l6ZUJvdW5kOiBib29sZWFuO1xuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgSVRpbGVzQ29udHJvbGxlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcbiAgICB0aWxlc09wdGlvbnM6IFRpbGVzT3B0aW9ucztcbn1cblxuY2xhc3MgVGlsZXNEaXJlY3RpdmVMaW5rIHtcbiAgICBwcml2YXRlIF9jb2x1bW5XaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2NvbnRhaW5lcjogYW55O1xuICAgIHByaXZhdGUgX3ByZXZDb250YWluZXJXaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX21hc29ucnk6IGFueTtcbiAgICBwcml2YXRlIF9zaXplcjogYW55O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICAkc2NvcGU6IG5nLklTY29wZSwgXG4gICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSwgXG4gICAgICAgIHByaXZhdGUgJGF0dHJzOiBJVGlsZXNEaXJlY3RpdmVBdHRyaWJ1dGVzLFxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2NvbHVtbldpZHRoID0gJGF0dHJzLmNvbHVtbldpZHRoID8gTWF0aC5mbG9vcihOdW1iZXIoJGF0dHJzLmNvbHVtbldpZHRoKSkgOiA0NDAsXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9ICRlbGVtZW50LmNoaWxkcmVuKCcucGlwLXRpbGVzLWNvbnRhaW5lcicpLFxuICAgICAgICB0aGlzLl9wcmV2Q29udGFpbmVyV2lkdGggPSBudWxsLFxuICAgICAgICB0aGlzLl9tYXNvbnJ5ID0gTWFzb25yeS5kYXRhKHRoaXMuX2NvbnRhaW5lclswXSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgY2xhc3MgdG8gdGhlIGVsZW1lbnRcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC10aWxlcycpO1xuXG4gICAgICAgIC8vIEFkZCByZXNpemUgbGlzdGVuZXJcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7IHRoaXMucmVzaXplKGZhbHNlKTsgfTtcbiAgICAgICAgYWRkUmVzaXplTGlzdGVuZXIoJGVsZW1lbnRbMF0sIGxpc3RlbmVyKTtcblxuICAgICAgICAvLyBVbmJpbmQgd2hlbiBzY29wZSBpcyByZW1vdmVkXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlUmVzaXplTGlzdGVuZXIoJGVsZW1lbnRbMF0sIGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5zZXJ0IHNpemVyXG4gICAgICAgIHRoaXMuX3NpemVyID0gJCgnPGRpdiBjbGFzcz1cInBpcC10aWxlLXNpemVyXCI+PC9kaXY+Jyk7XG4gICAgICAgIHRoaXMuX3NpemVyLmFwcGVuZFRvKHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gUmVzaXplIGV2ZXJ5IHRpbWUgd2luZG93IGlzIHJlc2l6ZWRcbiAgICAgICAgJHJvb3RTY29wZS4kb24oTWFpblJlc2l6ZWRFdmVudCwgKCkgPT4geyB0aGlzLnJlc2l6ZShmYWxzZSk7IH0pO1xuXG4gICAgICAgIC8vIFJlc2l6ZSB0aGUgZWxlbWVudCByaWdodCBhd2F5XG4gICAgICAgIHRoaXMucmVzaXplKHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzaXplKGZvcmNlOiBib29sZWFuKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuJGVsZW1lbnQucGFyZW50KCkud2lkdGgoKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoO1xuXG4gICAgICAgIGlmIChNYWluQnJlYWtwb2ludFN0YXR1c2VzWydndC14cyddICYmICh3aWR0aCAtIDM2KSA+IHRoaXMuX2NvbHVtbldpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHdpZHRoIC0gMjQgKiAyO1xuXG4gICAgICAgICAgICBsZXQgY29sdW1ucyA9IE1hdGguZmxvb3Iod2lkdGggLyB0aGlzLl9jb2x1bW5XaWR0aCk7XG4gICAgICAgICAgICBjb250YWluZXJXaWR0aCA9ICh0aGlzLl9jb2x1bW5XaWR0aCArIDE2KSAqIGNvbHVtbnMgLSAxNjtcblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcldpZHRoID4gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zLS07XG4gICAgICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSAodGhpcy5fY29sdW1uV2lkdGggKyAxNikgKiBjb2x1bW5zIC0gMTY7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW5zIDwgMSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZXIuY3NzKCd3aWR0aCcsIGNvbnRhaW5lcldpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpemVyLmNzcygnd2lkdGgnLCB0aGlzLl9jb2x1bW5XaWR0aCArICdweCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyArMTAgdG8gYXZvaWQgcHJlY2lzaW9uIHJlbGF0ZWQgZXJyb3JcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jc3MoJ3dpZHRoJywgKGNvbnRhaW5lcldpZHRoICsgMTApICsgJ3B4Jyk7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2xhc3MoJ3BpcC1tb2JpbGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gd2lkdGggLSAxNiAqIDI7XG4gICAgICAgICAgICBjb250YWluZXJXaWR0aCA9IHdpZHRoO1xuXG4gICAgICAgICAgICB0aGlzLl9zaXplci5jc3MoJ3dpZHRoJywgY29udGFpbmVyV2lkdGggKyAncHgnKTtcbiAgICAgICAgICAgIC8vICsxMCB0byBhdm9pZCBwcmVjaXNpb24gcmVsYXRlZCBlcnJvclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNzcygnd2lkdGgnLCAoY29udGFpbmVyV2lkdGggKyAxMCkgKyAncHgnKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDbGFzcygncGlwLW1vYmlsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFudWFsbHkgY2FsbCBsYXlvdXQgb24gdGlsZSBjb250YWluZXJcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZDb250YWluZXJXaWR0aCAhPSBjb250YWluZXJXaWR0aCB8fCBmb3JjZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldkNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9tYXNvbnJ5LmxheW91dCgpO1xuXG4gICAgICAgICAgICAvLyBOb3RpZnkgY2hpbGQgY29udHJvbHMgdGhhdCBsYXlvdXQgd2FzIHJlc2l6ZWRcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kZW1pdChMYXlvdXRSZXNpemVkRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0aWxlc0RpcmVjdGl2ZSgkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSk6IG5nLklEaXJlY3RpdmUge1xuICAgIFwibmdJbmplY3RcIjtcblxuICAgIC8vIENvbnZlcnRzIHZhbHVlIGludG8gYm9vbGVhblxuICAgIGZ1bmN0aW9uIGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09ICcxJyB8fCB2YWx1ZSA9PSAndHJ1ZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGU6XG4gICAgICAgICAgICAoJGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBJVGlsZXNEaXJlY3RpdmVBdHRyaWJ1dGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnZlcnRUb0Jvb2xlYW4oJGF0dHJzLnBpcEluZmluaXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzxkaXYgbWFzb25yeSBjbGFzcz1cInBpcC10aWxlcy1jb250YWluZXJcIiBsb2FkLWltYWdlcz1cImZhbHNlXCIgcHJlc2VydmUtb3JkZXIgICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJyBuZy10cmFuc2NsdWRlIGNvbHVtbi13aWR0aD1cIi5waXAtdGlsZS1zaXplclwiIGl0ZW0tc2VsZWN0b3I9XCIucGlwLXRpbGVcIidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJyBtYXNvbnJ5LW9wdGlvbnM9XCJ0aWxlc09wdGlvbnNcIiAgcGlwLXNjcm9sbC1jb250YWluZXI9XCJcXCcucGlwLXRpbGVzXFwnXCInXG4gICAgICAgICAgICAgICAgICAgICAgICArICcgcGlwLWluZmluaXRlLXNjcm9sbD1cInJlYWRTY3JvbGwoKVwiID4nXG4gICAgICAgICAgICAgICAgICAgICAgICArICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAnPGRpdiBtYXNvbnJ5IGNsYXNzPVwicGlwLXRpbGVzLWNvbnRhaW5lclwiIGxvYWQtaW1hZ2VzPVwiZmFsc2VcIiBwcmVzZXJ2ZS1vcmRlciAgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnIG5nLXRyYW5zY2x1ZGUgY29sdW1uLXdpZHRoPVwiLnBpcC10aWxlLXNpemVyXCIgaXRlbS1zZWxlY3Rvcj1cIi5waXAtdGlsZVwiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnIG1hc29ucnktb3B0aW9ucz1cInRpbGVzT3B0aW9uc1wiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjogKCRzY29wZTogSVRpbGVzQ29udHJvbGxlclNjb3BlKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUudGlsZXNPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGd1dHRlcjogOCwvLzE2XG4gICAgICAgICAgICAgICAgaXNGaXRXaWR0aDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNSZXNpemVCb3VuZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwIC8vICcwLjJzJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogKCRzY29wZTogbmcuSVNjb3BlLCAkZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IElUaWxlc0RpcmVjdGl2ZUF0dHJpYnV0ZXMpID0+IHtcbiAgICAgICAgICAgIG5ldyBUaWxlc0RpcmVjdGl2ZUxpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkcm9vdFNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBMYXlvdXQnKVxuICAgIC5kaXJlY3RpdmUoJ3BpcFRpbGVzJywgdGlsZXNEaXJlY3RpdmUpO1xuIiwiZXhwb3J0IGNvbnN0IE1haW5SZXNpemVkRXZlbnQgPSAncGlwTWFpblJlc2l6ZWQnO1xuZXhwb3J0IGNvbnN0IExheW91dFJlc2l6ZWRFdmVudCA9ICdwaXBMYXlvdXRSZXNpemVkJztcblxuZXhwb3J0IGNsYXNzIE1lZGlhQnJlYWtwb2ludHMge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgeHM6IG51bWJlciwgc206IG51bWJlciwgbWQ6IG51bWJlciwgbGc6IG51bWJlclxuICAgICkge1xuICAgICAgICB0aGlzLnhzID0geHM7XG4gICAgICAgIHRoaXMuc20gPSBzbTtcbiAgICAgICAgdGhpcy5tZCA9IG1kO1xuICAgICAgICB0aGlzLmxnID0gbGc7XG4gICAgfVxuXG4gICAgcHVibGljIHhzOiBudW1iZXI7XG4gICAgcHVibGljIHNtOiBudW1iZXI7XG4gICAgcHVibGljIG1kOiBudW1iZXI7XG4gICAgcHVibGljIGxnOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBNZWRpYUJyZWFrcG9pbnRTdGF0dXNlcyB7XG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7XG4gICAgcHVibGljICd4cyc6IGJvb2xlYW47XG4gICAgcHVibGljICdndC14cyc6IGJvb2xlYW47XG4gICAgcHVibGljICdzbSc6IGJvb2xlYW47XG4gICAgcHVibGljICdndC1zbSc6IGJvb2xlYW47XG4gICAgcHVibGljICdtZCc6IGJvb2xlYW47XG4gICAgcHVibGljICdndC1tZCc6IGJvb2xlYW47XG4gICAgcHVibGljICdsZyc6IGJvb2xlYW47XG4gICAgcHVibGljICdndC1sZyc6IGJvb2xlYW47XG4gICAgcHVibGljICd4bCc6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgdXBkYXRlKGJyZWFrcG9pbnRzOiBNZWRpYUJyZWFrcG9pbnRzLCB3aWR0aDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChicmVha3BvaW50cyA9PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzWyd4cyddID0gd2lkdGggPD0gYnJlYWtwb2ludHMueHM7XG4gICAgICAgIHRoaXNbJ2d0LXhzJ10gPSB3aWR0aCA+IGJyZWFrcG9pbnRzLnhzO1xuICAgICAgICB0aGlzWydzbSddID0gd2lkdGggPiBicmVha3BvaW50cy54cyAmJiB3aWR0aCA8PSBicmVha3BvaW50cy5zbTtcbiAgICAgICAgdGhpc1snZ3Qtc20nXSA9IHdpZHRoID4gYnJlYWtwb2ludHMuc207XG4gICAgICAgIHRoaXNbJ21kJ10gPSB3aWR0aCA+IGJyZWFrcG9pbnRzLnNtICYmIHdpZHRoIDw9IGJyZWFrcG9pbnRzLm1kO1xuICAgICAgICB0aGlzWydndC1tZCddID0gd2lkdGggPiBicmVha3BvaW50cy5tZDtcbiAgICAgICAgdGhpc1snbGcnXSA9IHdpZHRoID4gYnJlYWtwb2ludHMubWQgJiYgd2lkdGggPD0gYnJlYWtwb2ludHMubGc7XG4gICAgICAgIHRoaXNbJ2d0LWxnJ10gPSB3aWR0aCA+IGJyZWFrcG9pbnRzLmxnO1xuICAgICAgICB0aGlzWyd4bCddID0gdGhpc1snZ3QtbGcnXTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1lZGlhU2VydmljZSB7XG4gICAgKGJyZWFrcG9pbnQ6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgYnJlYWtwb2ludHM6IE1lZGlhQnJlYWtwb2ludHM7XG4gICAgd2lkdGg6IG51bWJlcjtcbn0gXG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1lZGlhUHJvdmlkZXIgZXh0ZW5kcyBuZy5JU2VydmljZVByb3ZpZGVyIHtcbiAgICBicmVha3BvaW50czogTWVkaWFCcmVha3BvaW50cztcbn0iLCJpbXBvcnQgeyBNZWRpYUJyZWFrcG9pbnRzLCBNZWRpYUJyZWFrcG9pbnRTdGF0dXNlcyB9IGZyb20gJy4vSU1lZGlhU2VydmljZSc7XG5pbXBvcnQgeyBJTWVkaWFQcm92aWRlciB9IGZyb20gJy4vSU1lZGlhU2VydmljZSc7XG5cbmV4cG9ydCBsZXQgTWFpbkJyZWFrcG9pbnRzOiBNZWRpYUJyZWFrcG9pbnRzID0gbmV3IE1lZGlhQnJlYWtwb2ludHMoNjM5LCA3MTYsIDEwMjQsIDE0MzkpO1xuZXhwb3J0IGxldCBNYWluQnJlYWtwb2ludFN0YXR1c2VzOiBNZWRpYUJyZWFrcG9pbnRTdGF0dXNlcyA9IG5ldyBNZWRpYUJyZWFrcG9pbnRTdGF0dXNlcygpO1xuXG5jbGFzcyBNZWRpYVByb3ZpZGVyIGltcGxlbWVudHMgSU1lZGlhUHJvdmlkZXIge1xuICAgIHB1YmxpYyBnZXQgYnJlYWtwb2ludHMoKTogTWVkaWFCcmVha3BvaW50cyB7XG4gICAgICAgIHJldHVybiBNYWluQnJlYWtwb2ludHM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBicmVha3BvaW50cyh2YWx1ZTogTWVkaWFCcmVha3BvaW50cykge1xuICAgICAgICBNYWluQnJlYWtwb2ludHMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgJGdldCgpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IChzaXplKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTWFpbkJyZWFrcG9pbnRTdGF0dXNlc1tzaXplXTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZXJ2aWNlLCAnYnJlYWtwb2ludHMnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHsgcmV0dXJuIE1haW5CcmVha3BvaW50czsgfSxcbiAgICAgICAgICAgIHNldDogKHZhbHVlKSA9PiB7IFxuICAgICAgICAgICAgICAgIE1haW5CcmVha3BvaW50cyA9IHZhbHVlIHx8IG5ldyBNZWRpYUJyZWFrcG9pbnRzKDYzOSwgNzE2LCAxMDI0LCAxNDM5KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBNYWluQnJlYWtwb2ludFN0YXR1c2VzLnVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgTWFpbkJyZWFrcG9pbnRzLCBcbiAgICAgICAgICAgICAgICAgICAgTWFpbkJyZWFrcG9pbnRTdGF0dXNlcy53aWR0aFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZXJ2aWNlLCAnd2lkdGgnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1haW5CcmVha3BvaW50U3RhdHVzZXMud2lkdGg7IFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTsgXG4gICAgfVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwTWVkaWEnKVxuICAgIC5wcm92aWRlcigncGlwTWVkaWEnLCBNZWRpYVByb3ZpZGVyKTtcbiIsImxldCBhdHRhY2hFdmVudCA9ICg8YW55PmRvY3VtZW50KS5hdHRhY2hFdmVudDtcbmxldCBpc0lFID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC8pO1xuXG5mdW5jdGlvbiByZXF1ZXN0RnJhbWUoY2FsbGJhY2spOiBhbnkge1xuICAgIGxldCBmcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgXG4gICAgICAgIHx8ICg8YW55PndpbmRvdykubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIFxuICAgICAgICB8fCAoPGFueT53aW5kb3cpLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBcbiAgICAgICAgfHwgZnVuY3Rpb24oY2FsbGJhY2spIHsgXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDIwKTsgICAgIFxuICAgICAgICB9O1xuXG4gICAgcmV0dXJuIGZyYW1lKGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gY2FuY2VsRnJhbWUoKTogYW55IHtcbiAgICBsZXQgY2FuY2VsID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIFxuICAgICAgICB8fCAoPGFueT53aW5kb3cpLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIFxuICAgICAgICB8fCAoPGFueT53aW5kb3cpLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIFxuICAgICAgICB8fCB3aW5kb3cuY2xlYXJUaW1lb3V0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlkKSB7IFxuICAgICAgICByZXR1cm4gY2FuY2VsKGlkKTsgXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcmVzaXplTGlzdGVuZXIoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IHdpbiA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50O1xuICAgIGlmICh3aW4uX19yZXNpemVSQUZfXykgY2FuY2VsRnJhbWUoLyp3aW4uX19yZXNpemVSQUZfXyovKTtcbiAgICB3aW4uX19yZXNpemVSQUZfXyA9IHJlcXVlc3RGcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IHdpbi5fX3Jlc2l6ZVRyaWdnZXJfXztcbiAgICAgICAgdHJpZ2dlci5fX3Jlc2l6ZUxpc3RlbmVyc19fLmZvckVhY2goZnVuY3Rpb24oZm4pe1xuICAgICAgICAgICAgZm4uY2FsbCh0cmlnZ2VyLCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTGlzdGVuZXIoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3Ll9fcmVzaXplVHJpZ2dlcl9fID0gdGhpcy5fX3Jlc2l6ZUVsZW1lbnRfXztcbiAgICB0aGlzLmNvbnRlbnREb2N1bWVudC5kZWZhdWx0Vmlldy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVMaXN0ZW5lcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRSZXNpemVMaXN0ZW5lcihlbGVtZW50LCBsaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmICghZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fKSB7XG4gICAgICAgIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXyA9IFtdO1xuICAgICAgICBpZiAoYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVUcmlnZ2VyX18gPSBlbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb25yZXNpemUnLCByZXNpemVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PSAnc3RhdGljJykgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgICAgICBjb25zdCBvYmo6IGFueSA9IGVsZW1lbnQuX19yZXNpemVUcmlnZ2VyX18gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvYmplY3QnKTtcbiAgICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJTsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOycpO1xuICAgICAgICAgICAgb2JqLl9fcmVzaXplRWxlbWVudF9fID0gZWxlbWVudDtcbiAgICAgICAgICAgIG9iai5vbmxvYWQgPSBsb2FkTGlzdGVuZXI7XG4gICAgICAgICAgICBvYmoudHlwZSA9ICd0ZXh0L2h0bWwnO1xuICAgICAgICAgICAgaWYgKGlzSUUpIGVsZW1lbnQuYXBwZW5kQ2hpbGQob2JqKTtcbiAgICAgICAgICAgIG9iai5kYXRhID0gJ2Fib3V0OmJsYW5rJztcbiAgICAgICAgICAgIGlmICghaXNJRSkgZWxlbWVudC5hcHBlbmRDaGlsZChvYmopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLnB1c2gobGlzdGVuZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUmVzaXplTGlzdGVuZXIoZWxlbWVudCwgbGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAobGlzdGVuZXIpIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5zcGxpY2UoZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcbiAgICBpZiAoIWVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGF0dGFjaEV2ZW50KSBlbGVtZW50LmRldGFjaEV2ZW50KCdvbnJlc2l6ZScsIHJlc2l6ZUxpc3RlbmVyKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcl9fLmNvbnRlbnREb2N1bWVudC5kZWZhdWx0Vmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVMaXN0ZW5lcik7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcl9fID0gIWVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJfXyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJhbmd1bGFyLm1vZHVsZSgncGlwTWVkaWEnLCBbXSk7XG5cbmltcG9ydCAnLi9NZWRpYVNlcnZpY2UnO1xuaW1wb3J0ICcuL1Jlc2l6ZUZ1bmN0aW9ucyc7XG5cbmV4cG9ydCAqIGZyb20gJy4vSU1lZGlhU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL01lZGlhU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1Jlc2l6ZUZ1bmN0aW9ucyc7Il19"}