{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts"],"names":[],"mappings":"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","file":"pip-webui-layouts.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './IAuxPanelService';\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\n\n{\n    class AuxPanelDirectiveController {\n        private normalSize: number = 320;\n        private largeSize: number = 480;\n        private _debounceBodySize: Function;\n        private gtxs: boolean = null;\n        private gtlg: boolean = null;\n        private bodyWidth: number;\n        private bodyElement: any;\n\n        public constructor(\n            private $rootScope: ng.IRootScopeService,\n            private pipAuxPanel: IAuxPanelService\n        ) {\n            \"ngInject\";\n\n            // this._debounceBodySize = _.debounce(() => {\n            //     let bodySize: number = Number($('body').width());\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\n            // }, 10);\n\n            this.bodyElement = $('body');\n            this.bodyWidth = this.bodyElement.width();\n            $rootScope.$on(LayoutResizedEvent, () => {\n                this.bodyWidth = this.bodyElement.width();\n            });\n            // this._debounceBodySize();\n        }\n\n        public isGtxs(): boolean {\n            // if (this.gtxs != null) {\n            //     this._debounceBodySize();\n            //     return this.gtxs;\n            // } else {\n            //     let bodySize: number = Number($('body').width());\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\n\n            //     return this.gtxs;\n            // }\n\n            if (!this.pipAuxPanel.isOpen()) return false;\n\n            this.bodyWidth = this.bodyElement.width();\n\n            return this.bodyWidth > MainBreakpoints.xs;\n        }\n\n        public isGtlg(): boolean {\n            // if (this.gtxs != null) {\n            //     this._debounceBodySize();\n            //     return this.gtlg;\n            // } else {\n            //     let bodySize: number = Number($('body').width());\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\n                \n            //     return this.gtlg;\n            // }            \n\n            if (!this.pipAuxPanel.isOpen()) return false;\n\n            this.bodyWidth = this.bodyElement.width();\n            \n            return this.bodyWidth > (MainBreakpoints.lg + this.largeSize);\n        }\n    }\n\n    const AuxPanel: ng.IComponentOptions = {\n\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" ng-transclude><div pip-focused></div>' +\n        '</md-sidenav>'\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .component('pipAuxPanel', AuxPanel);\n\n}\n","{\n\n    class AuxPanelPartController {\n        private partName: string;\n        private partValue: string;\n        private pos: number;\n\n        constructor(\n            private $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs,\n            $rootScope: ng.IRootScopeService,\n            pipAuxPanel) {\n            \"ngInject\";\n            this.partName = '' + $attrs.pipAuxPanelPart;\n            this.pos = this.partName.indexOf(':');\n            if (this.pos > 0) {\n                this.partValue = this.partName.substr(this.pos + 1);\n                this.partName = this.partName.substr(0, this.pos);\n            }\n\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\n                this.onAuxPanelChanged(event, config);\n            });\n\n        }\n\n        private onAuxPanelChanged(event, config) {\n            let parts = config.parts || {};\n            let currentPartValue = config[this.partName];\n            // Set visible variable to switch ngIf\n\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\n        }\n    }\n\n\n    function AuxPanelPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        let ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function ($scope: ng.IScope, $element, $attrs) {\n                // Visualize based on visible variable in scope\n                $attrs.ngIf = () => { return $scope['visible'] };\n                ngIf.link.apply(ngIf);\n            },\n            controller: AuxPanelPartController\n        };\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent, AuxPanelOpenedEvent, AuxPanelClosedEvent } from './IAuxPanelService';\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n\n        \"ngInject\";\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n        this._rootScope.$emit(AuxPanelOpenedEvent, this._config);\n    }\n\n    public close() {\n        this._sidenav(this.id).close();\n        this._rootScope.$emit(AuxPanelClosedEvent, this._config);\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }\n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    \"ngInject\";\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\nexport const AuxPanelOpenedEvent = 'pipAuxPanelOpened';\nexport const AuxPanelClosedEvent = 'pipAuxPanelClosed';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}","angular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPart';\nimport './AuxPanel';\n\nexport * from './IAuxPanelService';","angular.module('pipLayout', ['wu.masonry', 'pipMedia', 'pipAuxPanel']);\n\nimport './media/index';\n\nimport './layouts/MainDirective';\nimport './layouts/CardDirective';\nimport './layouts/DialogDirective';\nimport './layouts/DocumentDirective';\nimport './layouts/SimpleDirective';\nimport './layouts/TilesDirective';\nimport './auxpanel/index';\n\nexport * from './media/index';\n","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\ninterface ICardDirectiveAttributes extends ng.IAttributes {\n    minWidth: string | number;\n    minHeight: string | number;\n    width: string | number;\n    height: string | number;\n}\n\nclass CardDirectiveLink {\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService, \n        private $element: JQuery, \n        private $attrs: ICardDirectiveAttributes\n    ) {\n       \"ngInject\";\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        const\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width();\n        let\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this.$element.css('width', width ? width + 'px' : '');\n        this.$element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\n            const\n                $header = this.$element.find('.pip-header:visible'),\n                $footer = this.$element.find('.pip-footer:visible'),\n                $body = this.$element.find('.pip-body');\n            let maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\n            }\n\n            this.$element.css('left', left);\n            this.$element.css('top', top);\n\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this.$rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction dialogDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction documentDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent } from '../media/IMediaService';\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\n    interface IMainDirectiveAttributes extends ng.IAttributes {\n        pipContainer: string;\n    }\n\n    class MainDirectiveController implements ng.IController {\n        private _container: any;\n\n        public constructor(\n            private $scope: ng.IScope,\n            private $element: angular.IRootElementService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private $attrs: IMainDirectiveAttributes\n        ) {\n            \"ngInject\";\n            this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n            // Add CSS class\n            $element.addClass('pip-main');\n\n            // Add resize listener\n            const listener = () => { this.resize(); };\n            addResizeListener(this._container[0], listener);\n\n            // Unbind when scope is removed\n            $scope.$on('$destroy', () => {\n                removeResizeListener(this._container[0], listener);\n            });\n\n            // Perform initial calculations\n            this.updateBreakpointStatuses();\n        }\n\n        private updateBreakpointStatuses() {\n            const width = this._container.innerWidth();\n            const body = $('body');\n\n            MainBreakpointStatuses.update(MainBreakpoints, width);\n\n            $.each(MainBreakpointStatuses, (breakpoint, status) => {\n                if (_.isBoolean(status)) {\n                    body[status ? 'addClass' : 'removeClass']('pip-' + breakpoint);\n                }\n            });\n\n            this.$timeout(() => {\n                this.$rootScope.$apply();\n            });\n        }\n\n        private resize() {\n            this.updateBreakpointStatuses();\n            this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n        }\n    }\n\n    class MainBodyDirectiveLink {\n        public constructor(\n            $scope: ng.IScope,\n            $element: angular.IRootElementService\n        ) {\n            \"ngInject\";\n            // Add CSS class\n            $element.addClass('pip-main-body');\n        }\n    }\n\n    function mainDirective(): ng.IDirective {\n        \"ngInject\";\n        return {\n            restrict: 'EA',\n            controller: MainDirectiveController,\n            controllerAs: 'vm'\n        }\n    }\n\n    function mainBodyDirective(): ng.IDirective {\n        \"ngInject\";\n        return {\n            restrict: 'EA',\n            link: MainBodyDirectiveLink\n        }\n    }\n\n    angular\n        .module('pipLayout')\n        .directive('pipMain', mainDirective)\n        .directive('pipMainBody', mainBodyDirective);\n\n})();","(() => {\n\n    function simpleDirective(): ng.IDirective {\n        \"ngInject\";\n        return {\n            restrict: 'EA',\n            link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n                $element.addClass('pip-simple');\n            }\n        };\n    }\n\n    angular\n        .module('pipLayout')\n        .directive('pipSimple', simpleDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\n    columnWidth: string | number;\n    pipInfinite: string | boolean | number;\n}\n\nclass TilesOptions {\n    gutter: number;\n    isFitWidth: boolean;\n    isResizeBound: boolean;\n    transitionDuration: number;\n}\n\ninterface ITilesControllerScope extends ng.IScope {\n    tilesOptions: TilesOptions;\n}\n\nclass TilesDirectiveLink {\n    private _columnWidth: number;\n    private _container: any;\n\tprivate _heading: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor(\n        $scope: ng.IScope,\n        private $element: JQuery,\n        private $attrs: ITilesDirectiveAttributes,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        \"ngInject\";\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440;\n        this._container = $element.children('.pip-tiles-container');\n\t\tthis._heading = $($element.children('.pip-tiles-heading')[0]);\n        this._prevContainerWidth = null;\n        this._masonry = Masonry.data(this._container[0]);\n\n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        const listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this.$element.parent().width(),\n            containerWidth;\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n\t\t\tif (this._heading) {\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\n\t\t\t}\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n\t\t\tif (this._heading) {\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\n\t\t\t}\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this.$rootScope.$emit(LayoutResizedEvent, containerWidth);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value): boolean {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: {\n\t\t\tgutter: '='\n\t\t},\n        transclude: {\n            'heading': '?pipTilesHeading'\n        },\n        template:\n        ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            if (convertToBoolean($attrs.pipInfinite)) {\n                return String()\n                    + '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\n                    + '</div>';\n            } else {\n                return String()\n\t\t\t\t\t+ '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                    + ' masonry-options=\"tilesOptions\">'\n                    + '</div>';\n            }\n        },\n        controller: ($scope: ITilesControllerScope) => {\n            $scope.tilesOptions = {\n                gutter: $scope.gutter || 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","export const MainResizedEvent = 'pipMainResized';\nexport const LayoutResizedEvent = 'pipLayoutResized';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null || width == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\nimport { IMediaProvider } from './IMediaService';\n\nexport let MainBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport const MainBreakpointStatuses = new MediaBreakpointStatuses();\n\nclass MediaProvider implements IMediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        const service = (size) => {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","let attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n           \"ngInject\";\n    let frame = window.requestAnimationFrame\n        || (<any>window).mozRequestAnimationFrame\n        || (<any>window).webkitRequestAnimationFrame\n        || function (callback) {\n            return window.setTimeout(callback, 20);\n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n           \"ngInject\";\n    let cancel = window.cancelAnimationFrame\n        || (<any>window).mozCancelAnimationFrame\n        || (<any>window).webkitCancelAnimationFrame\n        || window.clearTimeout;\n\n    return function (id) {\n        return cancel(id);\n    };\n}\n\nfunction resizeListener(event: any): void {\n    const win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function () {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function (fn) {\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    if (this.contentDocument) {\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n    }\n}\n\nexport function addResizeListener(element, listener): void {\n           \"ngInject\";\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n           \"ngInject\";\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            if (element.__resizeTrigger__.contentDocument) {\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n            }\n        }\n    }\n}\n","angular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './IMediaService';\nexport * from './MediaService';\nexport * from './ResizeFunctions';"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXV4cGFuZWwvQXV4UGFuZWwudHMiLCJzcmMvYXV4cGFuZWwvQXV4UGFuZWxQYXJ0LnRzIiwic3JjL2F1eHBhbmVsL0F1eFBhbmVsU2VydmljZS50cyIsInNyYy9hdXhwYW5lbC9JQXV4UGFuZWxTZXJ2aWNlLnRzIiwic3JjL2F1eHBhbmVsL2luZGV4LnRzIiwic3JjL2luZGV4LnRzIiwic3JjL2xheW91dHMvQ2FyZERpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL0RpYWxvZ0RpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL0RvY3VtZW50RGlyZWN0aXZlLnRzIiwic3JjL2xheW91dHMvTWFpbkRpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL1NpbXBsZURpcmVjdGl2ZS50cyIsInNyYy9sYXlvdXRzL1RpbGVzRGlyZWN0aXZlLnRzIiwic3JjL21lZGlhL0lNZWRpYVNlcnZpY2UudHMiLCJzcmMvbWVkaWEvTWVkaWFTZXJ2aWNlLnRzIiwic3JjL21lZGlhL1Jlc2l6ZUZ1bmN0aW9ucy50cyIsInNyYy9tZWRpYS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsc0RBQXdEO0FBRXhELHdEQUE4RTtBQUU5RSxDQUFDO0lBQ0c7UUFTSSxxQ0FDWSxVQUFnQyxFQUNoQyxXQUE2QjtZQUVyQyxVQUFVLENBQUM7WUFKZixpQkFrQkM7WUFqQlcsZUFBVSxHQUFWLFVBQVUsQ0FBc0I7WUFDaEMsZ0JBQVcsR0FBWCxXQUFXLENBQWtCO1lBVmpDLGVBQVUsR0FBVyxHQUFHLENBQUM7WUFDekIsY0FBUyxHQUFXLEdBQUcsQ0FBQztZQUV4QixTQUFJLEdBQVksSUFBSSxDQUFDO1lBQ3JCLFNBQUksR0FBWSxJQUFJLENBQUM7WUFnQnpCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxTQUFTLEdB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QUFpQixDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLGNBQWMsQ0FBQyxDQUFDO2dCQUNwRyxPQUFPLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2hGLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUM7QUFaRCxvREFZQzs7Ozs7OztBQ2pGRCxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUUvQiwwQkFBd0I7QUFDeEIsNkJBQTJCO0FBRTNCLHFDQUFnQztBQUNoQyxvQ0FBK0I7QUFDL0IsdUNBQWtDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IE1haW5CcmVha3BvaW50cyB9IGZyb20gJy4uL21lZGlhL01lZGlhU2VydmljZSc7XG5pbXBvcnQgeyBJQXV4UGFuZWxTZXJ2aWNlIH0gZnJvbSAnLi9JQXV4UGFuZWxTZXJ2aWNlJztcbmltcG9ydCB7IE1haW5SZXNpemVkRXZlbnQsIExheW91dFJlc2l6ZWRFdmVudCB9IGZyb20gJy4uL21lZGlhL0lNZWRpYVNlcnZpY2UnO1xuXG57XG4gICAgY2xhc3MgQXV4UGFuZWxEaXJlY3RpdmVDb250cm9sbGVyIHtcbiAgICAgICAgcHJpdmF0ZSBub3JtYWxTaXplOiBudW1iZXIgPSAzMjA7XG4gICAgICAgIHByaXZhdGUgbGFyZ2VTaXplOiBudW1iZXIgPSA0ODA7XG4gICAgICAgIHByaXZhdGUgX2RlYm91bmNlQm9keVNpemU6IEZ1bmN0aW9uO1xuICAgICAgICBwcml2YXRlIGd0eHM6IGJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGd0bGc6IGJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJvZHlXaWR0aDogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIGJvZHlFbGVtZW50OiBhbnk7XG5cbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgcGlwQXV4UGFuZWw6IElBdXhQYW5lbFNlcnZpY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgICAgIC8vIHRoaXMuX2RlYm91bmNlQm9keVNpemUgPSBfLmRlYm91bmNlKCgpID0+IHtcbiAgICAgICAgICAgIC8vICAgICBsZXQgYm9keVNpemU6IG51bWJlciA9IE51bWJlcigkKCdib2R5Jykud2lkdGgoKSk7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5ndHhzID0gYm9keVNpemUgPiBNYWluQnJlYWtwb2ludHMueHMgJiYgdGhpcy5waXBBdXhQYW5lbC5pc09wZW4oKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmd0bGcgPSBib2R5U2l6ZSA+IChNYWluQnJlYWtwb2ludHMubGcgKyB0aGlzLmxhcmdlU2l6ZSkgICYmIHRoaXMucGlwQXV4UGFuZWwuaXNPcGVuKCk7XG4gICAgICAgICAgICAvLyB9LCAxMCk7XG5cbiAgICAgICAgICAgIHRoaXMuYm9keUVsZW1lbnQgPSAkKCdib2R5Jyk7XG4gICAgICAgICAgICB0aGlzLmJvZHlXaWR0aCA9IHRoaXMuYm9keUVsZW1lbnQud2lkdGgoKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKExheW91dFJlc2l6ZWRFdmVudCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keVdpZHRoID0gdGhpcy5ib2R5RWxlbWVudC53aWR0aCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB0aGlzLl9kZWJvdW5jZUJvZHlTaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNHdHhzKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMuZ3R4cyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5fZGVib3VuY2VCb2R5U2l6ZSgpO1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmd0eHM7XG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgIGxldCBib2R5U2l6ZTogbnVtYmVyID0gTnVtYmVyKCQoJ2JvZHknKS53aWR0aCgpKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmd0eHMgPSBib2R5U2l6ZSA+IE1haW5CcmVha3BvaW50cy54cyAmJiB0aGlzLnBpcEF1eFBhbmVsLmlzT3BlbigpO1xuXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuZ3R4cztcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnBpcEF1eFBhbmVsLmlzT3BlbigpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYm9keVdpZHRoID0gdGhpcy5ib2R5RWxlbWVudC53aWR0aCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5V2lkdGggPiBNYWluQnJlYWtwb2ludHMueHM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNHdGxnKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMuZ3R4cyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5fZGVib3VuY2VCb2R5U2l6ZSgpO1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmd0bGc7XG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgIGxldCBib2R5U2l6ZTogbnVtYmVyID0gTnVtYmVyKCQoJ2JvZHknKS53aWR0aCgpKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmd0bGcgPSBib2R5U2l6ZSA+IChNYWluQnJlYWtwb2ludHMubGcgKyB0aGlzLmxhcmdlU2l6ZSkgICYmIHRoaXMucGlwQXV4UGFuZWwuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuZ3RsZztcbiAgICAgICAgICAgIC8vIH0gICAgICAgICAgICBcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnBpcEF1eFBhbmVsLmlzT3BlbigpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYm9keVdpZHRoID0gdGhpcy5ib2R5RWxlbWVudC53aWR0aCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5V2lkdGggPiAoTWFpbkJyZWFrcG9pbnRzLmxnICsgdGhpcy5sYXJnZVNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgQXV4UGFuZWw6IG5nLklDb21wb25lbnRPcHRpb25zID0ge1xuXG4gICAgICAgIGNvbnRyb2xsZXI6IEF1eFBhbmVsRGlyZWN0aXZlQ29udHJvbGxlcixcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGU6ICc8bWQtc2lkZW5hdiBjbGFzcz1cIm1kLXNpZGVuYXYtcmlnaHQgbWQtd2hpdGVmcmFtZS16MiBwaXAtYXV4cGFuZWwgY29sb3ItY29udGVudC1iZ1wiIG5nLWNsYXNzPVwie1xcJ3BpcC1sYXJnZVxcJzogJGN0cmwuaXNHdGxnKCl9XCInICtcbiAgICAgICAgJ21kLWNvbXBvbmVudC1pZD1cInBpcC1hdXhwYW5lbFwiIG1kLWlzLWxvY2tlZC1vcGVuPVwiJGN0cmwuaXNHdHhzKClcIiBuZy10cmFuc2NsdWRlPjxkaXYgcGlwLWZvY3VzZWQ+PC9kaXY+JyArXG4gICAgICAgICc8L21kLXNpZGVuYXY+J1xuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwQXV4UGFuZWwnKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBBdXhQYW5lbCcsIEF1eFBhbmVsKTtcblxufVxuIiwie1xuXG4gICAgY2xhc3MgQXV4UGFuZWxQYXJ0Q29udHJvbGxlciB7XG4gICAgICAgIHByaXZhdGUgcGFydE5hbWU6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBwYXJ0VmFsdWU6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBwb3M6IG51bWJlcjtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICAgICAkZWxlbWVudDogbmcuSVJvb3RFbGVtZW50U2VydmljZSxcbiAgICAgICAgICAgICRhdHRycyxcbiAgICAgICAgICAgICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICAgICAgcGlwQXV4UGFuZWwpIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgICAgIHRoaXMucGFydE5hbWUgPSAnJyArICRhdHRycy5waXBBdXhQYW5lbFBhcnQ7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMucGFydE5hbWUuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydFZhbHVlID0gdGhpcy5wYXJ0TmFtZS5zdWJzdHIodGhpcy5wb3MgKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnROYW1lID0gdGhpcy5wYXJ0TmFtZS5zdWJzdHIoMCwgdGhpcy5wb3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9uQXV4UGFuZWxDaGFuZ2VkKG51bGwsIHBpcEF1eFBhbmVsLmNvbmZpZylcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdwaXBBdXhQYW5lbENoYW5nZWQnLCAoZXZlbnQsIGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25BdXhQYW5lbENoYW5nZWQoZXZlbnQsIGNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkF1eFBhbmVsQ2hhbmdlZChldmVudCwgY29uZmlnKSB7XG4gICAgICAgICAgICBsZXQgcGFydHMgPSBjb25maWcucGFydHMgfHwge307XG4gICAgICAgICAgICBsZXQgY3VycmVudFBhcnRWYWx1ZSA9IGNvbmZpZ1t0aGlzLnBhcnROYW1lXTtcbiAgICAgICAgICAgIC8vIFNldCB2aXNpYmxlIHZhcmlhYmxlIHRvIHN3aXRjaCBuZ0lmXG5cbiAgICAgICAgICAgIHRoaXMuJHNjb3BlWyd2aXNpYmxlJ10gPSB0aGlzLnBhcnRWYWx1ZSA/IGN1cnJlbnRQYXJ0VmFsdWUgPT0gdGhpcy5wYXJ0VmFsdWUgOiBjdXJyZW50UGFydFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBBdXhQYW5lbFBhcnREaXJlY3RpdmUobmdJZkRpcmVjdGl2ZSkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgbGV0IG5nSWYgPSBuZ0lmRGlyZWN0aXZlWzBdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFuc2NsdWRlOiBuZ0lmLnRyYW5zY2x1ZGUsXG4gICAgICAgICAgICBwcmlvcml0eTogbmdJZi5wcmlvcml0eSxcbiAgICAgICAgICAgIHRlcm1pbmFsOiBuZ0lmLnRlcm1pbmFsLFxuICAgICAgICAgICAgcmVzdHJpY3Q6IG5nSWYucmVzdHJpY3QsXG4gICAgICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICAgICAgICAgICAgICAgIC8vIFZpc3VhbGl6ZSBiYXNlZCBvbiB2aXNpYmxlIHZhcmlhYmxlIGluIHNjb3BlXG4gICAgICAgICAgICAgICAgJGF0dHJzLm5nSWYgPSAoKSA9PiB7IHJldHVybiAkc2NvcGVbJ3Zpc2libGUnXSB9O1xuICAgICAgICAgICAgICAgIG5nSWYubGluay5hcHBseShuZ0lmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBBdXhQYW5lbFBhcnRDb250cm9sbGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdwaXBBdXhQYW5lbCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcEF1eFBhbmVsUGFydCcsIEF1eFBhbmVsUGFydERpcmVjdGl2ZSk7XG5cbn0iLCJpbXBvcnQgeyBBdXhQYW5lbFN0YXRlQ2hhbmdlZEV2ZW50LCBBdXhQYW5lbENoYW5nZWRFdmVudCwgT3BlbkF1eFBhbmVsRXZlbnQsIENsb3NlQXV4UGFuZWxFdmVudCwgQXV4UGFuZWxPcGVuZWRFdmVudCwgQXV4UGFuZWxDbG9zZWRFdmVudCB9IGZyb20gJy4vSUF1eFBhbmVsU2VydmljZSc7XG5pbXBvcnQgeyBBdXhQYW5lbENvbmZpZywgSUF1eFBhbmVsU2VydmljZSwgSUF1eFBhbmVsUHJvdmlkZXIgfSBmcm9tICcuL0lBdXhQYW5lbFNlcnZpY2UnO1xuXG5jbGFzcyBBdXhQYW5lbFNlcnZpY2UgaW1wbGVtZW50cyBJQXV4UGFuZWxTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9jb25maWc6IEF1eFBhbmVsQ29uZmlnO1xuICAgIHByaXZhdGUgX3N0YXRlOiBhbnk7XG4gICAgcHJpdmF0ZSBfcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZTtcbiAgICBwcml2YXRlIF9zaWRlbmF2OiBuZy5tYXRlcmlhbC5JU2lkZW5hdlNlcnZpY2U7XG4gICAgcHJpdmF0ZSBpZCA9ICdwaXAtYXV4cGFuZWwnO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbmZpZzogQXV4UGFuZWxDb25maWcsICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLCAkbWRTaWRlbmF2OiBuZy5tYXRlcmlhbC5JU2lkZW5hdlNlcnZpY2UpIHtcblxuICAgICAgICBcIm5nSW5qZWN0XCI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgICAgdGhpcy5fc2lkZW5hdiA9ICRtZFNpZGVuYXY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb25maWcoKTogQXV4UGFuZWxDb25maWcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY2xhc3NlcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuY2xhc3NlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBhcnRzKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcucGFydHM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwYXJ0cyh2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5wYXJ0cyA9IHZhbHVlIHx8IHt9O1xuICAgICAgICB0aGlzLnNlbmRDb25maWdFdmVudCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc3RhdGUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgc3RhdGUodmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlIHx8IHt9O1xuICAgICAgICB0aGlzLl9yb290U2NvcGUuJGJyb2FkY2FzdChBdXhQYW5lbFN0YXRlQ2hhbmdlZEV2ZW50LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzT3BlbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZGVuYXYodGhpcy5pZCkuaXNPcGVuKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW4oKSB7XG4gICAgICAgIHRoaXMuX3NpZGVuYXYodGhpcy5pZCkub3BlbigpO1xuICAgICAgICB0aGlzLl9yb290U2NvcGUuJGVtaXQoQXV4UGFuZWxPcGVuZWRFdmVudCwgdGhpcy5fY29uZmlnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3NpZGVuYXYodGhpcy5pZCkuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fcm9vdFNjb3BlLiRlbWl0KEF1eFBhbmVsQ2xvc2VkRXZlbnQsIHRoaXMuX2NvbmZpZyk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZSgpIHtcbiAgICAgICAgdGhpcy5fc2lkZW5hdih0aGlzLmlkKS50b2dnbGUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgICAgXy5lYWNoKGNsYXNzZXMsIChjKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuY2xhc3Nlcy5wdXNoKGMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQ29uZmlnRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgICAgXy5lYWNoKGNsYXNzZXMsIChjKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuY2xhc3NlcyA9IF8ucmVqZWN0KHRoaXMuX2NvbmZpZy5jbGFzc2VzLCAoY2MpID0+IGNjID09IGMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQ29uZmlnRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGFydChwYXJ0OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLnBhcnRzW3BhcnRdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc2VuZENvbmZpZ0V2ZW50KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZW5kQ29uZmlnRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuX3Jvb3RTY29wZS4kZW1pdChBdXhQYW5lbENoYW5nZWRFdmVudCwgdGhpcy5fY29uZmlnKTtcbiAgICB9XG59XG5cbmNsYXNzIEF1eFBhbmVsUHJvdmlkZXIgaW1wbGVtZW50cyBJQXV4UGFuZWxQcm92aWRlciB7XG4gICAgcHJpdmF0ZSBfY29uZmlnOiBBdXhQYW5lbENvbmZpZyA9IHtcbiAgICAgICAgcGFydHM6IHt9LFxuICAgICAgICBjbGFzc2VzOiBbXSxcbiAgICAgICAgdHlwZTogJ3N0aWNreScsXG4gICAgICAgIHN0YXRlOiBudWxsXG4gICAgfTtcblxuICAgIHByaXZhdGUgX3NlcnZpY2U6IEF1eFBhbmVsU2VydmljZTtcblxuICAgIHB1YmxpYyBnZXQgY29uZmlnKCk6IEF1eFBhbmVsQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbmZpZyh2YWx1ZTogQXV4UGFuZWxDb25maWcpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gdmFsdWUgfHwgbmV3IEF1eFBhbmVsQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwYXJ0cygpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnBhcnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcGFydHModmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9jb25maWcucGFydHMgPSB2YWx1ZSB8fCB7fTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50eXBlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdHlwZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy50eXBlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjbGFzc2VzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5jbGFzc2VzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY2xhc3Nlcyh2YWx1ZTogc3RyaW5nW10pIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLmNsYXNzZXMgPSB2YWx1ZSB8fCBbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgICAgXy5lYWNoKGNsYXNzZXMsIChjKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuY2xhc3Nlcy5wdXNoKGMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgICAgXy5lYWNoKGNsYXNzZXMsIChjKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuY2xhc3NlcyA9IF8ucmVqZWN0KHRoaXMuX2NvbmZpZy5jbGFzc2VzLCAoY2MpID0+IGNjID09IGMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGFydChwYXJ0OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLnBhcnRzW3BhcnRdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW4oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3NlcnZpY2Uub3BlbigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2VydmljZS5jbG9zZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3NlcnZpY2UudG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgcHVibGljICRnZXQoJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsICRtZFNpZGVuYXY6IG5nLm1hdGVyaWFsLklTaWRlbmF2U2VydmljZSkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NlcnZpY2UgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgQXV4UGFuZWxTZXJ2aWNlKHRoaXMuX2NvbmZpZywgJHJvb3RTY29wZSwgJG1kU2lkZW5hdik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBob29rQXV4UGFuZWxFdmVudHMoJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsIHBpcEF1eFBhbmVsOiBJQXV4UGFuZWxTZXJ2aWNlKSB7XG4gICAgXCJuZ0luamVjdFwiO1xuICAgICRyb290U2NvcGUuJG9uKE9wZW5BdXhQYW5lbEV2ZW50LCAoKSA9PiB7IHBpcEF1eFBhbmVsLm9wZW4oKTsgfSk7XG4gICAgJHJvb3RTY29wZS4kb24oQ2xvc2VBdXhQYW5lbEV2ZW50LCAoKSA9PiB7IHBpcEF1eFBhbmVsLmNsb3NlKCk7IH0pO1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwQXV4UGFuZWwnKVxuICAgIC5wcm92aWRlcigncGlwQXV4UGFuZWwnLCBBdXhQYW5lbFByb3ZpZGVyKVxuICAgIC5ydW4oaG9va0F1eFBhbmVsRXZlbnRzKTtcbiIsImV4cG9ydCBjb25zdCBBdXhQYW5lbENoYW5nZWRFdmVudCA9ICdwaXBBdXhQYW5lbENoYW5nZWQnO1xuZXhwb3J0IGNvbnN0IEF1eFBhbmVsU3RhdGVDaGFuZ2VkRXZlbnQgPSAncGlwQXV4UGFuZWxTdGF0ZUNoYW5nZWQnO1xuZXhwb3J0IGNvbnN0IE9wZW5BdXhQYW5lbEV2ZW50ID0gJ3BpcE9wZW5BdXhQYW5lbCc7XG5leHBvcnQgY29uc3QgQ2xvc2VBdXhQYW5lbEV2ZW50ID0gJ3BpcENsb3NlQXV4UGFuZWwnO1xuZXhwb3J0IGNvbnN0IEF1eFBhbmVsT3BlbmVkRXZlbnQgPSAncGlwQXV4UGFuZWxPcGVuZWQnO1xuZXhwb3J0IGNvbnN0IEF1eFBhbmVsQ2xvc2VkRXZlbnQgPSAncGlwQXV4UGFuZWxDbG9zZWQnO1xuXG5leHBvcnQgY2xhc3MgQXV4UGFuZWxDb25maWcge1xuICAgIHBhcnRzOiBhbnk7XG4gICAgY2xhc3Nlczogc3RyaW5nW107XG4gICAgc3RhdGU6IGFueTtcbiAgICB0eXBlOiBzdHJpbmc7XG59IFxuXG5leHBvcnQgaW50ZXJmYWNlIElBdXhQYW5lbFNlcnZpY2Uge1xuICAgIHJlYWRvbmx5IGNvbmZpZzogQXV4UGFuZWxDb25maWc7XG4gICAgcmVhZG9ubHkgY2xhc3Nlczogc3RyaW5nW107XG4gICAgcGFydHM6IGFueTtcbiAgICBzdGF0ZTogYW55OyAgICBcblxuICAgIGlzT3BlbigpOiBib29sZWFuO1xuICAgIG9wZW4oKTogdm9pZDtcbiAgICBjbG9zZSgpOiB2b2lkO1xuICAgIHRvZ2dsZSgpOiB2b2lkO1xuICBcbiAgICBhZGRDbGFzcyguLi5jbGFzc2VzOiBzdHJpbmdbXSk6IHZvaWQ7XG4gICAgcmVtb3ZlQ2xhc3MoLi4uY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkO1xuIFxuICAgIHBhcnQocGFydDogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXV4UGFuZWxQcm92aWRlciBleHRlbmRzIG5nLklTZXJ2aWNlUHJvdmlkZXIge1xuICAgIGNvbmZpZzogQXV4UGFuZWxDb25maWc7XG4gICAgcGFydHM6IGFueTtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgY2xhc3Nlczogc3RyaW5nW107XG5cbiAgICBvcGVuKCk6IHZvaWQ7XG4gICAgY2xvc2UoKTogdm9pZDtcbiAgICB0b2dnbGUoKTogdm9pZDtcblxuICAgIGFkZENsYXNzKC4uLmNsYXNzZXM6IHN0cmluZ1tdKTogdm9pZDtcbiAgICByZW1vdmVDbGFzcyguLi5jbGFzc2VzOiBzdHJpbmdbXSk6IHZvaWQ7XG5cbiAgICBwYXJ0KHBhcnQ6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQ7XG59IiwiYW5ndWxhci5tb2R1bGUoJ3BpcEF1eFBhbmVsJywgWyduZ01hdGVyaWFsJ10pO1xuXG5pbXBvcnQgJy4vQXV4UGFuZWxTZXJ2aWNlJztcbmltcG9ydCAnLi9BdXhQYW5lbFBhcnQnO1xuaW1wb3J0ICcuL0F1eFBhbmVsJztcblxuZXhwb3J0ICogZnJvbSAnLi9JQXV4UGFuZWxTZXJ2aWNlJzsiLCJhbmd1bGFyLm1vZHVsZSgncGlwTGF5b3V0JywgWyd3dS5tYXNvbnJ5JywgJ3BpcE1lZGlhJywgJ3BpcEF1eFBhbmVsJ10pO1xuXG5pbXBvcnQgJy4vbWVkaWEvaW5kZXgnO1xuXG5pbXBvcnQgJy4vbGF5b3V0cy9NYWluRGlyZWN0aXZlJztcbmltcG9ydCAnLi9sYXlvdXRzL0NhcmREaXJlY3RpdmUnO1xuaW1wb3J0ICcuL2xheW91dHMvRGlhbG9nRGlyZWN0aXZlJztcbmltcG9ydCAnLi9sYXlvdXRzL0RvY3VtZW50RGlyZWN0aXZlJztcbmltcG9ydCAnLi9sYXlvdXRzL1NpbXBsZURpcmVjdGl2ZSc7XG5pbXBvcnQgJy4vbGF5b3V0cy9UaWxlc0RpcmVjdGl2ZSc7XG5pbXBvcnQgJy4vYXV4cGFuZWwvaW5kZXgnO1xuXG5leHBvcnQgKiBmcm9tICcuL21lZGlhL2luZGV4JztcbiIsImltcG9ydCB7IE1haW5SZXNpemVkRXZlbnQsIExheW91dFJlc2l6ZWRFdmVudCB9IGZyb20gJy4uL21lZGlhL0lNZWRpYVNlcnZpY2UnO1xuaW1wb3J0IHsgTWFpbkJyZWFrcG9pbnRTdGF0dXNlcyB9IGZyb20gJy4uL21lZGlhL01lZGlhU2VydmljZSc7XG5cbi8vIEF2b2lkIGRlZmF1bHQgZXhwb3J0XG4oKCkgPT4ge1xuXG5pbnRlcmZhY2UgSUNhcmREaXJlY3RpdmVBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgIG1pbldpZHRoOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgbWluSGVpZ2h0OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgd2lkdGg6IHN0cmluZyB8IG51bWJlcjtcbiAgICBoZWlnaHQ6IHN0cmluZyB8IG51bWJlcjtcbn1cblxuY2xhc3MgQ2FyZERpcmVjdGl2ZUxpbmsge1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLCBcbiAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5LCBcbiAgICAgICAgcHJpdmF0ZSAkYXR0cnM6IElDYXJkRGlyZWN0aXZlQXR0cmlidXRlc1xuICAgICkge1xuICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgLy8gQWRkIGNsYXNzIHRvIHRoZSBlbGVtZW50XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtY2FyZCcpO1xuXG4gICAgICAgIGxldCBsaXN0ZW5lciA9ICgpID0+IHsgdGhpcy5yZXNpemUoKTsgfVxuXG4gICAgICAgIC8vIFJlc2l6ZSBldmVyeSB0aW1lIHdpbmRvdyBpcyByZXNpemVkXG4gICAgICAgICRyb290U2NvcGUuJG9uKE1haW5SZXNpemVkRXZlbnQsIGxpc3RlbmVyKTtcblxuICAgICAgICAvLyBSZXNpemUgcmlnaHQgYXdheSB0byBhdm9pZCBmbGlja2luZ1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuXG4gICAgICAgIC8vIFJlc2l6ZSB0aGUgZWxlbWVudCByaWdodCBhd2F5XG4gICAgICAgIHNldFRpbWVvdXQobGlzdGVuZXIsIDEwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemUoKSB7XG4gICAgICAgIGNvbnN0XG4gICAgICAgICAgICAkbWFpbkJvZHkgPSAkKCcucGlwLW1haW4tYm9keScpLFxuICAgICAgICAgICAgY2FyZENvbnRhaW5lciA9ICQoJy5waXAtY2FyZC1jb250YWluZXInKSxcbiAgICAgICAgICAgIHdpbmRvd1dpZHRoID0gJCgncGlwLW1haW4nKS53aWR0aCgpO1xuICAgICAgICBsZXRcbiAgICAgICAgICAgIG1heFdpZHRoID0gJG1haW5Cb2R5LndpZHRoKCksXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSAkbWFpbkJvZHkuaGVpZ2h0KCksXG4gICAgICAgICAgICBtaW5XaWR0aCA9IHRoaXMuJGF0dHJzLm1pbldpZHRoID8gTWF0aC5mbG9vcihOdW1iZXIodGhpcy4kYXR0cnMubWluV2lkdGgpKSA6IG51bGwsXG4gICAgICAgICAgICBtaW5IZWlnaHQgPSB0aGlzLiRhdHRycy5taW5IZWlnaHQgPyBNYXRoLmZsb29yKE51bWJlcih0aGlzLiRhdHRycy5taW5IZWlnaHQpKSA6IG51bGwsXG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuJGF0dHJzLndpZHRoID8gTWF0aC5mbG9vcihOdW1iZXIodGhpcy4kYXR0cnMud2lkdGgpKSA6IG51bGwsXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLiRhdHRycy5oZWlnaHQgPyBNYXRoLmZsb29yKE51bWJlcih0aGlzLiRhdHRycy5oZWlnaHQpKSA6IG51bGwsXG4gICAgICAgICAgICBsZWZ0LCB0b3A7XG5cbiAgICAgICAgLy8gRnVsbC1zY3JlZW4gb24gcGhvbmVcbiAgICAgICAgaWYgKE1haW5CcmVha3BvaW50U3RhdHVzZXMueHMpIHtcbiAgICAgICAgICAgIG1pbldpZHRoID0gbnVsbDtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB3aWR0aCA9IG51bGw7XG4gICAgICAgICAgICBoZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgbWF4V2lkdGggPSBudWxsO1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXJkIHZpZXcgd2l0aCBhZGp1c3RhYmxlIG1hcmdpbnMgb24gdGFibGV0IGFuZCBkZXNrdG9wXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU2V0IG1hcmdpbiBhbmQgbWF4aW11bSBkaW1lbnNpb25zXG4gICAgICAgICAgICBjb25zdCBzcGFjZSA9IE1haW5CcmVha3BvaW50U3RhdHVzZXNbJ2d0LW1kJ10gPyAyNCA6IDE2O1xuICAgICAgICAgICAgbWF4V2lkdGggLT0gc3BhY2UgKiAyO1xuICAgICAgICAgICAgbWF4SGVpZ2h0IC09IHNwYWNlICogMjtcblxuICAgICAgICAgICAgLy8gU2V0IG1pbmltdW0gZGltZW5zaW9uc1xuICAgICAgICAgICAgbWluV2lkdGggPSBtaW5XaWR0aCA/IE1hdGgubWluKG1pbldpZHRoLCBtYXhXaWR0aCkgOiBudWxsO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbWluSGVpZ2h0ID8gTWF0aC5taW4obWluSGVpZ2h0LCBtYXhIZWlnaHQpIDogbnVsbDtcblxuICAgICAgICAgICAgLy8gU2V0IHJlZ3VsYXIgZGltZW5zaW9uc1xuICAgICAgICAgICAgd2lkdGggPSB3aWR0aCA/IE1hdGgubWluKHdpZHRoLCBtYXhXaWR0aCkgOiBudWxsO1xuICAgICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0ID8gTWF0aC5taW4oaGVpZ2h0LCBtYXhIZWlnaHQpIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkaW1lbnNpb25zXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKCdtYXgtd2lkdGgnLCBtYXhXaWR0aCA/IG1heFdpZHRoICsgJ3B4JyA6ICcnKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ21pbi13aWR0aCcsIG1pbldpZHRoID8gbWluV2lkdGggKyAncHgnIDogJycpO1xuICAgICAgICB0aGlzLiRlbGVtZW50LmNzcygnd2lkdGgnLCB3aWR0aCA/IHdpZHRoICsgJ3B4JyA6ICcnKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ2hlaWdodCcsIGhlaWdodCA/IGhlaWdodCArICdweCcgOiAnJyk7XG5cbiAgICAgICAgaWYgKCFjYXJkQ29udGFpbmVyLmhhc0NsYXNzKCdwaXAtb3V0ZXItc2Nyb2xsJykpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKCdtYXgtaGVpZ2h0JywgbWF4SGVpZ2h0ID8gbWF4SGVpZ2h0ICsgJ3B4JyA6ICcnKTtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKCdtaW4taGVpZ2h0JywgbWluSGVpZ2h0ID8gbWluSGVpZ2h0ICsgJ3B4JyA6ICcnKTtcbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgJGhlYWRlciA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLnBpcC1oZWFkZXI6dmlzaWJsZScpLFxuICAgICAgICAgICAgICAgICRmb290ZXIgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5waXAtZm9vdGVyOnZpc2libGUnKSxcbiAgICAgICAgICAgICAgICAkYm9keSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLnBpcC1ib2R5Jyk7XG4gICAgICAgICAgICBsZXQgbWF4Qm9keUhlaWdodCA9IG1heEhlaWdodCB8fCAkbWFpbkJvZHkuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIGlmICgkaGVhZGVyLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgbWF4Qm9keUhlaWdodCAtPSAkaGVhZGVyLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgaWYgKCRmb290ZXIubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBtYXhCb2R5SGVpZ2h0IC09ICRmb290ZXIub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cbiAgICAgICAgICAgICRib2R5LmNzcygnbWF4LWhlaWdodCcsIG1heEJvZHlIZWlnaHQgKyAncHgnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhcmRDb250YWluZXIuYWRkQ2xhc3MoJ3BpcC1zY3JvbGwnKTtcbiAgICAgICAgICAgIGlmIChNYWluQnJlYWtwb2ludFN0YXR1c2VzLnhzKSB7XG4gICAgICAgICAgICAgICAgbGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgdG9wID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVmdCA9IGNhcmRDb250YWluZXIud2lkdGgoKSAvIDIgLSB0aGlzLiRlbGVtZW50LndpZHRoKCkgLyAyIC0gMTY7XG4gICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgoY2FyZENvbnRhaW5lci5oZWlnaHQoKSAvIDIgLSB0aGlzLiRlbGVtZW50LmhlaWdodCgpIC8gMiAtIDE2LCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ2xlZnQnLCBsZWZ0KTtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnLCB0b3ApO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy4kZWxlbWVudC5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpOyB9LCAxMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90aWZ5IGNoaWxkIGNvbnRyb2xzIHRoYXQgbGF5b3V0IHdhcyByZXNpemVkXG4gICAgICAgIHRoaXMuJHJvb3RTY29wZS4kZW1pdCgncGlwTGF5b3V0UmVzaXplZCcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FyZERpcmVjdGl2ZSgkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSkge1xuICAgIFwibmdJbmplY3RcIjtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBsaW5rOiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSA9PiB7XG4gICAgICAgICAgICBuZXcgQ2FyZERpcmVjdGl2ZUxpbmsoJHJvb3RTY29wZSwgJGVsZW1lbnQsICRhdHRycyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcExheW91dCcpXG4gICAgLmRpcmVjdGl2ZSgncGlwQ2FyZCcsIGNhcmREaXJlY3RpdmUpO1xuXG59KSgpOyIsIi8vIEF2b2lkIGRlZmF1bHQgZXhwb3J0XG4oKCkgPT4ge1xuXG5mdW5jdGlvbiBkaWFsb2dEaXJlY3RpdmUoKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIGxpbms6ICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xuICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1kaWFsb2cnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBMYXlvdXQnKVxuICAgIC5kaXJlY3RpdmUoJ3BpcERpYWxvZycsIGRpYWxvZ0RpcmVjdGl2ZSk7XG5cbn0pKCk7IiwiLy8gQXZvaWQgZGVmYXVsdCBleHBvcnRcbigoKSA9PiB7XG5cbmZ1bmN0aW9uIGRvY3VtZW50RGlyZWN0aXZlKCk6IG5nLklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBKUXVlcnksICRhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcbiAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtZG9jdW1lbnQnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBMYXlvdXQnKVxuICAgIC5kaXJlY3RpdmUoJ3BpcERvY3VtZW50JywgZG9jdW1lbnREaXJlY3RpdmUpO1xuXG59KSgpOyIsImltcG9ydCB7IGFkZFJlc2l6ZUxpc3RlbmVyLCByZW1vdmVSZXNpemVMaXN0ZW5lciB9IGZyb20gJy4uL21lZGlhL1Jlc2l6ZUZ1bmN0aW9ucyc7XG5pbXBvcnQgeyBNYWluUmVzaXplZEV2ZW50IH0gZnJvbSAnLi4vbWVkaWEvSU1lZGlhU2VydmljZSc7XG5pbXBvcnQgeyBNYWluQnJlYWtwb2ludHMsIE1haW5CcmVha3BvaW50U3RhdHVzZXMgfSBmcm9tICcuLi9tZWRpYS9NZWRpYVNlcnZpY2UnO1xuXG4vLyBBdm9pZCBkZWZhdWx0IGV4cG9ydFxuKCgpID0+IHtcblxuICAgIGludGVyZmFjZSBJTWFpbkRpcmVjdGl2ZUF0dHJpYnV0ZXMgZXh0ZW5kcyBuZy5JQXR0cmlidXRlcyB7XG4gICAgICAgIHBpcENvbnRhaW5lcjogc3RyaW5nO1xuICAgIH1cblxuICAgIGNsYXNzIE1haW5EaXJlY3RpdmVDb250cm9sbGVyIGltcGxlbWVudHMgbmcuSUNvbnRyb2xsZXIge1xuICAgICAgICBwcml2YXRlIF9jb250YWluZXI6IGFueTtcblxuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRzY29wZTogbmcuSVNjb3BlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogYW5ndWxhci5JUm9vdEVsZW1lbnRTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGF0dHJzOiBJTWFpbkRpcmVjdGl2ZUF0dHJpYnV0ZXNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBcIm5nSW5qZWN0XCI7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSAkYXR0cnMucGlwQ29udGFpbmVyID8gJCgkYXR0cnMucGlwQ29udGFpbmVyKSA6ICRlbGVtZW50O1xuXG4gICAgICAgICAgICAvLyBBZGQgQ1NTIGNsYXNzXG4gICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLW1haW4nKTtcblxuICAgICAgICAgICAgLy8gQWRkIHJlc2l6ZSBsaXN0ZW5lclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7IHRoaXMucmVzaXplKCk7IH07XG4gICAgICAgICAgICBhZGRSZXNpemVMaXN0ZW5lcih0aGlzLl9jb250YWluZXJbMF0sIGxpc3RlbmVyKTtcblxuICAgICAgICAgICAgLy8gVW5iaW5kIHdoZW4gc2NvcGUgaXMgcmVtb3ZlZFxuICAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlUmVzaXplTGlzdGVuZXIodGhpcy5fY29udGFpbmVyWzBdLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGVyZm9ybSBpbml0aWFsIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCcmVha3BvaW50U3RhdHVzZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQnJlYWtwb2ludFN0YXR1c2VzKCkge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jb250YWluZXIuaW5uZXJXaWR0aCgpO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9ICQoJ2JvZHknKTtcblxuICAgICAgICAgICAgTWFpbkJyZWFrcG9pbnRTdGF0dXNlcy51cGRhdGUoTWFpbkJyZWFrcG9pbnRzLCB3aWR0aCk7XG5cbiAgICAgICAgICAgICQuZWFjaChNYWluQnJlYWtwb2ludFN0YXR1c2VzLCAoYnJlYWtwb2ludCwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNCb29sZWFuKHN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keVtzdGF0dXMgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ3BpcC0nICsgYnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSByZXNpemUoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJyZWFrcG9pbnRTdGF0dXNlcygpO1xuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRlbWl0KE1haW5SZXNpemVkRXZlbnQsIE1haW5CcmVha3BvaW50U3RhdHVzZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xhc3MgTWFpbkJvZHlEaXJlY3RpdmVMaW5rIHtcbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICAgICAkZWxlbWVudDogYW5ndWxhci5JUm9vdEVsZW1lbnRTZXJ2aWNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgICAgICAgICAgLy8gQWRkIENTUyBjbGFzc1xuICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1tYWluLWJvZHknKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW5EaXJlY3RpdmUoKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogTWFpbkRpcmVjdGl2ZUNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW5Cb2R5RGlyZWN0aXZlKCk6IG5nLklEaXJlY3RpdmUge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIGxpbms6IE1haW5Cb2R5RGlyZWN0aXZlTGlua1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdwaXBMYXlvdXQnKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBNYWluJywgbWFpbkRpcmVjdGl2ZSlcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwTWFpbkJvZHknLCBtYWluQm9keURpcmVjdGl2ZSk7XG5cbn0pKCk7IiwiKCgpID0+IHtcblxuICAgIGZ1bmN0aW9uIHNpbXBsZURpcmVjdGl2ZSgpOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICBsaW5rOiAoJHNjb3BlOiBuZy5JU2NvcGUsICRlbGVtZW50OiBKUXVlcnksICRhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLXNpbXBsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwTGF5b3V0JylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwU2ltcGxlJywgc2ltcGxlRGlyZWN0aXZlKTtcblxufSkoKTsiLCJpbXBvcnQgeyBhZGRSZXNpemVMaXN0ZW5lciwgcmVtb3ZlUmVzaXplTGlzdGVuZXIgfSBmcm9tICcuLi9tZWRpYS9SZXNpemVGdW5jdGlvbnMnO1xuaW1wb3J0IHsgTWFpblJlc2l6ZWRFdmVudCwgTGF5b3V0UmVzaXplZEV2ZW50IH0gZnJvbSAnLi4vbWVkaWEvSU1lZGlhU2VydmljZSc7XG5pbXBvcnQgeyBNYWluQnJlYWtwb2ludHMsIE1haW5CcmVha3BvaW50U3RhdHVzZXMgfSBmcm9tICcuLi9tZWRpYS9NZWRpYVNlcnZpY2UnO1xuXG5kZWNsYXJlIHZhciBNYXNvbnJ5OiBhbnk7XG5cbmludGVyZmFjZSBJVGlsZXNEaXJlY3RpdmVBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgIGNvbHVtbldpZHRoOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgcGlwSW5maW5pdGU6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXI7XG59XG5cbmNsYXNzIFRpbGVzT3B0aW9ucyB7XG4gICAgZ3V0dGVyOiBudW1iZXI7XG4gICAgaXNGaXRXaWR0aDogYm9vbGVhbjtcbiAgICBpc1Jlc2l6ZUJvdW5kOiBib29sZWFuO1xuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgSVRpbGVzQ29udHJvbGxlclNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcbiAgICB0aWxlc09wdGlvbnM6IFRpbGVzT3B0aW9ucztcbn1cblxuY2xhc3MgVGlsZXNEaXJlY3RpdmVMaW5rIHtcbiAgICBwcml2YXRlIF9jb2x1bW5XaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2NvbnRhaW5lcjogYW55O1xuXHRwcml2YXRlIF9oZWFkaW5nOiBhbnk7XG4gICAgcHJpdmF0ZSBfcHJldkNvbnRhaW5lcldpZHRoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfbWFzb25yeTogYW55O1xuICAgIHByaXZhdGUgX3NpemVyOiBhbnk7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgICRzY29wZTogbmcuSVNjb3BlLFxuICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgIHByaXZhdGUgJGF0dHJzOiBJVGlsZXNEaXJlY3RpdmVBdHRyaWJ1dGVzLFxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgdGhpcy5fY29sdW1uV2lkdGggPSAkYXR0cnMuY29sdW1uV2lkdGggPyBNYXRoLmZsb29yKE51bWJlcigkYXR0cnMuY29sdW1uV2lkdGgpKSA6IDQ0MDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gJGVsZW1lbnQuY2hpbGRyZW4oJy5waXAtdGlsZXMtY29udGFpbmVyJyk7XG5cdFx0dGhpcy5faGVhZGluZyA9ICQoJGVsZW1lbnQuY2hpbGRyZW4oJy5waXAtdGlsZXMtaGVhZGluZycpWzBdKTtcbiAgICAgICAgdGhpcy5fcHJldkNvbnRhaW5lcldpZHRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzb25yeSA9IE1hc29ucnkuZGF0YSh0aGlzLl9jb250YWluZXJbMF0pO1xuXG4gICAgICAgIC8vIEFkZCBjbGFzcyB0byB0aGUgZWxlbWVudFxuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLXRpbGVzJyk7XG5cbiAgICAgICAgLy8gQWRkIHJlc2l6ZSBsaXN0ZW5lclxuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHsgdGhpcy5yZXNpemUoZmFsc2UpOyB9O1xuICAgICAgICBhZGRSZXNpemVMaXN0ZW5lcigkZWxlbWVudFswXSwgbGlzdGVuZXIpO1xuXG4gICAgICAgIC8vIFVuYmluZCB3aGVuIHNjb3BlIGlzIHJlbW92ZWRcbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVSZXNpemVMaXN0ZW5lcigkZWxlbWVudFswXSwgbGlzdGVuZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJbnNlcnQgc2l6ZXJcbiAgICAgICAgdGhpcy5fc2l6ZXIgPSAkKCc8ZGl2IGNsYXNzPVwicGlwLXRpbGUtc2l6ZXJcIj48L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5fc2l6ZXIuYXBwZW5kVG8odGhpcy5fY29udGFpbmVyKTtcblxuICAgICAgICAvLyBSZXNpemUgZXZlcnkgdGltZSB3aW5kb3cgaXMgcmVzaXplZFxuICAgICAgICAkcm9vdFNjb3BlLiRvbihNYWluUmVzaXplZEV2ZW50LCAoKSA9PiB7IHRoaXMucmVzaXplKGZhbHNlKTsgfSk7XG5cbiAgICAgICAgLy8gUmVzaXplIHRoZSBlbGVtZW50IHJpZ2h0IGF3YXlcbiAgICAgICAgdGhpcy5yZXNpemUodHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemUoZm9yY2U6IGJvb2xlYW4pIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy4kZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpLFxuICAgICAgICAgICAgY29udGFpbmVyV2lkdGg7XG5cbiAgICAgICAgaWYgKE1haW5CcmVha3BvaW50U3RhdHVzZXNbJ2d0LXhzJ10gJiYgKHdpZHRoIC0gMzYpID4gdGhpcy5fY29sdW1uV2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoID0gd2lkdGggLSAyNCAqIDI7XG5cbiAgICAgICAgICAgIGxldCBjb2x1bW5zID0gTWF0aC5mbG9vcih3aWR0aCAvIHRoaXMuX2NvbHVtbldpZHRoKTtcbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gKHRoaXMuX2NvbHVtbldpZHRoICsgMTYpICogY29sdW1ucyAtIDE2O1xuXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyV2lkdGggPiB3aWR0aCkge1xuICAgICAgICAgICAgICAgIGNvbHVtbnMtLTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJXaWR0aCA9ICh0aGlzLl9jb2x1bW5XaWR0aCArIDE2KSAqIGNvbHVtbnMgLSAxNjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbHVtbnMgPCAxKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplci5jc3MoJ3dpZHRoJywgY29udGFpbmVyV2lkdGggKyAncHgnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZXIuY3NzKCd3aWR0aCcsIHRoaXMuX2NvbHVtbldpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICsxMCB0byBhdm9pZCBwcmVjaXNpb24gcmVsYXRlZCBlcnJvclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNzcygnd2lkdGgnLCAoY29udGFpbmVyV2lkdGggKyAxMCkgKyAncHgnKTtcblx0XHRcdGlmICh0aGlzLl9oZWFkaW5nKSB7XG5cdFx0XHRcdHRoaXMuX2hlYWRpbmcuY3NzKCd3aWR0aCcsIChjb250YWluZXJXaWR0aCArIDEwKSArICdweCcpO1xuXHRcdFx0fVxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnJlbW92ZUNsYXNzKCdwaXAtbW9iaWxlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCA9IHdpZHRoIC0gMTYgKiAyO1xuICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSB3aWR0aDtcblxuICAgICAgICAgICAgdGhpcy5fc2l6ZXIuY3NzKCd3aWR0aCcsIGNvbnRhaW5lcldpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICAvLyArMTAgdG8gYXZvaWQgcHJlY2lzaW9uIHJlbGF0ZWQgZXJyb3JcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jc3MoJ3dpZHRoJywgKGNvbnRhaW5lcldpZHRoICsgMTApICsgJ3B4Jyk7XG5cdFx0XHRpZiAodGhpcy5faGVhZGluZykge1xuXHRcdFx0XHR0aGlzLl9oZWFkaW5nLmNzcygnd2lkdGgnLCAoY29udGFpbmVyV2lkdGggKyAxMCkgKyAncHgnKTtcblx0XHRcdH1cbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDbGFzcygncGlwLW1vYmlsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFudWFsbHkgY2FsbCBsYXlvdXQgb24gdGlsZSBjb250YWluZXJcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZDb250YWluZXJXaWR0aCAhPSBjb250YWluZXJXaWR0aCB8fCBmb3JjZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldkNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9tYXNvbnJ5LmxheW91dCgpO1xuXG4gICAgICAgICAgICAvLyBOb3RpZnkgY2hpbGQgY29udHJvbHMgdGhhdCBsYXlvdXQgd2FzIHJlc2l6ZWRcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kZW1pdChMYXlvdXRSZXNpemVkRXZlbnQsIGNvbnRhaW5lcldpZHRoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gdGlsZXNEaXJlY3RpdmUoJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UpOiBuZy5JRGlyZWN0aXZlIHtcbiAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAvLyBDb252ZXJ0cyB2YWx1ZSBpbnRvIGJvb2xlYW5cbiAgICBmdW5jdGlvbiBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdmFsdWUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PSAnMScgfHwgdmFsdWUgPT0gJ3RydWUnO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBzY29wZToge1xuXHRcdFx0Z3V0dGVyOiAnPSdcblx0XHR9LFxuICAgICAgICB0cmFuc2NsdWRlOiB7XG4gICAgICAgICAgICAnaGVhZGluZyc6ICc/cGlwVGlsZXNIZWFkaW5nJ1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTpcbiAgICAgICAgKCRlbGVtZW50OiBKUXVlcnksICRhdHRyczogSVRpbGVzRGlyZWN0aXZlQXR0cmlidXRlcykgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbnZlcnRUb0Jvb2xlYW4oJGF0dHJzLnBpcEluZmluaXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICArICc8ZGl2IGNsYXNzPVwicGlwLXRpbGVzLWhlYWRpbmdcIiBuZy10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPjwvZGl2PidcbiAgICAgICAgICAgICAgICAgICAgKyAnPGRpdiBtYXNvbnJ5IGNsYXNzPVwicGlwLXRpbGVzLWNvbnRhaW5lclwiIGxvYWQtaW1hZ2VzPVwiZmFsc2VcIiBwcmVzZXJ2ZS1vcmRlciAgJ1xuICAgICAgICAgICAgICAgICAgICArICcgbmctdHJhbnNjbHVkZSBjb2x1bW4td2lkdGg9XCIucGlwLXRpbGUtc2l6ZXJcIiBpdGVtLXNlbGVjdG9yPVwiLnBpcC10aWxlXCInXG4gICAgICAgICAgICAgICAgICAgICsgJyBtYXNvbnJ5LW9wdGlvbnM9XCJ0aWxlc09wdGlvbnNcIiAgcGlwLXNjcm9sbC1jb250YWluZXI9XCJcXCcucGlwLXRpbGVzXFwnXCInXG4gICAgICAgICAgICAgICAgICAgICsgJyBwaXAtaW5maW5pdGUtc2Nyb2xsPVwicmVhZFNjcm9sbCgpXCIgPidcbiAgICAgICAgICAgICAgICAgICAgKyAnPC9kaXY+JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZygpXG5cdFx0XHRcdFx0KyAnPGRpdiBjbGFzcz1cInBpcC10aWxlcy1oZWFkaW5nXCIgbmctdHJhbnNjbHVkZT1cImhlYWRpbmdcIj48L2Rpdj4nXG4gICAgICAgICAgICAgICAgICAgICsgJzxkaXYgbWFzb25yeSBjbGFzcz1cInBpcC10aWxlcy1jb250YWluZXJcIiBsb2FkLWltYWdlcz1cImZhbHNlXCIgcHJlc2VydmUtb3JkZXIgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnIG5nLXRyYW5zY2x1ZGUgY29sdW1uLXdpZHRoPVwiLnBpcC10aWxlLXNpemVyXCIgaXRlbS1zZWxlY3Rvcj1cIi5waXAtdGlsZVwiJ1xuICAgICAgICAgICAgICAgICAgICArICcgbWFzb25yeS1vcHRpb25zPVwidGlsZXNPcHRpb25zXCI+J1xuICAgICAgICAgICAgICAgICAgICArICc8L2Rpdj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiAoJHNjb3BlOiBJVGlsZXNDb250cm9sbGVyU2NvcGUpID0+IHtcbiAgICAgICAgICAgICRzY29wZS50aWxlc09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgZ3V0dGVyOiAkc2NvcGUuZ3V0dGVyIHx8IDgsLy8xNlxuICAgICAgICAgICAgICAgIGlzRml0V2lkdGg6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzUmVzaXplQm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCAvLyAnMC4ycydcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6ICgkc2NvcGU6IG5nLklTY29wZSwgJGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBJVGlsZXNEaXJlY3RpdmVBdHRyaWJ1dGVzKSA9PiB7XG4gICAgICAgICAgICBuZXcgVGlsZXNEaXJlY3RpdmVMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHJvb3RTY29wZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwTGF5b3V0JylcbiAgICAuZGlyZWN0aXZlKCdwaXBUaWxlcycsIHRpbGVzRGlyZWN0aXZlKTtcbiIsImV4cG9ydCBjb25zdCBNYWluUmVzaXplZEV2ZW50ID0gJ3BpcE1haW5SZXNpemVkJztcbmV4cG9ydCBjb25zdCBMYXlvdXRSZXNpemVkRXZlbnQgPSAncGlwTGF5b3V0UmVzaXplZCc7XG5cbmV4cG9ydCBjbGFzcyBNZWRpYUJyZWFrcG9pbnRzIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIHhzOiBudW1iZXIsIHNtOiBudW1iZXIsIG1kOiBudW1iZXIsIGxnOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy54cyA9IHhzO1xuICAgICAgICB0aGlzLnNtID0gc207XG4gICAgICAgIHRoaXMubWQgPSBtZDtcbiAgICAgICAgdGhpcy5sZyA9IGxnO1xuICAgIH1cblxuICAgIHB1YmxpYyB4czogbnVtYmVyO1xuICAgIHB1YmxpYyBzbTogbnVtYmVyO1xuICAgIHB1YmxpYyBtZDogbnVtYmVyO1xuICAgIHB1YmxpYyBsZzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgTWVkaWFCcmVha3BvaW50U3RhdHVzZXMge1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyAneHMnOiBib29sZWFuO1xuICAgIHB1YmxpYyAnZ3QteHMnOiBib29sZWFuO1xuICAgIHB1YmxpYyAnc20nOiBib29sZWFuO1xuICAgIHB1YmxpYyAnZ3Qtc20nOiBib29sZWFuO1xuICAgIHB1YmxpYyAnbWQnOiBib29sZWFuO1xuICAgIHB1YmxpYyAnZ3QtbWQnOiBib29sZWFuO1xuICAgIHB1YmxpYyAnbGcnOiBib29sZWFuO1xuICAgIHB1YmxpYyAnZ3QtbGcnOiBib29sZWFuO1xuICAgIHB1YmxpYyAneGwnOiBib29sZWFuO1xuXG4gICAgcHVibGljIHVwZGF0ZShicmVha3BvaW50czogTWVkaWFCcmVha3BvaW50cywgd2lkdGg6IG51bWJlcikge1xuICAgICAgICBpZiAoYnJlYWtwb2ludHMgPT0gbnVsbCB8fCB3aWR0aCA9PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzWyd4cyddID0gd2lkdGggPD0gYnJlYWtwb2ludHMueHM7XG4gICAgICAgIHRoaXNbJ2d0LXhzJ10gPSB3aWR0aCA+IGJyZWFrcG9pbnRzLnhzO1xuICAgICAgICB0aGlzWydzbSddID0gd2lkdGggPiBicmVha3BvaW50cy54cyAmJiB3aWR0aCA8PSBicmVha3BvaW50cy5zbTtcbiAgICAgICAgdGhpc1snZ3Qtc20nXSA9IHdpZHRoID4gYnJlYWtwb2ludHMuc207XG4gICAgICAgIHRoaXNbJ21kJ10gPSB3aWR0aCA+IGJyZWFrcG9pbnRzLnNtICYmIHdpZHRoIDw9IGJyZWFrcG9pbnRzLm1kO1xuICAgICAgICB0aGlzWydndC1tZCddID0gd2lkdGggPiBicmVha3BvaW50cy5tZDtcbiAgICAgICAgdGhpc1snbGcnXSA9IHdpZHRoID4gYnJlYWtwb2ludHMubWQgJiYgd2lkdGggPD0gYnJlYWtwb2ludHMubGc7XG4gICAgICAgIHRoaXNbJ2d0LWxnJ10gPSB3aWR0aCA+IGJyZWFrcG9pbnRzLmxnO1xuICAgICAgICB0aGlzWyd4bCddID0gdGhpc1snZ3QtbGcnXTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1lZGlhU2VydmljZSB7XG4gICAgKGJyZWFrcG9pbnQ6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgYnJlYWtwb2ludHM6IE1lZGlhQnJlYWtwb2ludHM7XG4gICAgd2lkdGg6IG51bWJlcjtcbn0gXG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1lZGlhUHJvdmlkZXIgZXh0ZW5kcyBuZy5JU2VydmljZVByb3ZpZGVyIHtcbiAgICBicmVha3BvaW50czogTWVkaWFCcmVha3BvaW50cztcbn0iLCJpbXBvcnQgeyBNZWRpYUJyZWFrcG9pbnRzLCBNZWRpYUJyZWFrcG9pbnRTdGF0dXNlcyB9IGZyb20gJy4vSU1lZGlhU2VydmljZSc7XG5pbXBvcnQgeyBJTWVkaWFQcm92aWRlciB9IGZyb20gJy4vSU1lZGlhU2VydmljZSc7XG5cbmV4cG9ydCBsZXQgTWFpbkJyZWFrcG9pbnRzID0gbmV3IE1lZGlhQnJlYWtwb2ludHMoNjM5LCA3MTYsIDEwMjQsIDE0MzkpO1xuZXhwb3J0IGNvbnN0IE1haW5CcmVha3BvaW50U3RhdHVzZXMgPSBuZXcgTWVkaWFCcmVha3BvaW50U3RhdHVzZXMoKTtcblxuY2xhc3MgTWVkaWFQcm92aWRlciBpbXBsZW1lbnRzIElNZWRpYVByb3ZpZGVyIHtcbiAgICBwdWJsaWMgZ2V0IGJyZWFrcG9pbnRzKCk6IE1lZGlhQnJlYWtwb2ludHMge1xuICAgICAgICByZXR1cm4gTWFpbkJyZWFrcG9pbnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgYnJlYWtwb2ludHModmFsdWU6IE1lZGlhQnJlYWtwb2ludHMpIHtcbiAgICAgICAgTWFpbkJyZWFrcG9pbnRzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljICRnZXQoKSB7XG4gICAgICAgIGNvbnN0IHNlcnZpY2UgPSAoc2l6ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE1haW5CcmVha3BvaW50U3RhdHVzZXNbc2l6ZV07XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VydmljZSwgJ2JyZWFrcG9pbnRzJywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IHJldHVybiBNYWluQnJlYWtwb2ludHM7IH0sXG4gICAgICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4geyBcbiAgICAgICAgICAgICAgICBNYWluQnJlYWtwb2ludHMgPSB2YWx1ZSB8fCBuZXcgTWVkaWFCcmVha3BvaW50cyg2MzksIDcxNiwgMTAyNCwgMTQzOSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgTWFpbkJyZWFrcG9pbnRTdGF0dXNlcy51cGRhdGUoXG4gICAgICAgICAgICAgICAgICAgIE1haW5CcmVha3BvaW50cywgXG4gICAgICAgICAgICAgICAgICAgIE1haW5CcmVha3BvaW50U3RhdHVzZXMud2lkdGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VydmljZSwgJ3dpZHRoJywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IFxuICAgICAgICAgICAgICAgIHJldHVybiBNYWluQnJlYWtwb2ludFN0YXR1c2VzLndpZHRoOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7IFxuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcE1lZGlhJylcbiAgICAucHJvdmlkZXIoJ3BpcE1lZGlhJywgTWVkaWFQcm92aWRlcik7XG4iLCJsZXQgYXR0YWNoRXZlbnQgPSAoPGFueT5kb2N1bWVudCkuYXR0YWNoRXZlbnQ7XG5sZXQgaXNJRSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnQvKTtcblxuZnVuY3Rpb24gcmVxdWVzdEZyYW1lKGNhbGxiYWNrKTogYW55IHtcbiAgICAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgIGxldCBmcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgfHwgKDxhbnk+d2luZG93KS5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgfHwgKDxhbnk+d2luZG93KS53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDIwKTtcbiAgICAgICAgfTtcblxuICAgIHJldHVybiBmcmFtZShjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbEZyYW1lKCk6IGFueSB7XG4gICAgICAgICAgIFwibmdJbmplY3RcIjtcbiAgICBsZXQgY2FuY2VsID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gICAgICAgIHx8ICg8YW55PndpbmRvdykubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgICAgICAgfHwgKDxhbnk+d2luZG93KS53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZVxuICAgICAgICB8fCB3aW5kb3cuY2xlYXJUaW1lb3V0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gY2FuY2VsKGlkKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiByZXNpemVMaXN0ZW5lcihldmVudDogYW55KTogdm9pZCB7XG4gICAgY29uc3Qgd2luID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQ7XG4gICAgaWYgKHdpbi5fX3Jlc2l6ZVJBRl9fKSBjYW5jZWxGcmFtZSgvKndpbi5fX3Jlc2l6ZVJBRl9fKi8pO1xuICAgIHdpbi5fX3Jlc2l6ZVJBRl9fID0gcmVxdWVzdEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IHdpbi5fX3Jlc2l6ZVRyaWdnZXJfXztcbiAgICAgICAgdHJpZ2dlci5fX3Jlc2l6ZUxpc3RlbmVyc19fLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRyaWdnZXIsIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRMaXN0ZW5lcihldmVudDogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgIHRoaXMuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3Ll9fcmVzaXplVHJpZ2dlcl9fID0gdGhpcy5fX3Jlc2l6ZUVsZW1lbnRfXztcbiAgICAgICAgdGhpcy5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplTGlzdGVuZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlc2l6ZUxpc3RlbmVyKGVsZW1lbnQsIGxpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgICAgIFwibmdJbmplY3RcIjtcbiAgICBpZiAoIWVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXykge1xuICAgICAgICBlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18gPSBbXTtcbiAgICAgICAgaWYgKGF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcl9fID0gZWxlbWVudDtcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVzaXplJywgcmVzaXplTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT0gJ3N0YXRpYycpIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgY29uc3Qgb2JqOiBhbnkgPSBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcl9fID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2JqZWN0Jyk7XG4gICAgICAgICAgICBvYmouc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IGhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7IG92ZXJmbG93OiBoaWRkZW47IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnKTtcbiAgICAgICAgICAgIG9iai5fX3Jlc2l6ZUVsZW1lbnRfXyA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBvYmoub25sb2FkID0gbG9hZExpc3RlbmVyO1xuICAgICAgICAgICAgb2JqLnR5cGUgPSAndGV4dC9odG1sJztcbiAgICAgICAgICAgIGlmIChpc0lFKSBlbGVtZW50LmFwcGVuZENoaWxkKG9iaik7XG4gICAgICAgICAgICBvYmouZGF0YSA9ICdhYm91dDpibGFuayc7XG4gICAgICAgICAgICBpZiAoIWlzSUUpIGVsZW1lbnQuYXBwZW5kQ2hpbGQob2JqKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5wdXNoKGxpc3RlbmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVJlc2l6ZUxpc3RlbmVyKGVsZW1lbnQsIGxpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgICAgIFwibmdJbmplY3RcIjtcbiAgICBpZiAobGlzdGVuZXIpIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5zcGxpY2UoZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcbiAgICBpZiAoIWVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGF0dGFjaEV2ZW50KSBlbGVtZW50LmRldGFjaEV2ZW50KCdvbnJlc2l6ZScsIHJlc2l6ZUxpc3RlbmVyKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJfXy5jb250ZW50RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcl9fLmNvbnRlbnREb2N1bWVudC5kZWZhdWx0Vmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJfXyA9ICFlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuX19yZXNpemVUcmlnZ2VyX18pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiYW5ndWxhci5tb2R1bGUoJ3BpcE1lZGlhJywgW10pO1xuXG5pbXBvcnQgJy4vTWVkaWFTZXJ2aWNlJztcbmltcG9ydCAnLi9SZXNpemVGdW5jdGlvbnMnO1xuXG5leHBvcnQgKiBmcm9tICcuL0lNZWRpYVNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9NZWRpYVNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9SZXNpemVGdW5jdGlvbnMnOyJdfQ=="}